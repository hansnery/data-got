;------------------------------------------------------------------------------
; aka Overseer, IsengardOverseer,
Object WildMuzgash
	Scale  = 1.5 ;2.0  ;0.98
  ; *** ART Parameters ***

  ; This is required for garrisoned objects - please put in all objects.
	ButtonImage		= UIMMMuzgash
	SelectPortrait		= UPMMMuzgash
  DescriptionStrategic = CONTROLBAR:LW_ToolTip_Azog


  Draw = W3DScriptedModelDraw ModuleTag_01

	  OkToChangeModelColor = Yes

	    DefaultModelConditionState
		Model 		= wuNmuzgash_skn ;wumuzgash_skn
		Skeleton	= DUPhalanx_SKL
	    End

		ModelConditionState = USER_1 ;;,;; Added
			ParticleSysBone = NONE AzogFury FollowBone:Yes
		End

		ModelConditionState = WEAPONSET_HERO_MODE
			Model 		= wuNmuzgash_skn ;wumuzgash_skn
			Skeleton	= DUPhalanx_SKL
		End

		;;//=============== ANIMATIONS ===============================================================

		;;//======= FALLING & FLYING
		AnimationState						= PASSENGER
			Animation						= Grabbed
				AnimationName				= DUPhalanx_FLLA
				AnimationMode				= LOOP
			End
		End
		AnimationState        				= THROWN_PROJECTILE
			Animation           			= FlyA
				AnimationName      	 		= DUPhalanx_FLYA
				AnimationMode       		= LOOP
			End
			Animation           			= FlyB
				AnimationName      	 		= DUPhalanx_FLYB
				AnimationMode       		= LOOP
			End
			Animation           			= FlyC
				AnimationName      	 		= DUPhalanx_FLYC
				AnimationMode       		= LOOP
			End
			Flags               			= RANDOMSTART
		End

		AnimationState						= FREEFALL
			Animation						= Falling
				AnimationName				= DUPhalanx_FLYA
				AnimationMode				= LOOP
				AnimationBlendTime			= 10
			End
			Animation           			= FlyB
				AnimationName      	 		= DUPhalanx_FLYB
				AnimationMode       		= LOOP
				AnimationBlendTime			= 10
			End
			Animation           			= FlyC
				AnimationName      	 		= DUPhalanx_FLYC
				AnimationMode       		= LOOP
				AnimationBlendTime			= 10
			End
		End



;------special pikeman porcupine formation animations-----------------------------------

	AnimationState = ALTERNATE_FORMATION FIRING_OR_PREATTACK_A
	 	Animation = ATKA
			AnimationName		= DUPhalanx_ATKA
			AnimationMode		= LOOP
			UseWeaponTiming		= Yes
		End
	 	Animation = ATKB
			AnimationName		= DUPhalanx_ATKD
			AnimationMode		= LOOP
			UseWeaponTiming		= Yes
		End
	 	Animation = ATKC
			AnimationName		= DUPhalanx_ATKC
			AnimationMode		= LOOP
			UseWeaponTiming		= Yes
		End
	End

	AnimationState = ALTERNATE_FORMATION FIRING_OR_PREATTACK_A WEAPONSTATE_CLOSE_RANGE ;TEMP
		Animation = ATKC
			AnimationName		= DUPhalanx_ATKA
			AnimationMode		= ONCE
			UseWeaponTiming		= Yes
		End
		Animation = ATKB
			AnimationName		= DUPhalanx_ATKD
			AnimationMode		= ONCE
			UseWeaponTiming		= Yes
		End
		Animation = ATKC
			AnimationName		= DUPhalanx_ATKC
			AnimationMode		= ONCE
			UseWeaponTiming		= Yes
		End
		StateName = PikeUp
	End

    AnimationState = ALTERNATE_FORMATION MOVING BACKING_UP
		Animation = Moving_BackA
			AnimationName = DUPhalanx_BAKA
		    AnimationMode = LOOP
		End
		Animation = Moving_BackB
			AnimationName = DUPhalanx_BAKB
		    AnimationMode = LOOP
		End
		Animation = Moving_BackC
			AnimationName = DUPhalanx_BAKC
		    AnimationMode = LOOP
		End
    End

	AnimationState = ALTERNATE_FORMATION MOVING
	 	Animation = ATKC
			AnimationName		= DUPhalanx_RUND
			AnimationMode		= LOOP
		End
	End

	    AnimationState = ALTERNATE_FORMATION STUNNED_FLAILING
 		Animation = Flying_1A
			AnimationName = DUPhalanx_FLYA
			AnimationMode = LOOP
		End
 		Animation = Flying_1B
			AnimationName = DUPhalanx_FLYB
			AnimationMode = LOOP
		End
 		Animation = Flying_1C
			AnimationName = DUPhalanx_FLYC
			AnimationMode = LOOP
		End
		Flags							= MAINTAIN_FRAME_ACROSS_STATES2
    End


	AnimationState						= DYING BURNINGDEATH
		Animation
			AnimationName				= DUPhalanx_DIEA
			AnimationMode				= ONCE
			AnimationBlendTime			= 10
		End
		Animation
			AnimationName				= DUPhalanx_DIEB
			AnimationMode				= ONCE
			AnimationBlendTime			= 10
		End
		Animation
			AnimationName				= DUPhalanx_DIEC
			AnimationMode				= ONCE
			AnimationBlendTime			= 10
		End
	End

	AnimationState						= ALTERNATE_FORMATION DYING SPLATTED
 		Animation						= Splat
			AnimationName				= DUPhalanx_LNDA
			AnimationMode				= ONCE
		End
    End

     AnimationState = ALTERNATE_FORMATION DYING AFLAME
		Animation = Flaming_Death
			AnimationName = DUPhalanx_MFDA
		    AnimationMode = ONCE
		End
    End

    AnimationState =  ALTERNATE_FORMATION DYING
		Animation = Dying_1A
			AnimationName = DUPhalanx_DIEA
			AnimationMode = ONCE
		End
		Animation = Dying_1B
			AnimationName = DUPhalanx_DIEB
			AnimationMode = ONCE
		End
		Animation = Dying_1C
			AnimationName = DUPhalanx_DIEC
			AnimationMode = ONCE
		End
    End

    ; --- stunned anims
    AnimationState = ALTERNATE_FORMATION STUNNED_STANDING_UP
 		Animation = Standing_Back_Up
			AnimationName = DUPhalanx_GTPA
			AnimationMode = ONCE
			AnimationSpeedFactorRange = 1.5 1.5
		End
    End


    AnimationState = ALTERNATE_FORMATION STUNNED
 		Animation = Splattered_On_Ground
			AnimationName = DUPhalanx_LNDA
			AnimationMode = ONCE
		End
    End

	 AnimationState = ALTERNATE_FORMATION PORCUPINE
	 	Animation = ATKC
			AnimationName		= DUPhalanx_PLTB
			AnimationMode		= LOOP
		End
		StateName = STATE_Planted
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev ~= "STATE_Planted"	and Prev ~= "Trans_Up_To_Down" then CurDrawableSetTransitionAnimState("Trans_Up_To_Down") return end
		EndScript
	End


	 AnimationState = ALTERNATE_FORMATION
	 	Animation = ATKC
			AnimationName		= DUPhalanx_PLTB
			AnimationMode		= LOOP
		End
	End


 ;--------------------normal animations---------------------------

		AnimationState        				= STUNNED_FLAILING
			Animation           			= FlyA
				AnimationName       		= DUPhalanx_FLYA
				AnimationMode       		= LOOP
			End
			Animation           			= FlyB
				AnimationName       		= DUPhalanx_FLYB
				AnimationMode       		= LOOP
			End
			Animation           			= FlyC
				AnimationName       		= DUPhalanx_FLYC
				AnimationMode       		= LOOP
			End
			Flags               			= RANDOMSTART
		End

		AnimationState 						= DYING SPLATTED
			Animation 						= Splatted_On_Ground
				AnimationName 				= DUPhalanx_LNDA
				AnimationMode 				= ONCE
			End
			EnteringStateFX					= FX_OrcHitGround
		End

		AnimationState        				= DYING DEATH_2				; fading out.
			Animation
				AnimationName				= DUPhalanx_IDLB
				AnimationMode				= LOOP
			End
		End

		AnimationState						= DYING
			Animation						= DIEB
				AnimationName				= DUPhalanx_DIEA
				AnimationMode				= ONCE
			End
			Animation						= DIEB
				AnimationName				= DUPhalanx_DIEB
				AnimationMode				= ONCE
			End
			Animation						= DIEB
				AnimationName				= DUPhalanx_DIEC
				AnimationMode				= ONCE
			End
		End

		AnimationState						= BURNINGDEATH
			Animation
				AnimationName				= DUPhalanx_MFDA
				AnimationMode				= LOOP
				Distance					= 35
			End
		End

		AnimationState						= PARALYZED
			Animation
				AnimationName				= DUPhalanx_IDLA
				AnimationMode				= LOOP
			End
		End


		;;//======= LANDING & STANDING
		AnimationState						= STUNNED_STANDING_UP
			Animation						= GTPA
				AnimationName				= DUPhalanx_GTPA
				AnimationMode				= ONCE
				AnimationSpeedFactorRange = 1.5 1.5
			End
		End

		AnimationState			= STUNNED
			Animation			= Slatted_On_Ground
				AnimationName	= DUPhalanx_LNDA
				AnimationMode 	= ONCE
			End
			EnteringStateFX		= FX_OrcHitGround
		End

		;// --- Stunned anims
		AnimationState        = STUNNED_STANDING_UP
			Animation           = Stunned_Standing_Up
				AnimationName     = DUPhalanx_GTPA
				AnimationMode     = ONCE
				AnimationSpeedFactorRange = 1.3 1.3
			End
		End

		;;//====== TERROR
		AnimationState						= MOVING EMOTION_TERROR
			;//@@@KM Add distance
			Animation						= TerrorFromTheSky
				AnimationName				= DUPhalanx_MFDA
				AnimationMode				= ONCE
			End
			Flags							= RESTART_ANIM_WHEN_COMPLETE
		End

		;//;======= BACK UP
		AnimationState						= MOVING BACKING_UP
			;//@@@KM Add distance
			Animation						= BAKA
				AnimationName				= DUPhalanx_BAKA
				AnimationMode				= LOOP
			End
			Animation						= BAKB
				AnimationName				= DUPhalanx_BAKB
				AnimationMode				= LOOP
			End
			Animation						= BAKC
				AnimationName				= DUPhalanx_BAKC
				AnimationMode				= LOOP
			End
			Flags = RANDOMSTART
		End

		AnimationState						= MOVING ATTACKING
			ShareAnimation					= Yes;
			Animation						= RUNA
				AnimationName				= DUPhalanx_RUNB
				AnimationMode				= LOOP
				; Distance					= 25
			End
			Flags							= RANDOMSTART
			;//ParticleSysBone				= None InfantryDustTrails
		End

		AnimationState						= MOVING
			;//@@@KM - Add Distance
			ShareAnimation					= Yes;
			Animation						= RUNB
				AnimationName				= DUPhalanx_RUNA
				AnimationMode				= LOOP
				;Distance					= 30
			End
			Flags							= RANDOMSTART
			;//ParticleSysBone				= None InfantryDustTrails
		End
	;;//======= UNCONTROLLABLY AFRAID
	;// This is before Attacking so it overrides it.  Normal fear is below so you don't go to little-fear in between swings.
		AnimationState						= EMOTION_UNCONTROLLABLY_AFRAID
			Animation						= FERA
				AnimationName				= DUPhalanx_FERA
				AnimationMode				= LOOP
			End
			Animation						= FERB
				AnimationName				= DUPhalanx_FERB
				AnimationMode				= LOOP
			End
			Animation						= FERC
				AnimationName				= DUPhalanx_FERC
				AnimationMode				= LOOP
			End
		End
		;;//---------------------- ATTACKING ----------------------------------------------------------------
		AnimationState						= FIRING_OR_PREATTACK_A
			Animation						= ATK1
				AnimationName				= DUPhalanx_ATKA
				AnimationMode				= ONCE
				UseWeaponTiming				= Yes
			End
			Animation						= ATK1
				AnimationName				= DUPhalanx_ATKB
				AnimationMode				= ONCE
				UseWeaponTiming				= Yes
			End
			Animation						= ATK1
				AnimationName				= DUPhalanx_ATKC
				AnimationMode				= ONCE
				UseWeaponTiming				= Yes
			End
			;//ParticleSysBone				= None MeleeDust
		End

		;;//----------------- HIT REACTIONS -------------------------------------------------------------------------
		AnimationState						= HIT_REACTION
			Animation						= HITA
				AnimationName				= DUPhalanx_HITA
				AnimationMode				= ONCE
			End
		End

		;;//----------------- EMOTIONS ----------------------------------------------------------------


		;;//======= AFRAID
		AnimationState						= EMOTION_AFRAID
			Animation						= FERA
				AnimationName				= DUPhalanx_FERA
				AnimationMode				= LOOP
			End
			Animation						= FERB
				AnimationName				= DUPhalanx_FERB
				AnimationMode				= LOOP
			End
			Animation						= FERC
				AnimationName				= DUPhalanx_FERC
				AnimationMode				= LOOP
			End
			Flags							= RANDOMSTART
		End

		AnimationState						= ATTACKING
			Animation						= ALERT_1
				AnimationName				= DUPhalanx_IDLA
				AnimationMode				= LOOP
			End
		End

		;;//======== POINTING
		AnimationState						= EMOTION_POINTING
			Animation						= Pointing1A
				AnimationName				= DUPhalanx_PNTA
				AnimationMode				= LOOP
			End
			Animation						= Pointing1B
				AnimationName				= DUPhalanx_PNTB
				AnimationMode				= LOOP
			End
			Animation						= Pointing1C
				AnimationName				= DUPhalanx_PNTC
				AnimationMode				= LOOP
			End
			Flags							= RANDOMSTART
		End

		;;//======= CELEBRATING
		AnimationState						= EMOTION_CELEBRATING
			Animation						= CHRA
				AnimationName				= DUPhalanx_CHRA
				AnimationMode				= LOOP
				AnimationPriority			= 5
			End
			Animation						= CHRB
				AnimationName				= DUPhalanx_CHRB
				AnimationMode				= LOOP
				AnimationPriority			= 5
			End
			Animation						= CHRC
				AnimationName				= DUPhalanx_CHRC
				AnimationMode				= LOOP
				AnimationPriority			= 1
			End
			Animation						= CHRD
				AnimationName			= DUPhalanx_TNTA
				AnimationMode			= LOOP
				AnimationPriority			= 5
			End
			Animation						= CHRE
				AnimationName			= DUPhalanx_TNTB
				AnimationMode			= LOOP
				AnimationPriority			= 5
			End
			Animation						= CHRF
				AnimationName			= DUPhalanx_TNTC
				AnimationMode			= LOOP
				AnimationPriority			= 5
			End
			Flags							= RANDOMSTART
		End

		;;//======= TAUNTING
		AnimationState					= EMOTION_TAUNTING
			Animation
				AnimationName			= DUPhalanx_TNTA
				AnimationMode			= LOOP
			End
			Animation
				AnimationName			= DUPhalanx_TNTB
				AnimationMode			= LOOP
			End
			Animation
				AnimationName			= DUPhalanx_TNTC
				AnimationMode			= LOOP
			End
			Flags							= RANDOMSTART
		End

		;;//----------------- ALERT STATE ---------------------------------------------------------------------------

		AnimationState						= EMOTION_ALERT
			Animation						= ALERT_1
				AnimationName				= DUPhalanx_IDLA
				AnimationMode				= LOOP
				AnimationPriority			= 10
			End
			Flags							= RESTART_ANIM_WHEN_COMPLETE ;// acts like an idle animation & keeps running the animations.
		End

		AnimationState						= RAISING_FLAG
			Animation						= CHRA
				AnimationName				= DUPhalanx_CHRA
				AnimationMode				= LOOP
				AnimationPriority			= 5
			End
			Animation						= CHRB
				AnimationName				= DUPhalanx_CHRB
				AnimationMode				= LOOP
				AnimationPriority			= 5
			End
			Animation						= CHRC
				AnimationName				= DUPhalanx_CHRC
				AnimationMode				= LOOP
				AnimationPriority			= 1
			End
		End

		;;//----------------- SELECTED STATES -----------------------------------------------------------------------
		AnimationState        = SELECTED
			StateName           = STATE_Selected
			Animation           = ATNB
				AnimationName     = DUPhalanx_ATNB
				AnimationMode     = LOOP
			End

			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") end
			EndScript
		End

		;;//----------------- IDLE STATES ---------------------------------------------------------------------------
		AnimationState				= WEAPONSET_PLAYER_UPGRADE
			StateName				= STATE_Idle
			Animation				= IDLB
				AnimationName       = DUPhalanx_IDLB
				AnimationMode       = ONCE
				AnimationSpeedFactorRange = 0.9 1.1
			End
			Animation				= IDLC
				AnimationName       = DUPhalanx_IDLC
				AnimationMode       = ONCE
				AnimationSpeedFactorRange = 0.9 1.1
			End
			Animation				= CHRA
				AnimationName       = DUPhalanx_CHRA
				AnimationMode       = ONCE
				AnimationSpeedFactorRange = 0.9 1.1
			End
			Flags					= RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_SelectedToIdle") end
			EndScript
		End
		AnimationState				= USER_3
			StateName				= STATE_User_3
			Animation				= GUARD_STANCE
				AnimationName		= DUPhalanx_IDLA
				AnimationMode		= LOOP
			End
		End
		IdleAnimationState
		    ;//AllowRepeatInRandomPick = no
		    ;//Flags = RANDOMSTART
			StateName				= STATE_Idle
            Animation				= IDLA
                AnimationName       = DUPhalanx_IDLB ;//default idle
				AnimationMode       = ONCE
				AnimationPriority   = 40
				AnimationSpeedFactorRange = 0.9 1.1
				AnimationBlendTime	= 15
			End
			Animation				= IDLB
				AnimationName       = DUPhalanx_IDLC ;//figet idle, similar to IDLA, should be used sparingly
				AnimationMode       = ONCE
				AnimationPriority   = 10
				AnimationSpeedFactorRange = 0.9 1.1
				AnimationBlendTime	= 15
			End
			Animation				= IDLC
				AnimationName       = DUPhalanx_IDLD ;//bored idle --similar to IDLD but longer
				AnimationMode       = ONCE
				AnimationPriority   = 10
				AnimationSpeedFactorRange = 0.9 1.1
				AnimationBlendTime	= 15
			End
			Animation				= IDLD
				AnimationName       = DUPhalanx_IDLE ;//bored idle --similar to IDLD but longer
				AnimationMode       = ONCE
				AnimationPriority   = 10
				AnimationSpeedFactorRange = 0.9 1.1
				AnimationBlendTime	= 15
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Planted"	then CurDrawableSetTransitionAnimState("Trans_Down_To_Up") return end
				if Prev == "STATE_Selected" or Prev == "Trans_Down_To_Up" then CurDrawableSetTransitionAnimState("TRANS_SelectedToIdle") end
			EndScript
		End
		;;//--------------- TRANSITIONS ---------------------------------------------------------------------------

		TransitionState = Trans_Down_To_Up
			Animation = Transition
				AnimationName = DUPhalanx_PLTC
				AnimationMode = ONCE
			End
		End

		TransitionState = Trans_Up_To_Down
			Animation = Transition
				AnimationName = DUPhalanx_PLTA
				AnimationMode = ONCE
			End
		End

		TransitionState       = TRANS_IdleToSelected
			Animation           = ATNA
				AnimationName     = DUPhalanx_ATNA
				AnimationMode     = ONCE
				AnimationSpeedFactorRange = 0.8 1.0

			End
		End
		TransitionState		= TRANS_SelectedToIdle
			Animation			= ATNC
				AnimationName	= DUPhalanx_ATNC
				AnimationMode	= ONCE
				AnimationSpeedFactorRange = 0.8 1.0
			End
		End
	End

    #include "..\..\..\includes\StunDrawModuleSmall.inc"

  	; ***DESIGN parameters ***

  	Side 			= Wild
  	EditorSorting 		= UNIT
  	ThreatLevel 		= AZOG_THREAT_LEVEL
  	ThingClass 		= CHARACTER_UNIT
  	BuildCost       	= 1300   ;AZOG_BUILDCOST
  	BuildTime       	= HERO_BUILDTIME_TIER_2
	TransportSlotCount 	= TRANSPORTSLOTCOUNT_HERO
	ShockwaveResistance 	= SHOCKWAVE_RESISTANCE_STRONG
	BountyValue         	= 130
	CommandPoints 	= 0
  	MaxSimultaneousOfType = 1

	;;;;;; WEAPON SETS ;;;;;;

	WeaponSet
		Conditions	= None
		Weapon	= PRIMARY MuzgashSword
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
		;Weapon			= SECONDARY	MuzgashUpgradedSword
		;AutoChooseSources	= SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End

	WeaponSet
		Conditions		= WEAPONSET_HERO_MODE
		Weapon			= PRIMARY	MuzgashUpgradedSword
		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End

	;WeaponSet
	;	Conditions		= PLAYER_UPGRADE
	;	Weapon			= PRIMARY	MuzgashUpgradedSword
	;	AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	;End

 	ArmorSet
  	  Conditions    = None
  	  Armor         = HeroArmor
  	  DamageFX      = NormalDamageFX
  	End

	VisionRange 		= VISION_HERO_STANDARD
	ShroudClearingRange 	= SHROUD_CLEAR_HERO

	DisplayName 	= OBJECT:WildMuzgash
	RecruitText	= CONTROLBAR:WildMuzgashRecruit
	ReviveText	= CONTROLBAR:WildMuzgashRevive
	Hotkey		= CONTROLBAR:WildMuzgashHotkey
	CrushableLevel 	= 2  					; What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrusherLevel 	= 0 					; What can I crush?: 0 = small animals, 1 = infantry, 2 = trees, 3 = vehicles

	CommandSet 	= MuzgashCommandSet 			; What can I crush?: 0 = small animals, 1 = infantry, 2 = trees, 3 = vehicles

	; *** AUTO RESOLVE DATA ***
	AutoResolveUnitType = AutoResolveUnit_Hero
	AutoResolveCombatChain = AutoResolve_HeroCombatChain

	AutoResolveBody = Aotr_AutoResolve_LeaderSmallHeroBody

	AutoResolveArmor
		Armor = Aotr_AutoResolve_HeroLeaderArmor
	End

	AutoResolveWeapon
		Weapon = AutoResolve_LeaderHeroWeakWeapon
	End
	
	AutoResolveLeadership = AutoResolve_MuzgashBonus
  	; *** AUDIO Parameters ***;
	VoiceAttack				= AzogVoiceAttack
	VoiceAttackCharge			= AzogVoiceAttackCharge
	VoiceAttackMachine			= AzogVoiceAttack
	VoiceAttackStructure			= AzogVoiceAttackBuilding
	VoiceFear 				= AzogVoiceHelpMe
	;,; VoiceCreated				= AzogVoiceSalute		;this conflicts with his respawn dialogue line -- rehooked to spawn FX
	;,; VoiceFullyCreated 			= AzogVoiceSalute		;this conflicts with his respawn dialogue line -- rehooked to spawn FX
	VoiceGuard				= AzogVoiceMove
	VoiceMove				= AzogVoiceMove
	VoiceMoveToCamp				= AzogVoiceMoveCamp
	VoiceMoveWhileAttacking			= AzogVoiceDisengage ;,; AzogVoiceMove
	VoicePriority				= 66
	VoiceSelect				= AzogVoiceSelectMS
	VoiceSelectBattle 			= AzogVoiceSelectBattle
	VoiceRetreatToCastle	= AzogVoiceRetreat ;,; Added in v5.1

	VoiceEnterStateAttackCharge		= AzogVoiceEnterStateAttackCharge

	UnitSpecificSounds ;;,;; Added from DC Patch ;;;
		VoiceEnterUnitEvilMenTransportShip	= AzogVoiceMoveShip
		VoiceEnterUnitMordorMumakil		= AzogVoiceGarrison
		VoiceEnterUnitSlaughterHouse		= AzogVoiceGarrison
		VoiceGarrison			= AzogVoiceGarrison
		VoiceInitiateCaptureBuilding		= AzogVoiceCaptureBuilding
	End

	CrowdResponseKey = Goblin ;;,;; Uruk

   	 #include "..\..\..\includes\StandardUnitEvaEvents.inc"

;;,;;	EvaEventDieOwner			= GothmogDie			;Eva event to trigger on unit's death. NOTICE THAT this is only for permanent deaths

	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU	;Tie into LargeGroupAudio system
		Key = Hero
	End

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
;		AnimationSound = Sound: TauntHumanHitShield	Animation:GUMAArms_SKL.GUManMocap_IDLC	Frames: 17 27
		AnimationSound = Sound:BodyFallOrc			Animation:DUPHALANX_SKL.DUPHALANX_LNDA	Frames:6
		AnimationSound = Sound:BodyFallGeneric1		Animation:DUPHALANX_SKL.DUPHALANX_DIEA	Frames:13
		AnimationSound = Sound:BodyFallGeneric1		Animation:DUPHALANX_SKL.DUPHALANX_DIEB	Frames:45
		AnimationSound = Sound:BodyFallGeneric1		Animation:DUPHALANX_SKL.DUPHALANX_DIEC	Frames:22
		AnimationSound = Sound:FootstepDirtA		Animation:DUPHALANX_SKL.DUPhalanx_RUNA	Frames:8 20
		AnimationSound = Sound:FootstepDirtA		Animation:DUPHALANX_SKL.DUPhalanx_RUNB	Frames:10 22
		AnimationSound = Sound:FootstepDirtA		Animation:DUPHALANX_SKL.DUPhalanx_RUND	Frames:8 20
	End

	Behavior = StancesBehavior ModuleTag_StancesBehavior
        	StanceTemplate = Hero
    	End

  	; *** ENGINEERING Parameters ***

	RadarPriority = UNIT
	KindOf = HERO PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE ARMY_SUMMARY ATTACK_NEEDS_LINE_OF_SIGHT HEAVY_MELEE_HITTER URUK; URUK ARCHER
	PathfindDiameter = 25 ; = 40.0
  	Body = RespawnBody ModuleTag_RespawnBody
		CheerRadius 			= EMOTION_CHEER_RADIUS
   		MaxHealth         		= 2300         ;2500 ;AZOG_HEALTH			; BALANCE Gothmog Health
			MaxHealthReallyDamaged = 1200
			PermanentlyKilledByFilter	= NONE				; Who kills me permanently?
   		DodgePercent     		= HERO_DODGE_PERCENT
  	End
	Behavior = RespawnUpdate ModuleTag_RespawnUpdate
		DeathAnim			= DYING ;STUNNED		; Model condition to play when killed-to-respawn
		DeathFX				= FX_MuzgashDieToRespawn		; FXList to play when killed-to-respawn
		DeathAnimationTime		= 6033 ; 1133			; How long DeathAnim will take.
		InitialSpawnFX			= FX_MuzgashInitialSpawn ;,; FX_LurtzInitialSpawn
		RespawnAnim			= LEVELED			; Animation to play when respawning.
		RespawnFX			= FX_MuzgashRespawn ;,; FX_LurtzRespawn		; FXList to play when respawning.
		RespawnAnimationTime		= 2000				; Time it takes for respawn to play.
		AutoRespawnAtObjectFilter	= NONE +CASTLE_KEEP		; Respawn at this location -- and at it's exit production point if possible.
		ButtonImage			= UIMMMuzgash_res ;HIAzogRecall
		RespawnRules =			AutoSpawn:No	Cost:1040		Time:HERO_RESPAWNTIME_TIER_2		Health:100% ;Cost:1200
		RespawnEntry =	Level:2				Cost:1105		Time:HERO_RESPAWNTIME_TIER_2
		RespawnEntry =	Level:3				Cost:1170		Time:HERO_RESPAWNTIME_TIER_2
		RespawnEntry =	Level:4				Cost:1235		Time:HERO_RESPAWNTIME_TIER_2
		RespawnEntry =	Level:5				Cost:1300		Time:HERO_RESPAWNTIME_TIER_2
		RespawnEntry =	Level:6				Cost:1365		Time:HERO_RESPAWNTIME_TIER_2
		RespawnEntry =	Level:7				Cost:1430		Time:HERO_RESPAWNTIME_TIER_2
		RespawnEntry =	Level:8				Cost:1495		Time:HERO_RESPAWNTIME_TIER_2
		RespawnEntry =	Level:9				Cost:1560		Time:HERO_RESPAWNTIME_TIER_2
		RespawnEntry =	Level:10			Cost:1625		Time:HERO_RESPAWNTIME_TIER_2
	End
	Behavior = AutoHealBehavior ModuleTag_LurtzHealing
		StartsActive 		= Yes
		HealingAmount 		= HERO_HEAL_AMOUNT
		HealingDelay 		= 1000
		StartHealingDelay 	= HERO_HEAL_DELAY
		HealOnlyIfNotInCombat 	= Yes
	End
	#include "..\..\..\includes\CaptureBuilding.inc"
	#include "..\..\..\aicoding\autoretreat1.inc"
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle	= Yes ATTACK_BUILDINGS
		MoodAttackCheckRate		= 500
		AttackPriority			= AttackPriority_Archer
		AILuaEventsList		   	= MuzgashFunctions
;		CanAttackWhileContained		= Yes ;;.;; Removed
	End
	LocomotorSet
		Locomotor = IsengardLurtzLocomotor
		Condition = SET_NORMAL
		Speed     = NORMAL_EVIL_HERO_SPEED
	End
  	LocomotorSet
  	  Locomotor     = HumanWanderLocomotor
  	  Condition     = SET_WANDER
    	Speed         	= NORMAL_FOOT_SLOW_MEMBER_SPEED
  	End
  	Behavior 	= PhysicsBehavior ModuleTag_04
   	 GravityMult 	= 1.0
  	End
  	Behavior 	= SlowDeathBehavior ModuleTag_05
  	  DeathTypes 	= ALL
  	  SinkDelay 	= 6000
  	  SinkRate 	= 1.5     ; in Dist/Sec
  	  DestructionDelay = 11000
  	  Sound 	= INITIAL AzogVoiceDie ;;,;; ;;; LurtzVoiceDie
  	End
  	Behavior 	= SquishCollide ModuleTag_06
  	  ;nothing
 	End

	;Behavior = WeaponSetUpgrade WeaponSetUpgradeModuleTag
	;	TriggeredBy = Upgrade_ObjectLevel4
	;End
	Behavior = AttributeModifierAuraUpdate ModuleTag_GoblinKingLeadershipUpdate
		StartsActive	= No
		BonusName		= MuzgashLeadership ;MuzgashFearresistLeadership AzogPassiveBrigandLeadership
		TriggeredBy		= Upgrade_ObjectLevel1
		RefreshDelay	= 2000
		Range			= 200
		ObjectFilter	= NONE +WildMountainOrcSword +WildMountainOrcBrute +WildMountainOrcScout +GoblinFighter +GoblinArcher +MoriaPikeman	+MoriaShaman +GoblinTownAcolyte ;AOTR_GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
	End
    Behavior = ObjectCreationUpgrade ModuleTag_RemoveUpgrades1
		TriggeredBy = Upgrade_ObjectLevel8
		RemoveUpgrade = Upgrade_ObjectLevel1
    End
	Behavior = AttributeModifierAuraUpdate ModuleTag_GoblinKingLeadershipUpdateLevel8
		StartsActive	= No
		BonusName		= GildorHobbitLeadership ;MuzgashFearresistLeadership AzogPassiveBrigandLeadership
		TriggeredBy		= Upgrade_ObjectLevel8
		RefreshDelay	= 2000
		Range			= 200
		ObjectFilter	= NONE +WildMountainOrcSword +WildMountainOrcBrute +WildMountainOrcScout +GoblinFighter +GoblinArcher +MoriaPikeman	;AOTR_GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
	End
	Behavior = AttributeModifierAuraUpdate ModuleTag_PillageAura
		StartsActive	= No										; If no, requires upgrade to turn on.
		BonusName		= LurtzPassiveOutlawLeadership
		TriggeredBy		= Upgrade_ObjectLevel8 ;Upgrade_ObjectLevel1
		RefreshDelay	= 2000
		Range			= 200
		AllowSelf		= Yes
		ObjectFilter	= ANY +INFANTRY +CAVALRY -STRUCTURE -BASE_FOUNDATION -DOZER ;;,;; Removed -HERO
	End

	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_GoblinKingLeadershipUnpause
		SpecialPowerTemplate = SpecialAbilityFakeLeadership
		TriggeredBy = Upgrade_ObjectLevel1
	End
	Behavior = SpecialPowerModule ModuleTag_GoblinKingLeadershipPower
		SpecialPowerTemplate      = SpecialAbilityFakeLeadership
		UpdateModuleStartsAttack  = No
		StartsPaused = Yes
	End
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_GoblinKingLeadershipUnpause2
		SpecialPowerTemplate = SpecialAbilityFakeLeadership2
		TriggeredBy = Upgrade_ObjectLevel4
	End
	Behavior = SpecialPowerModule ModuleTag_GoblinKingLeadershipPower2
		SpecialPowerTemplate      = SpecialAbilityFakeLeadership2
		UpdateModuleStartsAttack  = No
		StartsPaused = Yes
	End

	;-----------------------------------------------------------------------------
	;	Putrid Blade - New Power (Active)
	;-----------------------------------------------------------------------------
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_KnifeEnabler
		SpecialPowerTemplate = SpecialAbilityMuzgashBlade
		TriggeredBy = Upgrade_ObjectLevel3
	End
	Behavior = WeaponModeSpecialPowerUpdate ModuleTag_KnifeFighterPowerUpdate
		SpecialPowerTemplate	= SpecialAbilityMuzgashBlade
		Duration				= 20000											; Needs to match SpecialAbilityGimliHeroMode
		AttributeModifier		= MuzgashPutridBlade
		StartsPaused			= Yes
		WeaponSetFlags			= WEAPONSET_HERO_MODE
	End
	Behavior = AutoAbilityBehavior ModuleTag_SlayerAutoAbility ;;,;;
		SpecialAbility	= SpecialAbilityMuzgashBlade
		ForbiddenStatus = INSIDE_GARRISON ;;,;; This seems to prevent the ability from being used inside a tower
		MaxScanRange				= 100
		Query						= 1 ALL ENEMIES -WALL_UPGRADE -WALL_HUB -WALL_SEGMENT -DEFENSIVE_WALL -FS_BASE_DEFENSE
	End
	Behavior = ObjectCreationUpgrade ModuleTag_RemoveUpgradesBlade
		TriggeredBy = Upgrade_MiniHordeLvl3
		RemoveUpgrade = Upgrade_MiniHordeLvl2
    End
    Behavior = ObjectCreationUpgrade ModuleTag_RemoveUpgradesBlade2
		TriggeredBy = Upgrade_MiniHordeLvl2
		RemoveUpgrade = Upgrade_MiniHordeLvl3
    End
	Behavior = SubObjectsUpgrade Blade_Upgrade
		TriggeredBy		= Upgrade_MiniHordeLvl3
		RecolorHouse			= Yes
		ShowSubObjects	= POISON_BLADE
	End
	Behavior = SubObjectsUpgrade HideBlade_Upgrade
		TriggeredBy		= Upgrade_MiniHordeLvl2
		RecolorHouse			= Yes
		HideSubObjects	= POISON_BLADE
	End
	;-----------------------------------------------------------------------------
	;	Iron Discipline
	;-----------------------------------------------------------------------------
    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_IronDisciplineTrigger
        SpecialPowerTemplate       = SpecialAbilityMuzgashDiscipline
        TriggeredBy                = Upgrade_ObjectLevel6
    End
	Behavior = SpecialPowerModule ModuleTag_IronDiscipline
		SpecialPowerTemplate		= SpecialAbilityMuzgashDiscipline
		StartsPaused                = Yes
		AttributeModifier			= MuzgashDiscipline
		AttributeModifierRange		= 100
		AttributeModifierAffects	= ANY +HORDE
		;TriggerFX					= FX_FullyArmedInitial
		UpdateModuleStartsAttack	= No
		AvailableAtStart			= No
		InitiateSound				= MuzgashVoiceIronDiscipline
	End
	Behavior = AutoAbilityBehavior ModuleTag_LightAutoAbility1
		SpecialAbility	= SpecialAbilityMuzgashDiscipline
		ForbiddenStatus = INSIDE_GARRISON
		MaxScanRange	= 200
		Query		= 15 ANY +CAVALRY +INFANTRY -STRUCTURE -CASTLE_KEEP -BASE_FOUNDATION -HERO -MOVE_ONLY -DOZER -SUMMONED ALLIES
	End
	;-------------------------------------------------------------------------
	; Token of Supremacy
	;-------------------------------------------------------------------------
    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_SupremacyTrigger
        SpecialPowerTemplate       = SpecialAbilityMuzgashSupremacy
        TriggeredBy                = Upgrade_ObjectLevel9
    End
	Behavior = OCLSpecialPower ModuleTag_HighAutority_OCL
		SpecialPowerTemplate = SpecialAbilityMuzgashSupremacy
		OCL                  = OCL_MuzgashSupremacy
		TriggerFX			 = FX_FearBlast
		CreateLocation       = CREATE_AT_LOCATION
		StartsPaused		 = Yes
		InitiateSound				= MuzgashVoiceSupremacy
	End
	Behavior = AutoAbilityBehavior ModuleTag_HighAutorityAutoAbility
		SpecialAbility	= SpecialAbilityMuzgashSupremacy
		ForbiddenStatus = INSIDE_GARRISON
		MaxScanRange	= 300
		Query		= 30 ANY ENEMIES +INFANTRY +CAVALRY -STRUCTURE -WALL_UPGRADE -WALL_HUB -WALL_SEGMENT -DEFENSIVE_WALL -FS_BASE_DEFENSE
	End
	;-------------------------------------------------------------------------

;	Behavior = AttributeModifierAuraUpdate ModuleTag_GoblinKingLeadershipUpdate3
;		StartsActive	= No
;		BonusName		= MuzgashFearresistLeadership
;		TriggeredBy		= Upgrade_ObjectLevel10
;		RefreshDelay	= 3000
;		Range			= 300
;		ObjectFilter	= AOTR_GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
;	End
;	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_GoblinKingLeadershipUnpause3
;		SpecialPowerTemplate = SpecialAbilityFakeLeadership3
;		TriggeredBy = Upgrade_ObjectLevel10
;	End
;	Behavior = SpecialPowerModule ModuleTag_GoblinKingLeadershipPower3
;		SpecialPowerTemplate      = SpecialAbilityFakeLeadership3
;		UpdateModuleStartsAttack  = No
;		StartsPaused = Yes
;	End

	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_DainSummonEnabler
		SpecialPowerTemplate = SpecialAbilityAzogSummonRoyalGuard
		TriggeredBy = Upgrade_ObjectLevel7
	End

	Behavior = OCLSpecialPower ModuleTag_OCLSpecialPower
		SpecialPowerTemplate	= SpecialAbilityAzogSummonRoyalGuard
		OCL						= OCL_WildBarricade
	    ;TriggerFX	 		= FX_SummonUglukRaiders
		CreateLocation			= CREATE_AT_LOCATION
		StartsPaused			= Yes
		;SetModelCondition		= ModelConditionState:USER_1
		;SetModelConditionTime	= 8.1
	End
;	Behavior = ExperienceLevelCreate ModuleTag_LevelBonus
;		LevelToGrant	= 10
;		MPOnly			= Yes
;	End
	;------------------------------------------------------	;;,;;
	;/////////////////////
	;// AISpecialPowers
	;/////////////////////
	Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
		CommandButtonName = Command_SetStanceBattle
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
	End
	Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive ;;,;; Changed for 3.0.1
		CommandButtonName = Command_SetStanceAggressive ;;,;; Changed for 3.0.1
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
	End
	Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
		CommandButtonName = Command_SetStanceHoldGround
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
	End
	Behavior = AISpecialPowerUpdate PutridBladeAI
		CommandButtonName = Command_MuzgashPutridBlade
		SpecialPowerAIType = AI_SPECIAL_POWER_GOBLIN_POISON
	End

	Behavior = AISpecialPowerUpdate IronDisciplineAI
		CommandButtonName = Command_MuzgashDiscipline
		SpecialPowerAIType = AI_SPECIAL_POWER_AOE_AND_BUFF
		SpecialPowerRadius = 100
	End

	Behavior = AISpecialPowerUpdate SupremacyAI
		CommandButtonName = Command_MuzgashSupremacy
		SpecialPowerAIType = AI_SPECIAL_POWER_TARGETAOE_SUMMON
		SpecialPowerRadius = 100
	End

	Behavior = GrantUpgradeCreate ModuleTag_GiveUpgrade
		UpgradeToGrant			= Upgrade_WOTRHero1
	End

  	Geometry = CYLINDER
 	GeometryMajorRadius = 8.0
  	GeometryMinorRadius = 8.0
  	GeometryHeight = 19.2
  	GeometryIsSmall = Yes
  	Shadow = SHADOW_DECAL
  	ShadowSizeX = 11;
  	ShadowSizeY = 11;
  	ShadowTexture = ShadowI;
	End


Object WildBarricade
	;// *** ART Parameters ***
	SelectPortrait  =  BPMordorFortressBarricade
	Draw = W3DScriptedModelDraw ModuleTag_Draw
		OkToChangeModelColor	= Yes
		UseStandardModelNames	= Yes
		StaticModelLODMode		= yes ; Will append M or L to the skin name depending on GameLOD
	    ExtraPublicBone = ARROW_01
		ExtraPublicBone = ARROW_02
		ExtraPublicBone = ARROW_03
		ExtraPublicBone = ARROW_04
		DefaultModelConditionState
			Model = wbbarricade_skn
		End
	;-- building being constructed
;		ModelConditionState  = SNOW JUST_BUILT
;	    	Model = MBBarcade_A
;			;Texture = MBBarcade.tga MBBarcade_snow.tga
;		End
		ModelConditionState  = JUST_BUILT
	    	Model = wbbarricade_bld
		End
		AnimationState			= JUST_BUILT
			Animation
				AnimationName		= wbbarricade_bld.wbbarricade_bld
				AnimationMode		= ONCE
				AnimationBlendTime	= 0
				AnimationSpeedFactorRange = 22.22 22.22
			End
	    End
		;--damaged building
		ModelConditionState  = DAMAGED
			Model         = wbbarricade_d1
		End
		AnimationState = DAMAGED
			EnteringStateFX	= FX_BuildingDamaged
		End
		ModelConditionState  = REALLYDAMAGED
			Model         = wbbarricade_d2
		End
	    AnimationState = REALLYDAMAGED
		    EnteringStateFX	= FX_BuildingReallyDamaged
		End
		ModelConditionState  = COLLAPSING
			Model         = wbbarricade_d2
		End
		AnimationState = COLLAPSING
			EnteringStateFX	= FX_StructureMediumCollapse
		End
		ModelConditionState  = RUBBLE
			Model         = None
		End
		ModelConditionState  = POST_RUBBLE
			Model         = NONE
			ParticleSysBone NONE SmokeBuildingMediumRubble
		End
		AnimationState = POST_RUBBLE
		End
		ModelConditionState  = POST_COLLAPSE
		Model         = None
			ParticleSysBone NONE SmokeBuildingMediumRubble
		End
		AnimationState = POST_COLLAPSE
		End
;		ModelConditionState = SNOW
;			Model = MBBarcade
;			Texture	= MBBarcade.tga MBBarcade_snow.tga
;		End
	End
;	Draw = W3DFloorDraw ModuleTag_DrawFloor
;		StaticModelLODMode = Yes		; THIS NEEDS TO BE COMMENTED OUT WHEN ENGINEERING ENABLES LOD'S IN THE FLOOR DRAW
;		ModelName = MBBarcade_Bib
;		WeatherTexture		= SNOWY MBBarcade_Bib_Snow.tga
;	End
	; *** AUDIO Parameters ***
	#include "..\..\..\Includes\StandardBuildingEvaEvents.inc"
	VoiceSelect						= MordorBarricadeSelectMS	;IsengardKeepSelect	;IsengardArmorySelect
	VoiceSelectUnderConstruction	= BuildingEvilVoiceSelectUnderConstruction
	SoundOnDamaged					= BuildingLightDamageStone
	SoundOnReallyDamaged			= BuildingHeavyDamageStone
	UnitSpecificSounds
		UnderConstruction		= BuildingConstructionLoop  ; Built first time
		; UnderRepairFromDamage	= NoSound					; Repaired No animation on the building, so don't bother playing sound
		UnderRepairFromRubble	= BuildingConstructionLoop	; Repaired from completely destroyed (not used???)
	End
	CampnessValue       = CAMPNESS_SUMMONED
	; ***DESIGN parameters ***
	DisplayName     = OBJECT:MordorBarricade
	Description	= OBJECT:MordorBarricadeDescription
	EditorSorting   = STRUCTURE
	Side			= Wild
	ThreatLevel		= 1.0
	CommandSet		= SellableCommandSet
	ArmorSet	;;.;; Added for 2.02
		Conditions        = None
		Armor             = FortressExpansionArmor
	End
	; *** ENGINEERING Parameters ***
	RadarPriority       = STRUCTURE
	VisionRange         = VISION_BASE_DEFENSE
	ShroudClearingRange	= SHROUD_CLEAR_BASE_DEFENSE
	KindOf				= SELECTABLE IMMOBILE STRUCTURE SPAWNS_ARE_THE_WEAPONS IGNORE_FOR_VICTORY FS_BASE_DEFENSE ;;,;; ; ; Added FS_BASE_DEFENSE
	Behavior = AIUpdateInterface ModuleTag_AIForAttacking
		AutoAcquireEnemiesWhenIdle	=	Yes ATTACK_BUILDINGS
	End
	Behavior = GettingBuiltBehavior ModuleTag_GettingBuilt
		WorkerName		  = MordorWorkerNoSelect
		SpawnTimer	= DEFAULT_STRUCTURE_HEALDELAY
	End
	Body = StructureBody ModuleTag_BodyDefinitions ;;.;; New structure body for 2.02
		MaxHealth               = MORDOR_SUMMONED_BARRICADE_HEALTH
		MaxHealthDamaged        = MORDOR_SUMMONED_BARRICADE_HEALTH_DAMAGED
		MaxHealthReallyDamaged  = MORDOR_SUMMONED_BARRICADE_HEALTH_REALLY_DAMAGED
	End
	Behavior = SpawnPointProductionExitUpdate ModuleTag_ProductionExit
		SpawnPointBoneName = ARROW_
	End
	Behavior = SpawnBehavior ModuleTag_Spawn
		TriggeredBy		= Upgrade_StructureLevel1
		SpawnNumber								= 4
		InitialBurst							= 4
		SpawnTemplateName						= MordorArcherBarricade_Slaved ;GoblinArcher_SlavedTower ;;.;; MordorArcherBarricade_Slaved
		KillSpawnsBasedOnModelConditionState	= No		;//Must also set NoExitPath in QeueProductionExitUpdate. (So that the exit door is always available)
		SpawnReplaceDelay						= 999999
		CanReclaimOrphans						= No
		SpawnedRequireSpawner					= Yes
		ShareUpgrades							= Yes
	End
	;//Fire Arrows ;;.;; Added
	Behavior = WeaponSetUpgrade ModuleTag_FlamingAttack ;// Doesn't really use a weaponset swap, the swap is in the weapon itself. But this helps debugging more than a fake status bit upgrade
		TriggeredBy				= Upgrade_EvilFortressFlamingMunitions
	End
	Behavior = KeepObjectDie ModuleTag_IWantRubble
	End
	Behavior = StructureCollapseUpdate ModuleTag_Collapse
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End

	GeometryIsSmall       = No
	Geometry			= BOX
	GeometryMajorRadius	= 10
	GeometryMinorRadius	= 35
	GeometryHeight		= 40
	GeometryOffset		= X:30 Y:0 Z:0
	AdditionalGeometry	= BOX
	GeometryMajorRadius	= 30
	GeometryMinorRadius	= 15
	GeometryHeight		= 30
	GeometryOffset		= X:-10 Y:-15 Z:0
	AdditionalGeometry	= BOX
	GeometryMajorRadius	= 15
	GeometryMinorRadius	= 15
	GeometryHeight		= 70
	GeometryOffset		= X:0 Y:-15 Z:0
	Shadow                = SHADOW_VOLUME
End

Object MuzgashSupremacyEgg

	Draw = W3DScriptedModelDraw ModuleTag_Draw
		DefaultModelConditionState
			Model = wbMuzToken_skn
		End
	End

	PlacementViewAngle = -45

	KindOf = IMMOBILE UNATTACKABLE

	Body = ActiveBody ModuleTag_MakesKillWork
		MaxHealth = 1
	End

	Behavior = LifetimeUpdate ModuleTag_HatchTrigger
		MinLifetime = 60000
		MaxLifetime = 60000
	End

  	Behavior = SlowDeathBehavior ModuleTag_FadeDeath
		DeathTypes = ALL
		FadeDelay = 0
		FadeTime = 5000
		DestructionDelay = 5000
        ;DeathFlags = DEATH_2
        ;FX = INITIAL FX_RohirrimAlliesUnsummon
		;Sound = INITIAL SpellGenericUnsummonFasterMS
	End

	Behavior = AttributeModifierAuraUpdate ModuleTag_Supremacy
		StartsActive	= Yes
		BonusName		= MuzgashSupremacy
		RefreshDelay	= 2000
		Range			= 200
		TargetEnemy		= Yes
		AntiCategory	= LEADERSHIP ;BUFF
		ObjectFilter	= AOTR_GENERIC_BUFF_RECIPIENT_WITH_HORDES_OBJECT_FILTER
	End

End
;------------------------------------------------------------------------------------------------------------------
