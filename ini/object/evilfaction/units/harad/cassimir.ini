; Aragorn GondorAragorn
Object HaradCassimir
	; *** ART Parameters ***

    ; SelectPortrait for Heros is portrait behind skill buttons. HP = HeroPortrait.
	SelectPortrait = HPCassimir

    ; ButtonImage for Heros is button image on Hero Select UI to select hero. HI = HeroIcon or HeroImage.
	ButtonImage = hicassimir

	DescriptionStrategic = CONTROLBAR:LW_ToolTip_Aragorn

	Draw = W3DScriptedModelDraw ModuleTag_DRAW
		OkToChangeModelColor = Yes 
	StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD

		DefaultModelConditionState
			Model               = hucassimir_skn

		End

		ModelConditionState = WEAPONSET_HERO_MODE USER_3
			ParticleSysBone = BAT_RIBS BladeMaster FollowBone:Yes
			ParticleSysBone = BAT_HEAD AragornElendill FollowBone:Yes
		End

		ModelConditionState = MOUNTED RIDER3
			Model					= hucassimirM_skn
			ParticleSysBone = BAT_HSPINE2 HewerofRanksSelf FollowBone:Yes
		End

		ModelConditionState			= MOUNTED
			Model					= hucassimirM_skn
			;Skeleton				= RUHHs_Theo_SKL
		End

		ModelConditionState = RIDER3
			ParticleSysBone = BAT_RIBS HewerofRanksSelf FollowBone:Yes
		End


		ModelConditionState = USER_3
			ParticleSysBone = BAT_HEAD AragornElendill FollowBone:Yes
		End

; ModelConditionState = WEAPONSET_TOGGLE_1
; Model = guaragorn_st
; End

; ModelConditionState = WEAPONSET_TOGGLE_2
; Model = guaragorn_st
; End

; --------- MOUNTED  ------------

; --- Dying Anims
        AnimationState                =    MOUNTED FREEFALL
            Animation                =    freefall
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_FLYC
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART
        End

        AnimationState                =    MOUNTED STUNNED_FLAILING
            Animation                =    JustDie
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_FLYC
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART
        End

        AnimationState                =    MOUNTED DYING SPLATTED
            Animation                =    Land
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_LNDA
                AnimationMode        =    ONCE
            End
        End

        ; This is the no-spawn-horse type of death
        AnimationState                =    MOUNTED DYING
            Animation                =    JustDie
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_DIEA
                AnimationMode        =    ONCE
            End
        End

        AnimationState                =    MOUNTED STUNNED_STANDING_UP
            Animation                =    StandUp
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_GTPA
                AnimationMode        =    ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        AnimationState                =    MOUNTED STUNNED
            Animation                =    Land
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_LNDA
                AnimationMode        =    ONCE
            End
        End


; --- Attacking Anims
        AnimationState        =  MOUNTED FIRING_OR_PREATTACK_A ATTACKING_STRUCTURE
            StateName = Attacking
            Animation = attackinga  building while mounted.
                AnimationName           = RUHHs_Theo_SKL.RUHHs_Theo_ATKA  ;ATKB looked pretty silly.
                AnimationMode       = ONCE
                UseWeaponTiming = Yes
            End
        End



        AnimationState        = MOUNTED MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation           = MountedRunAndFire
                AnimationName       = RUHHs_Theo_SKL.RUHHs_Theo_ATRA
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
        End

        AnimationState                =    MOUNTED FIRING_OR_PREATTACK_A
            Animation                =    AttackA
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_ATKA
                AnimationMode        =    ONCE
                UseWeaponTiming        = Yes
            End
            Animation                =    AttackB
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_ATKB

                AnimationMode        =    ONCE
                UseWeaponTiming        = Yes
            End
        End

; --- Moving Anims
        AnimationState                =    MOUNTED TURN_LEFT_HIGH_SPEED
            Animation                =    TurnLeft
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_TNL1
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange= 1.2 1.2
                AnimationBlendTime    =    20
            End
        End

        AnimationState                =    MOUNTED TURN_RIGHT_HIGH_SPEED
            Animation                =    TurnLeft
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_TNR1
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange= 1.2 1.2
                AnimationBlendTime    =    20
            End
        End




        AnimationState                =    MOUNTED MOVING TURN_LEFT
            Animation                =    TurnLeft
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_TRNL
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange= 1.5 1.5
            End
;            ;ParticleSysBone            =    None CalvaryDustTrails
        End

        AnimationState                =    MOUNTED MOVING TURN_RIGHT
            Animation                =    TurnRight
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_TRNR
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange= 1.5 1.5
            End
;            ;ParticleSysBone            =    None CalvaryDustTrails
        End

        AnimationState                =    MOUNTED MOVING ACCELERATE
            Animation                =    Accelerate
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_ACCL
                AnimationMode        =    LOOP
            End
            ;ParticleSysBone            =    None CalvaryDustTrails
        End

        AnimationState                =    MOUNTED MOVING DECELERATE
            Animation                =    Decelerate
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_DECL
                AnimationMode        =    ONCE
            End
            ;ParticleSysBone            =    None CalvaryDustTrails
        End

        AnimationState                =    MOUNTED MOVING WALKING
            Animation                =    Walk
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_WLKA
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART
            ;ParticleSysBone            =    None InfantryDustTrails
        End

        AnimationState                =    MOUNTED MOVING BACKING_UP
            Animation                =    BackingUp
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_BAKA
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART
            ;ParticleSysBone            =    None InfantryDustTrails
        End


        AnimationState                =    MOUNTED MOVING
            Animation                =    RunA
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_RUNA
                AnimationMode        =    LOOP
            End
             Flags                    =    RANDOMSTART
            ;ParticleSysBone            =    None CalvaryDustTrails
        End

		AnimationState = SPECIAL_WEAPON_ONE MOUNTED
			Animation
				AnimationName				= RUHHs_Theo_SKL.RUHHs_Theo_ATKA
				AnimationMode				= ONCE
				AnimationSpeedFactorRange	= 0.8 0.8
			End
			ParticleSysBone     = B_SWORDBONE HewerofRanksGlowFX FollowBone:yes
		ParticleSysBone     = B_SWORDBONE HewerofRanksSparksFX FollowBone:yes
		FXEvent	= Frame:11 Name: FX_HewerofRanksImpact
		End

		AnimationState				=	RAISING_FLAG MOUNTED
				Animation           =	CHRA
					AnimationName   =	RUHHs_Theo_SKL.RUHHs_Theo_CHRA
					AnimationMode   =	LOOP
				End
		End

		AnimationState				= MOUNTED LEVELED
			Animation				= LevelUp
				AnimationName		= RUHHs_Theo_SKL.RUHHs_Theo_CHRA
				AnimationMode		= ONCE
			End
		End

; --- Selected Anims
        AnimationState                =    MOUNTED SELECTED
            SimilarRestart            =   Yes
            StateName                =    AtAttentionIdle
            Animation                =    ATNB
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_IDLH
                AnimationMode        =    LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_MountedSelect") end
                if Prev == "AtAttentionIdle" then CurDrawableSetTransitionAnimState("TRANS_MountedSelect") end
                if Prev == "STATE_CaptainMounted" then CurDrawableSetTransitionAnimState("TRANS_MountedSelect") end
            EndScript
        End

        TransitionState                =    TRANS_MountedSelect
            Animation                =    ATNA
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_ATNA
                AnimationMode        =    ONCE
            End
        End

; HITA not available on Theoden
;        AnimationState = MOUNTED HIT_REACTION
;            Animation = Hit_Level_1_a
;                AnimationName = RUHHs_Theo_SKL.RUHHs_Theo_HITA
;                AnimationMode = ONCE
;            End
;        End

; --- Idle Anims
        AnimationState = MOUNTED
            StateName = Idle
            Animation    =    IdleA
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_IDLA
                AnimationPriority    =    30
                AnimationMode        =    ONCE
                AnimationBlendTime    =    15
            End
            Animation                =    IdleC
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_IDLC
                AnimationMode        =    ONCE
                AnimationBlendTime    =    15
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End





;---- End of Mounetd Anims

		TransitionState				= TRANS_boredToAttention_Elendil
			Animation				= GUAragorn_ATND
				AnimationName		= GUAragorn_SKL.GUAragorn_ATND
				AnimationMode		= ONCE
			End
			FXEvent	= Name: FX_ElendilGlowEvent
		End

		TransitionState				= TRANS_attentionToBored_Elendil
			Animation				= GUAragorn_ATND
				AnimationName		= GUAragorn_SKL.GUAragorn_ATND
				AnimationMode		= ONCE_BACKWARDS
			End
			FXEvent					= Name: FX_ElendilGlowEvent
			Flags					= START_FRAME_LAST
		End

		TransitionState				= TRANS_boredToAttention
			Animation				= GUAragorn_ATND
				AnimationName		= GUAragorn_SKL.GUAragorn_ATND
				AnimationMode		= ONCE
			End
		End

		TransitionState				= TRANS_attentionToBored
			Animation				= GUAragorn_ATND
				AnimationName		= GUAragorn_SKL.GUAragorn_ATND
				AnimationMode		= ONCE_BACKWARDS
			End
			Flags					= START_FRAME_LAST
		End

	; --- Idle Anims
		IdleAnimationState
			StateName				= STATE_bored

			Animation				= GUAragorn_IDLE		;no_fidget
				AnimationName		= GUAragorn_SKL.GUAragorn_IDLE
				AnimationMode		= ONCE
				AnimationPriority	= 12
			End

			Animation				= GUAragorn_IDLF		;fidget
				AnimationName		= GUAragorn_SKL.GUAragorn_IDLF
				AnimationMode		= ONCE
				AnimationPriority	= 1
			End

			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if	Prev == "STATE_attention" or
					Prev == "STATE_running" or
					Prev == "OATH_BREAKERS" then CurDrawableSetTransitionAnimState("TRANS_attentionToBored") end
			EndScript
		End

		AnimationState			= THROWN_PROJECTILE
			Animation			= FLYA
				AnimationName	= GUAragorn_SKL.GUAragorn_FLYA
				AnimationMode	= LOOP
			End
		End
	;------------------------------------------------------------------
				AnimationState        = SPECIAL_WEAPON_ONE
			Animation           = Smacky
				AnimationName     = GUAragorn_SKL.GUAragorn_ATKF
				AnimationMode     = ONCE

		End
		ParticleSysBone     = B_SWORDBONE HewerofRanksGlowFX FollowBone:yes
		ParticleSysBone     = B_SWORDBONE HewerofRanksSparksFX FollowBone:yes
		FXEvent	= Frame:11 Name: FX_HewerofRanksImpact
	End
	;---------------------------------------------------------------------------

		AnimationState			= STUNNED_FLAILING
			Animation			= FLYA
				AnimationName	= GUAragorn_SKL.GUAragorn_FLYA
				AnimationMode	= LOOP
				AnimationSpeedFactorRange	= 0.4 0.6
			End
		End

		AnimationState 			= DYING SPLATTED
			Animation 		= Splatted_On_Ground
				AnimationName	= GUAragorn_SKL.GUAragorn_LNDA
				AnimationMode	= ONCE
			End
			EnteringStateFX		= FX_SoldierHitGround
		End

		; --- Dying anims
		AnimationState				= DYING
			Animation				= GUAragorn_DIEA
				AnimationName		= GUAragorn_SKL.GUAragorn_DIEA
				AnimationMode		= ONCE
			End
			Animation				= GUAragorn_DIEB
				AnimationName		= GUAragorn_SKL.GUAragorn_DIEB
				AnimationMode		= ONCE
			End
		End

		AnimationState						= PARALYZED
			Animation
				AnimationName				= GUAragorn_IDLE
				AnimationMode				= LOOP
			End
		End

		AnimationState				= STUNNED_STANDING_UP
			Animation				= GUAragorn_GTPB
				AnimationName		= GUAragorn_SKL.GUAragorn_GTPB
				AnimationMode		= ONCE
				AnimationSpeedFactorRange = 1.5 1.5
			End
		End

		AnimationState			= STUNNED
			Animation			= LNDA
				AnimationName	= GUAragorn_SKL.GUAragorn_LNDA
				AnimationMode	= ONCE
			End
			EnteringStateFX		= FX_SoldierHitGround
		End




	; --- Attacking Anims [Weapon_A]






		AnimationState        = MOVING FIRING_OR_PREATTACK_A
			ShareAnimation		= Yes
			Animation           = RunAndFire
				AnimationName       = GUAragorn_SKL.GUAragorn_ATRA
				AnimationMode       = LOOP
			End
			Flags               = RANDOMSTART
		End

		AnimationState				= FIRING_OR_PREATTACK_A WEAPONSET_HERO_MODE ; Blademaster Mode
			StateName				= STATE_ready
			Animation				= ATKF
				AnimationName		= GUAragorn_SKL.GUAragorn_ATKF
				AnimationMode		= ONCE
				UseWeaponTiming		= Yes
			End
			Flags					= RESTART_ANIM_WHEN_COMPLETE
			FXEvent	= Frame:25 Name: FX_BladeMasterHitOrient
			FXEvent	= Frame:45 Name: FX_BladeMasterHitOrient
		End

		AnimationState				= FIRING_OR_PREATTACK_A
			StateName				= STATE_ready
			Animation				= ATKD
				AnimationName		= GUAragorn_SKL.GUAragorn_ATKD
				AnimationMode		= ONCE
				UseWeaponTiming		= Yes
				AnimationPriority	= 3
			End
			Animation				= ATKE
				AnimationName		= GUAragorn_SKL.GUAragorn_ATKE
				AnimationMode		= ONCE
				UseWeaponTiming		= Yes
				AnimationPriority	= 2
			End
			Flags					=	RESTART_ANIM_WHEN_COMPLETE
		End






	; --- Moving Anims
		AnimationState				= MOVING
			StateName				= STATE_running

			Animation				= GUAragorn_RUNB
				AnimationName		= GUAragorn_SKL.GUAragorn_RUNB
				AnimationMode		= LOOP
			End
		End

		AnimationState				= LEVELED	; This state clears itself in 3 seconds
			Animation				= LevelUp
				AnimationName		= GUAragorn_SKL.GUAragorn_ATKO
				AnimationMode		= ONCE
			End
		End

		AnimationState				= SPECIAL_POWER_1							; Aragorn shouting Elendil anim
			StateName				= STATE_ready
			Animation				= GUAragorn_ATKL
				AnimationName		= GUAragorn_SKL.GUAragorn_ATKL
				AnimationMode		= ONCE
			End
			ParticleSysBone			= B_SWORDBONE ElendilFlare FollowBone:yes
			ParticleSysBone			= B_SWORDBONE ElendilSwordFlare FollowBone:yes
;			FXEvent	= Name: FX_ElendilGlowEvent
		End

// KNIFE
		AnimationState        = SPECIAL_WEAPON_THREE
			Animation
				AnimationName     = GUAragorn_SKL.GUAragorn_ATKF
				AnimationMode     = ONCE
			End
		End

		AnimationState				= USER_2
			StateName				= ATHELAS
			Animation				= ATKP
				AnimationName		= GUAragorn_SKL.GUAragorn_ATKP
				AnimationMode		= ONCE
			End
		End

		AnimationState				= USER_5  ;USER_1
			StateName				= OATH_BREAKERS
			Animation				= ATKN
				AnimationName		= GUAragorn_SKL.GUAragorn_CHRB
				AnimationMode		= ONCE
			End
		End



	; --------- Click and Hit Reactions ------------

		AnimationState				= HIT_REACTION HIT_LEVEL_3
			StateName				= STATE_bored
			Animation				= Hit_Level_1_b
				AnimationName		= GUAragorn_SKL.GUAragorn_HITB
				AnimationMode		= ONCE
			End
		End

	;----Emotion Animations

		AnimationState				= EMOTION_CELEBRATING
			StateName				= STATE_ready
			Animation				= CHRB
				AnimationName		= GUAragorn_SKL.GUAragorn_CHRB
				AnimationMode		= ONCE
				AnimationPriority	= 1
			End
			Flags					= RESTART_ANIM_WHEN_COMPLETE
		End

		AnimationState				= EMOTION_TAUNTING
			StateName				= STATE_ready
			Animation				= CHRB
				AnimationName		= GUAragorn_SKL.GUAragorn_CHRB
				AnimationMode		= ONCE
				AnimationPriority	= 1
			End
			Flags					= RESTART_ANIM_WHEN_COMPLETE
		End

		AnimationState				= EMOTION_ALERT
			StateName				= STATE_ready
			Animation				= IDLA
				AnimationName		= GUAragorn_SKL.GUAragorn_IDLA
				AnimationMode		= ONCE
				AnimationPriority	= 1
			End
		End

		AnimationState				= EMOTION_MORALE_HIGH
			StateName				= STATE_ready
			Animation				= ATKN
				AnimationName		= GUAragorn_SKL.GUAragorn_ATKN
				AnimationMode		= ONCE
				AnimationPriority	= 1
			End
			Animation				= ATKP
				AnimationName		= GUAragorn_SKL.GUAragorn_ATKP
				AnimationMode		= ONCE
				AnimationPriority	= 15
			End
			Animation				= TNTC
				AnimationName		= GUAragorn_SKL.GUAragorn_TNTD
				AnimationMode		= ONCE
				AnimationPriority	= 30
			End
			Animation				= TNTD
				AnimationName		= GUAragorn_SKL.GUAragorn_TNTD
				AnimationMode		= ONCE
				AnimationPriority	= 30
			End
			Flags					= RESTART_ANIM_WHEN_COMPLETE
		End

		AnimationState				= ENGAGED
			StateName				= STATE_ready
			Animation				= IDLA
				AnimationName		= GUAragorn_SKL.GUAragorn_IDLA
				AnimationMode		= ONCE
				UseWeaponTiming		= Yes
				AnimationPriority	= 1
			End
			Flags					=	RESTART_ANIM_WHEN_COMPLETE
		End

		AnimationState				= RAISING_FLAG
			StateName				= STATE_ready
			Animation				= CHRB
				AnimationName		= GUAragorn_SKL.GUAragorn_CHRB
				AnimationMode		= LOOP
			End
		End

		AnimationState				= SELECTED
			StateName				= STATE_attention
			Animation				= ATNE
				AnimationName		= GUAragorn_SKL.GUAragorn_ATNE
				AnimationMode		= LOOP
				AnimationBlendTime	= 5
				AnimationMustCompleteBlend = yes
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_bored" then CurDrawableSetTransitionAnimState("TRANS_boredToAttention") end
			EndScript
		End

;Anims for EXP
AnimationState        = UNPACKING PACKING_TYPE_2
            Animation           = CHRA
                AnimationName     = GUAragorn_SKL.GUAragorn_CHRB
                AnimationMode     = ONCE
            End
Flags								= RESTART_ANIM_WHEN_COMPLETE
        End

	End


    #include "..\..\..\includes\StunDrawModuleSmall.inc"

; ***DESIGN parameters ***
	Side = Angmar
	EditorSorting = UNIT
	ThreatLevel = ARAGORN_THREAT_LEVEL
	ThingClass = CHARACTER_UNIT
	TransportSlotCount = TRANSPORTSLOTCOUNT_HERO

;	DisplayMeleeDamage = 360

	HeroSortOrder = 20

	BuildCost = 2200
	BuildTime = HERO_BUILDTIME_TIER_3
	MaxSimultaneousOfType = 1
 	ShockwaveResistance = SHOCKWAVE_RESISTANCE_STRONG
	WeaponSet
		Conditions		= None
		Weapon			= PRIMARY   CassimirSword
	End

	ArmorSet
		Conditions		= None
		Armor           = ToughHeroArmor
		DamageFX        = NormalDamageFX
	End
	ArmorSet
		Conditions      = MOUNTED
		Armor           = HeroArmorToughMounted
		DamageFX        = NormalDamageFX
	End

	VisionRange = VISION_HERO_STANDARD
	ShroudClearingRange = SHROUD_CLEAR_HERO
	MaxVisionBonusPercent = 300%
	VisionBonusTestRadius = 200
	VisionBonusPercentPerFoot = 1.0%

	BountyValue = 220
	DisplayName = OBJECT:HaradCassimir
	RecruitText = CONTROLBAR:HaradCassimirRecruit
	ReviveText	= CONTROLBAR:HaradCassimirRevive
	Hotkey		= CONTROLBAR:HaradCassimirHotkey
	CrusherLevel = 0
	MountedCrusherLevel = 1
	CrushableLevel = 2
	MountedCrushableLevel = 2
	CrushWeapon		= HeroCrush
	MinCrushVelocityPercent = 65
	CrushDecelerationPercent = 30
	CrushKnockback = 40
	CrushZFactor = 1.0


	CommandSet = HaradCassimirCommandSet
	CommandPoints = 0 ;40


	; *** AUTO RESOLVE DATA ***
	AutoResolveUnitType = AutoResolveUnit_Hero
	AutoResolveCombatChain = AutoResolve_HeroCombatChain

	AutoResolveBody = Aotr_AutoResolve_LeaderMediumHeroBody

	AutoResolveArmor
		Armor = Aotr_AutoResolve_HeroLeaderArmor
	End

	AutoResolveWeapon
		Weapon = AutoResolve_LeaderHeroModerateWeapon
	End

	AutoResolveLeadership = AutoResolve_CassimirBonus


	; *** AUDIO Parameters ***;

	;VoiceAmbushed				= CassimirVoiceAmbushed	  OBSOLETE VOICE
	VoiceAttack					= CassimirVoiceAttack
	VoiceAttackStructure			= CassimirVoiceAttackBuilding
	VoiceAttackMachine			= CassimirVoiceAttack
	VoiceAttackCharge				= CassimirVoiceAttackCharge
	VoiceFear 					= CassimirVoiceHelpMe
	VoiceMove					= CassimirVoiceMoveFoot
	VoiceMoveToCamp				= CassimirVoiceMoveCamp
	VoiceMoveWhileAttacking			= CassimirVoiceDisengage
	VoicePriority				= 90   				;Default is 5. In mixed groups, Aragorn almost always 'wins'
	VoiceRetreatToCastle			= CassimirVoiceRetreat
	VoiceSelect					= CassimirVoiceSelectMS
	VoiceSelectBattle				= CassimirVoiceSelectBattle
	VoiceGuard					= CassimirVoiceMoveFoot

	SoundImpact					= ImpactHorse

;AragornVoiceDismissOathbreakers
;AragornVoiceJoinAnybody

	UnitSpecificSounds
		VoiceEnterUnitElvenTransportShip	= CassimirVoiceMoveGarrison
		VoiceGarrison						= CassimirVoiceMoveGarrison
		VoiceInitiateCaptureBuilding		= CassimirVoiceMoveFoot
	End
		ClientBehavior = ModelConditionSoundSelectorClientBehavior ModuleTag_MCSoundSelector
		SoundState = MOUNTED
			VoiceAttack				= CassimirVoiceAttack
			VoiceAttackCharge			= CassimirVoiceAttackCharge
			VoiceAttackMachine		= CassimirVoiceAttackBuilding
			VoiceAttackStructure		= CassimirVoiceAttackBuilding
			VoiceFear 				= CassimirVoiceHelpMe
			VoiceMove				= CassimirVoiceMoveMounted
			VoiceMoveToCamp			= CassimirVoiceMoveCamp
			VoiceMoveWhileAttacking		= CassimirVoiceDisengage
			VoiceRetreatToCastle		= CassimirVoiceRetreat
			VoiceSelect				= CassimirMountedVoiceSelectMS
			VoiceSelectBattle 		= CassimirVoiceSelectBattle
			VoiceGuard				= CassimirVoiceMoveMounted
			SoundImpact				= ImpactHorse
			VoicePriority			= 82
	UnitSpecificSounds
		VoiceEnterUnitElvenTransportShip	= CassimirVoiceMoveGarrison
		VoiceGarrison						= CassimirVoiceMoveGarrison
		VoiceInitiateCaptureBuilding		= CassimirVoiceMoveMounted
	End
		End
	End

	CrowdResponseKey = EvilMen2

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"
	EvaEventDieOwner				= HaradwaithCassimirDie	;Eva event to trigger on unit's death. NOTICE THAT this is only for permanent deaths
					     		; For deaths you can respawn from, use the DeathFX

	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU			; Tie into LargeGroupAudio system
		Key = Humanoid_Male Man Man_Male Unit Infantry Hero
		;UnitWeight = 2
	End

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		;AnimationSound = Sound:AragornVoiceEnterStateSummonOathbreakers	Animation:GUAragorn_SKL.GUAragorn_ATKN	Frames:60
		AnimationSound = Sound:FootstepDirtA					Animation:GUAragorn_SKL.GUAragorn_RUNB	Frames:8 17 26 36

		AnimationSound = Sound:BodyFallGenericNoArmor				Animation:GUAragorn_SKL.GUAragorn_DIEA	Frames:55
		AnimationSound = Sound:BodyFallGenericNoArmor				Animation:GUAragorn_SKL.GUAragorn_DIEB	Frames:70
		AnimationSound = Sound:BodyFallSoldier					Animation:GUAragorn_SKL.GUAragorn_LNDA	Frames:1
		AnimationSound = Sound:HorseMoveFootsteps		Animation:RUHHs_Theo_SKL.RUHHs_Theo_ACCL	Frames:14 32
		AnimationSound = Sound:HorseMoveFootsteps		Animation:RUHHs_Theo_SKL.RUHHs_Theo_RUNA	Frames:0
		AnimationSound = Sound:HorseMoveFootsteps		Animation:RUHHs_Theo_SKL.RUHHs_Theo_TNL1	Frames:0
		AnimationSound = Sound:HorseMoveFootsteps		Animation:RUHHs_Theo_SKL.RUHHs_Theo_TNR1	Frames:0
		AnimationSound = Sound:HorseWhinny			Animation:RUHHs_Theo_SKL.RUHHs_Theo_IDLC	Frames:3
		AnimationSound = Sound:HorseDieForHero		Animation:RUHHs_Theo_SKL.RUHHs_Theo_LNDA	Frames:0
		AnimationSound = Sound:BodyFallSoldier		Animation:RUHHs_Theo_SKL.RUHHs_Theo_LNDA	Frames:1 9
		AnimationSound = Sound:HorseDieForHero		Animation:RUHHs_Theo_SKL.RUHHs_Theo_DIEA	Frames:0
		AnimationSound = Sound:BodyFallGenericNoArmor	Animation:RUHHs_Theo_SKL.RUHHs_Theo_DIEA	Frames:4
		AnimationSound = Sound:BodyFallSoldier		Animation:RUHHs_Theo_SKL.RUHHs_Theo_DIEA	Frames:42
	End


	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE HERO ARMY_SUMMARY HEAVY_MELEE_HITTER
	PathfindDiameter = 25 ; = 40.0

	Body = RespawnBody ModuleTag_RespawnBody
		CheerRadius 			= EMOTION_CHEER_RADIUS
		MaxHealth         		= 2500
		MaxHealthReallyDamaged = 1100
		PermanentlyKilledByFilter	= NONE		;Who kills me permanently?
   		DodgePercent      		= HERO_DODGE_PERCENT
	End
	Behavior = RespawnUpdate ModuleTag_RespawnUpdate
		DeathAnim				= DYING				;Model condition to play when killed-to-respawn
		DeathFX				= FX_CassimirDieToRespawn     	;FXList to play when killed-to-respawn
		DeathAnimationTime		= 3933				;How long DeathAnim will take.
		InitialSpawnFX			= FX_CassimirInitialSpawn	;FXList to play when respawning.
		RespawnAnim				= LEVELED				;Animation to play when respawning.
		RespawnFX				= FX_CassimirRespawn	;FXList to play when respawning.
		RespawnAnimationTime		= 2000				;Time it takes for respawn to play.
		AutoRespawnAtObjectFilter	= NONE +CASTLE_KEEP		;Respawn at this location -- and at it's exit production point if possible.
		ButtonImage				= hicassimir_res
		RespawnRules =			AutoSpawn:No	Cost:1760		Time:HERO_RESPAWNTIME_TIER_3		Health:100% ;Cost:1200
		RespawnEntry =	Level:2				Cost:1870		Time:HERO_RESPAWNTIME_TIER_3
		RespawnEntry =	Level:3				Cost:1980		Time:HERO_RESPAWNTIME_TIER_3
		RespawnEntry =	Level:4				Cost:2090		Time:HERO_RESPAWNTIME_TIER_3
		RespawnEntry =	Level:5				Cost:2200		Time:HERO_RESPAWNTIME_TIER_3
		RespawnEntry =	Level:6				Cost:2310		Time:HERO_RESPAWNTIME_TIER_3
		RespawnEntry =	Level:7				Cost:2420		Time:HERO_RESPAWNTIME_TIER_3
		RespawnEntry =	Level:8				Cost:2530		Time:HERO_RESPAWNTIME_TIER_3
		RespawnEntry =	Level:9				Cost:2640		Time:HERO_RESPAWNTIME_TIER_3
		RespawnEntry =	Level:10			Cost:2750		Time:HERO_RESPAWNTIME_TIER_3
	End

	Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End

	#include "..\..\..\includes\CaptureBuilding.inc"


	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
		MoodAttackCheckRate        = 500
		AILuaEventsList				= CassimirFunctions
	End

	Behavior = EmotionTrackerUpdate	Module_EmotionTracker
		TauntAndPointDistance				= 300
		TauntAndPointUpdateDelay			= 10000
		AddEmotion			=	Doom_Base
		//	AddEmotion			=   BraceForBeingCrushed_Base
		//	AddEmotion			=	FearIdle_Base
		//	AddEmotion			=	FearBusy_Base
		AddEmotion			=	Point_Base
		AddEmotion			=	Taunt_Base
 		AddEmotion			=	CheerIdle_Base
		AddEmotion			=	CheerBusy_Base
		//	AddEmotion			=	HeroCheerIdle_Base
		//	AddEmotion			=	HeroCheerBusy_Base
		AddEmotion			=	Alert_Base
		AddEmotion			=	CheerForAboutToCrush_Base
	End

	LocomotorSet
		Locomotor = HeroHumanLocomotor
		Condition = SET_NORMAL
		Speed     = NORMAL_EVIL_HERO_SPEED
	End

    LocomotorSet
		Locomotor = HeroHorseLocomotor
		Condition = SET_MOUNTED
		Speed     = NORMAL_MOUNTED_MED_MEMBER_SPEED
	End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
		ShockStandingTime = 2133	;msec
	End

	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
		Sound = INITIAL CassimirVoiceDie
	End

	Behavior = SquishCollide ModuleTag_06
		;nothing
	End
	Behavior = ObjectCreationUpgrade ModuleTag_RemoveUpgrades1
		TriggeredBy = Upgrade_MiniHordeLvl2 ;when using bow
		RemoveUpgrade = Upgrade_MiniHordeLvl3 ;when using sword
    End
    Behavior = ObjectCreationUpgrade ModuleTag_RemoveUpgrades2
		TriggeredBy = Upgrade_MiniHordeLvl3 ;when using sword
		RemoveUpgrade = Upgrade_MiniHordeLvl2 ;when using bow
    End
	Behavior = CommandSetUpgrade ModueTag_UsingBowCommandSet
		TriggeredBy				= Upgrade_MiniHordeLvl2
		ConflictsWith			= Upgrade_MiniHordeLvl3
		CommandSet				= HaradCassimirCommandSet
		RequiresAllTriggers		= Yes
	End
	Behavior = CommandSetUpgrade ModueTag_UsingSwordCommandSet
		TriggeredBy				= Upgrade_MiniHordeLvl3
		ConflictsWith			= Upgrade_MiniHordeLvl2
		CommandSet				= HaradCassimirCommandSetMounted
		RequiresAllTriggers		= Yes
	End
	Behavior = CommandSetUpgrade ModueTag_UsingBowCommandSetLvl8
		TriggeredBy				= Upgrade_MiniHordeLvl2 Upgrade_ObjectLevel8
		ConflictsWith			= Upgrade_MiniHordeLvl3
		CommandSet				= HaradCassimirCommandSetLvl8
		RequiresAllTriggers		= Yes
	End
	Behavior = CommandSetUpgrade ModueTag_UsingSwordCommandSetLvl8
		TriggeredBy				= Upgrade_MiniHordeLvl3 Upgrade_ObjectLevel8
		ConflictsWith			= Upgrade_MiniHordeLvl2
		CommandSet				= HaradCassimirCommandSetLvl8Mounted
		RequiresAllTriggers		= Yes
	End
	;-------------------------------------------------------------------------------------------------------------------------
	;------- LORD OF STONES --------------------------------------------------------------------------------------------------
	;-------------------------------------------------------------------------------------------------------------------------
	Behavior = AttributeModifierAuraUpdate ModuleTag_Leadership
		StartsActive		= No
		BonusName			= LordofStonesLeadership
		TriggeredBy			= Upgrade_ObjectLevel1
		RefreshDelay		= 2000
		Range				= 200
		ObjectFilter		= NONE +HaradBlackNumenoreanWarrior +HaradBlackNumenoranWarriorsHorde +HaradBlackNumenoreanVanguard +HaradBlackNumenoreanVanguardHorde ;AOTR_GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
	End
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_TheodenLeadership
		SpecialPowerTemplate = SpecialAbilityFakeLeadership
		TriggeredBy = Upgrade_ObjectLevel1
	End
	Behavior = SpecialPowerModule ModuleTag_TheodenLeadershipUpdate
		SpecialPowerTemplate      = SpecialAbilityFakeLeadership
		UpdateModuleStartsAttack  = No
		StartsPaused = Yes
	End
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_TheodenGloriousChargeEnabler
		SpecialPowerTemplate = SpecialAbilityElfhelmQuickRescue
		TriggeredBy = Upgrade_ObjectLevel8
	End
	Behavior = SpecialAbilityUpdate ModuleTag_GloriousChargeAnimationInspiration
		UnpackTime              = 1000
		UnpackingVariation		= 2
		SpecialPowerTemplate	= SpecialAbilityElfhelmQuickRescue
 		PreparationTime         = 0
 		PersistentPrepTime      = 0
 		PackTime                = 1330
 	End
	Behavior = SpecialPowerModule ModuleTag_ElfhelmQuickRescueInfantry
		SpecialPowerTemplate      = SpecialAbilityElfhelmQuickRescue
		UpdateModuleStartsAttack  = Yes
		StartsPaused 			  = Yes
		AttributeModifier 		  = LordofStonesActive
		AttributeModifierRange    = 200
		;AttributeModifierAffectsSelf = Yes
		AttributeModifierAffects = AOTR_GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
		AttributeModifierFX = FX_CassimirLordofStone
	End
	;---------------------------------------------------------------------------------------------------------------------------
	;-------- RULE OF THE KING'S MEN ---------------------------------------------------------------------------------------------------
	;---------------------------------------------------------------------------------------------------------------------------
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_FaramirRangersEnabler1
        SpecialPowerTemplate = RuleoftheKingsMen
        TriggeredBy = Upgrade_ObjectLevel3
    End
    Behavior = OCLSpecialPower ModuleTag_OCLSpecialPowerLvl3
        SpecialPowerTemplate    = RuleoftheKingsMen
        OCL                        = OCL_SpawnCassimirBannerEgg
        CreateLocation       = USE_OWNER_OBJECT
        StartsPaused            = Yes
        SetModelCondition        = ModelConditionState:USER_1
        SetModelConditionTime    = 1
		TriggerFX			 = FX_GenericGoodSummon
    End
	Behavior = AutoAbilityBehavior ModuleTag_GreysDAutoAbility
		SpecialAbility	= RuleoftheKingsMen
		ForbiddenStatus = INSIDE_GARRISON
		MaxScanRange	= 300
		Query		= 30 ANY ENEMIES +INFANTRY +CAVALRY -STRUCTURE -WALL_UPGRADE -WALL_HUB -WALL_SEGMENT -DEFENSIVE_WALL -FS_BASE_DEFENSE
	End
	;--------------------------------------------------------------------------------------------------------------------------
	;------- COLD JUDGEMENT ---------------------------------------------------------------------------------------------------
	;--------------------------------------------------------------------------------------------------------------------------
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_HighAuthority
		SpecialPowerTemplate	= SpecialAbilityCassimirColdJudgement
		TriggeredBy				= Upgrade_ObjectLevel6
	End
	Behavior = OCLSpecialPower ModuleTag_HighAutority_OCL
		SpecialPowerTemplate = SpecialAbilityCassimirColdJudgement
		OCL                  = OCL_CassimirColdJudgement
		TriggerFX			 = FX_ColdJudgement
		CreateLocation       = CREATE_AT_LOCATION
		StartsPaused		 = Yes
	End
	Behavior = AutoAbilityBehavior ModuleTag_HighAutorityAutoAbility
		SpecialAbility	= SpecialAbilityCassimirColdJudgement
		ForbiddenStatus = INSIDE_GARRISON
		MaxScanRange	= 300
		Query		= 1 ALL ENEMIES -STRUCTURE -WALL_UPGRADE -WALL_HUB -WALL_SEGMENT -DEFENSIVE_WALL -FS_BASE_DEFENSE
	End
	;---------------------------------------------------------------------------------------------------------------------------
	;-------- HEWER OF RANKS ---------------------------------------------------------------------------------------------------
	;---------------------------------------------------------------------------------------------------------------------------
	; ------- Mighty Blow: hit a single target for knockdown, cripple and damage
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_BlowEnabler
		SpecialPowerTemplate = SpecialAbilityHewerofRanks
		TriggeredBy = Upgrade_ObjectLevel9
	End
	Behavior = SpecialPowerModule ModuleTag_BlowStarter
		SpecialPowerTemplate      = SpecialAbilityHewerofRanks
		UpdateModuleStartsAttack  = Yes
		StartsPaused = Yes
		InitiateSound = CassimirVoiceHewerofRanks
	End
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_BlowUpdate
		SpecialPowerTemplate    = SpecialAbilityHewerofRanks
		SkipContinue			= Yes

		UnpackTime				= 1100
		PreparationTime			= 1
		PersistentPrepTime		= 500
		PackTime				= 500
		MustFinishAbility		= Yes

		AwardXPForTriggering		= 0
		StartAbilityRange			= 35.0		;a bit above actual weapon range

		SpecialWeapon				= CassimirHewerofRanks  ;ElladanBrightBlade
		WhichSpecialWeapon			= 1
	End
	;-------------------------------------PT2
		Behavior = UnpauseSpecialPowerUpgrade ModuleTag_AragornBladeMasterEnabler2
		SpecialPowerTemplate		= SpecialAbilityHewerofRanks
		TriggeredBy					= Upgrade_ObjectLevel10
	End
	  	Behavior = SpecialPowerModule ModuleTag_AragornBladeMasterStarter2
		SpecialPowerTemplate    = SpecialAbilityHewerofRanks
		StartsPaused			= Yes
;		SetModelCondition		= ModelConditionState:USER_4 ;WAR_CHANT
;		SetModelConditionTime		= 1.4
;		DisableDuringAnimDuration	= Yes
	End
	Behavior = HeroModeSpecialAbilityUpdate ModuleTag_AragornBladeMasterUpdate2
		SpecialPowerTemplate    = SpecialAbilityHewerofRanks
		HeroAttributeModifier	= CassimirHewerofRanksSelf ;ElrohirSwiftStrikes
		HeroEffectDuration		= 30000
		UnpackTime              = 1
;		TriggerSound			= AragornBladeMaster
	End
	;-----------------------------------
	Behavior = AutoAbilityBehavior ModuleTag_BlademasterAutoAbility
		SpecialAbility				= SpecialAbilityHewerofRanks
		ForbiddenStatus = INSIDE_GARRISON
		MaxScanRange				= 200
		Query						= 1 ALL ENEMIES -WALL_UPGRADE -WALL_HUB -WALL_SEGMENT -DEFENSIVE_WALL
	End
    ;------------------------------------------------------------------------------------------------------------------------
    ;---------- Brego Mount -------------------------------------------------------------------------------------------------
    ;------------------------------------------------------------------------------------------------------------------------
     Behavior = UnpauseSpecialPowerUpgrade ModuleTag_ScorpionToggleEnabler
        SpecialPowerTemplate = SpecialAbilityToggleMounted ;SpecialAbilityToggleMounted2
        TriggeredBy = Upgrade_ObjectLevel1
    End

    Behavior = SpecialPowerModule ModuleTag_ScorpionToggleStarter
         SpecialPowerTemplate      = SpecialAbilityToggleMounted ;SpecialAbilityToggleMounted2
         UpdateModuleStartsAttack  = No
;;         ;InitiateSound           =
         StartsPaused = Yes
     End

    Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_ScorpionToggle
        SpecialPowerTemplate    = SpecialAbilityToggleMounted ;SpecialAbilityToggleMounted2
         UnpackTime              = 2000
         PreparationTime         = 1
         PersistentPrepTime      = 250
         PackTime                = 2000
         OpacityTarget            = .3        ; How see-thru to be at peak of change
         AwardXPForTriggering    = 0
    End
	;-----------------------------------------------------------------------------------------------------------------------
	;-----------------------------------------------------------------------------------------------------------------------
	;---------------------------------------------------------------
	;	SAURON'S REWARD
	;---------------------------------------------------------------
	Behavior = AttributeModifierUpgrade ModuleTag_SauronsRewardBonus
		TriggeredBy			= Upgrade_DwarvenMithrilMail
		AttributeModifier	= SauronsRewardBonus
	End
	;---------------------------------------------------------------
	Behavior = AutoHealBehavior ModuleTag_AragornHealing
		StartsActive = Yes
		HealingAmount = HERO_HEAL_AMOUNT
		HealingDelay = 1000
		StartHealingDelay = HERO_HEAL_DELAY
		HealOnlyIfNotInCombat = Yes
	End

	Behavior = AutoAbilityBehavior ModuleTag_AutoAbilityBehavior
	End

	; AI Auto-Retreat Behavior
		#include "..\..\..\aicoding\autoretreat4.inc"


	;///////////////////
	; AISpecialPowers
	;///////////////////

	Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
		CommandButtonName = Command_SetStanceBattle
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
	End

	Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive
		CommandButtonName = Command_SetStanceAggressive
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
	End

	Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
		CommandButtonName = Command_SetStanceHoldGround
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
	End

	Behavior = AISpecialPowerUpdate LordOfStonesAI
		CommandButtonName = Command_SpecialAbilityLordofStones
		SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
	End

	Behavior = AISpecialPowerUpdate ToggleMountAI
		CommandButtonName = Command_ToggleMountedCassimir
		SpecialPowerAIType = AI_SPECIAL_POWER_TOGGLE_MOUNTED
	End

	Behavior = AISpecialPowerUpdate RuleoftheKingsMenAI
		CommandButtonName = Command_SpecialAbilityCassimirRuleoftheKingsMen
		SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
	End

	Behavior = AISpecialPowerUpdate ColdJudgementAI
		CommandButtonName = Command_SpecialAbilityCassimirColdJudgement
		SpecialPowerAIType = AI_SPECIAL_POWER_RANGED_AOE_ATTACK_UNITS ; AI_SPELLBOOK_TREE_KILLER Was this but battle buffs are better for AI Anyways.
		SpecialPowerRadius = 50
	End

	Behavior = AISpecialPowerUpdate HewerofRanksAI
		CommandButtonName = Command_CassimirHewerofRanks
		SpecialPowerAIType = AI_SPECIAL_POWER_ENEMY_TYPE_KILLER
	End

 	; Behavior = AISpecialPowerUpdate AragornBregoMountAI
		; CommandButtonName = Command_AragornBregoMount
		; SpecialPowerAIType = AI_SPECIAL_POWER_GOBLINKING_MOUNTED
	; End

	Behavior = GrantUpgradeCreate ModuleTag_GiveUpgrade
		UpgradeToGrant			= Upgrade_WOTRHero5
	End

	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = Yes
	Shadow = SHADOW_DECAL
	ShadowSizeX = 20;
	ShadowSizeY = 20;
	ShadowTexture = ShadowI;
End

;--------------------------------------------------------------
;-------------------------------------------------------------
Object CassimirHewerWeaponEgg

	Draw = W3DScriptedModelDraw ModuleTag_Draw
		DefaultModelConditionState
			Model = None
		End
	End

	KindOf = INERT IMMOBILE UNATTACKABLE

	Body = ActiveBody ModuleTag_MakesKillWork
		MaxHealth = 1
	End

	Behavior = LifetimeUpdate ModuleTag_HatchTrigger
		MinLifetime = 5000
		MaxLifetime = 5000
	End

	Behavior = AttributeModifierAuraUpdate ModuleTag_GrimResolve
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= CassimirHewerofRanksSelf
		RefreshDelay	= 1000
		Range			= 10
		ObjectFilter	= NONE +HaradCassimir
	End
End

;----------------------
;------------------------
Object CassimirBannerEgg
	Draw = W3DScriptedModelDraw ModuleTag_Draw
		DefaultModelConditionState
			Model = None
		End
	End
	KindOf = INERT IMMOBILE UNATTACKABLE

	Body = ActiveBody ModuleTag_MakesKillWork
		MaxHealth = 1
	End
	Behavior = LifetimeUpdate ModuleTag_HatchTrigger
		MinLifetime = 0.0
		MaxLifetime = 0.0
	End
	Behavior = SlowDeathBehavior ModuleTag_HatchProcess
		DestructionDelay = 2000
		OCL = FINAL OCL_SummonCassimirBanner
	End
End
Object CassimirFlag
	SelectPortrait = BPHaradTradingPost
	Draw = W3DScriptedModelDraw ModuleTag_Draw
		DefaultModelConditionState
			Model               = hudickbnr_skn
		End
	End
	DisplayName			= OBJECT:CassmirsBanner
	EditorSorting		= MISC_MAN_MADE
	Side				= Angmar
	BuildTime					= 30.0
	ShroudClearingRange	= SHROUD_CLEAR_SKULL_TOTEM
	KindOf				= STRUCTURE IMMOBILE SELECTABLE IGNORE_FOR_VICTORY NOT_AUTOACQUIRABLE
	RadarPriority		= UNIT
	CommandSet = SellableCommandSet
	ArmorSet
		Conditions			= None
		Armor				= StewPotArmor
	End
	Body            = ActiveBody ModuleTag_Body
		MaxHealth	= 1000
	End
	Behavior = DestroyDie ModuleTagDeath_Die
		DeathTypes = ALL
	End
	Behavior = PassiveAreaEffectBehavior ModuleTag_FeelGoodHero
	EffectRadius			= GONDOR_WELL_AOE_RADIUS
	PingDelay				= 4000	;msec
	ModifierName			= CassimirBannerModifier
	AllowFilter				= AOTR_GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
	End
	;-----------------------------------------------------------
	;-----------------------------------------------------------
	Behavior = BannerCarrierUpdate BannerCarrierUpdateModuleTag
		IdleSpawnRate			= 6000							; spawn a new member every n seconds when idle (in miliseconds). Greater than lifetime
		UnitSpawnFX				= FX_BannerCarrierSpawnUnit		; name of particle FX to use when the BannerCarrier spawns a new unit

		; This object acts like a banner carrier except it spawns unit on nearby hordes instead of itself.
		ReplenishNearbyHorde	= Yes
		ReplenishAllNearbyHordes = Yes ; Except it replenishes 1 for each horde, not 1 total
		ScanHordeDistance		= 200.0 ;SPELL_HEAL_RADIUS_HORDE_SCAN
;		 AcceptanceFilter            = NONE +HaradTribalAxemenHorde +HaradTribalJavelineersHorde +HaradTribalSpearmenHorde
	End
	;-----------------------------------------------------------------------------
	;-----------------------------------------------------------------------------
	; Behavior = PassiveAreaEffectBehavior ModuleTag_SplashOfHealingWater_Ahh
		; EffectRadius			= 200 ;GONDOR_WELL_AOE_RADIUS
		; PingDelay			= 3000	;2000;msec
		; HealPercentPerSecond		= 1%	;3%
		; AllowFilter			= ANY +INFANTRY +CAVALRY -MACHINE -IMMOBILE +DOZER
		; NonStackable			= Yes
		; HealFX				= FX_SpellHealUnitHealBuff
	; End
	Behavior = LifetimeUpdate ModuleTag_LifetimeUpdate
	// This one does the work, but the one in the horde displays the timer
		MinLifetime		= 60000
		MaxLifetime		= 60000
		DeathType		= FADED
	End
	Scale = 1.0 ;0.7
	Geometry				= CYLINDER
  	GeometryMajorRadius		= 10.0
	GeometryHeight			= 30.0
	GeometryIsSmall			= No
	BuildCompletion			= PLACED_BY_PLAYER
	GeometryContactPoint = X:0.0	Y:0.0		Z:0
	GeometryContactPoint = X:0.0	Y:0.0		Z:30.0		Swoop
End

Object CassimirJudgementEgg

	Draw = W3DScriptedModelDraw ModuleTag_Draw
		DefaultModelConditionState
			Model = None
		End
	End

	KindOf = IMMOBILE UNATTACKABLE

	Body = ActiveBody ModuleTag_MakesKillWork
		MaxHealth = 1
	End

	Behavior = LifetimeUpdate ModuleTag_HatchTrigger
		MinLifetime = 1000
		MaxLifetime = 1000
	End

	Behavior = SlowDeathBehavior ModuleTag_HatchProcess
		DestructionDelay = 0
		Weapon	= INITIAL ColdJudgementWeapon
	End

End
