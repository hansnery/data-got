;------------------------------------------------------------------------------
;
;	BlackRider.ini
;
;------------------------------------------------------------------------------

; aka BlackRider
Object HaradGoldenKing
	; *** ART Parameters ***

	; SelectPortrait for Heros is portrait behind skill buttons. HP = HeroPortrait.
	ButtonImage = higoldenking
	SelectPortrait = HPGoldenKing

	DescriptionStrategic = CONTROLBAR:LW_ToolTip_Khamul

	Draw = W3DScriptedModelDraw ModuleTag_01
	  OkToChangeModelColor = Yes
		ExtraPublicBone = PASSENGERBONE
			  DependencySharedModelFlags = TURN_LEFT_HIGH_SPEED TURN_RIGHT_HIGH_SPEED MOVING ACCELERATE DECELERATE TURN_LEFT TURN_RIGHT ATTACKING BACKING_UP
		DefaultModelConditionState
			Model            = hugolden_skn
		End
		StaticModelLODMode = Yes

		ModelConditionState		= RIDER6
			Model            = hugolden_skn
			ParticleSysBone     = None GoldenKingBlackRiderFlare FXTrigger:NONE Persist:SPAWN PersistID:100
			ParticleSysBone     = NONE GoldenKingBlackRiderMistAroundFeetFX
		End

		AnimationState							= USER_6
			Animation							= TNTA
				AnimationName					= KuMorg_SKL.KUMorg_CHRA
				AnimationMode					= LOOP
				AnimationSpeedFactorRange		= 1.2 1.2
			End
			ParticleSysBone     = NONE DarkAwakeningAura
		End
		; --- Idle Anims
		IdleAnimationState
			StateName = Idle
			Animation           = IDLB
				AnimationName     = KuMorg_SKL.KUMorg_IDLB 0 15
				AnimationMode     = ONCE
				AnimationPriority   = 10
			End
			Animation           = IDLC
				AnimationName     = KuMorg_SKL.KUMorg_IDLC
				AnimationMode     = ONCE
				AnimationPriority   = 1
			End
			Animation           = IDLD
				AnimationName     = KuMorg_SKL.KUMorg_IDLD
				AnimationMode     = ONCE
				AnimationPriority   = 5
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Selected" then CurDrawableSetTransitionAnimState("TRANS_Selected_To_Idle") end
			EndScript
		End

	AnimationState				=	DYING BURNINGDEATH
			Animation
				AnimationName		=	KuMorg_SKL.KUMorg_DTHA
				AnimationMode		=	ONCE
				AnimationBlendTime	=	10
			End
			Animation
				AnimationName		=	KuMorg_SKL.KUMorg_DTHB
				AnimationMode		=	ONCE
				AnimationBlendTime	=	10
			End
		End


		AnimationState = DYING
			Animation
				AnimationName       = KuMorg_SKL.KUMorg_DTHA
				AnimationMode       = ONCE
			End
			Animation
				AnimationName		=	KuMorg_SKL.KUMorg_DTHB
				AnimationMode		=	ONCE
				AnimationBlendTime	=	10
			End
		End

		AnimationState				=	BURNINGDEATH
			Animation
				AnimationName		=	KuMorg_SKL.KUMorg_MFDA
				AnimationMode		=	LOOP
				Distance			=	90
			End
		End

		AnimationState = FREEFALL
			Animation
				AnimationName = KuMorg_SKL.KUMorg_FLYA
				AnimationMode = LOOP
			End
			Flags = RANDOMSTART
		End

		AnimationState = STUNNED_FLAILING
			Animation
				AnimationName = KuMorg_SKL.KUMorg_FLYA
				AnimationMode = LOOP
				AnimationSpeedFactorRange	= 0.4 0.6
			End
			Flags = RANDOMSTART
		End

		AnimationState = STUNNED
			Animation
				AnimationName = KuMorg_SKL.KUMorg_LNDA
			    AnimationMode = ONCE
			End
			EnteringStateFX					= FX_OrcHitGround
		End

		AnimationState = STUNNED_STANDING_UP
			Animation
				AnimationName = KuMorg_SKL.KUMorg_GTPA
				AnimationMode = ONCE
			End
		End

		AnimationState = MOVING FIRING_OR_PREATTACK_A
			Animation
				AnimationName = KuMorg_SKL.KUMorg_RUNB
				AnimationMode = LOOP
			End

			Flags = RESTART_ANIM_WHEN_COMPLETE
		End

		AnimationState = FIRING_OR_PREATTACK_A
			Animation
				AnimationName = KuMorg_SKL.KUMorg_ATKA
				AnimationMode = ONCE
			End
			Animation
				AnimationName = KuMorg_SKL.KUMorg_ATKB
				AnimationMode = ONCE
			End
			Animation
				AnimationName = KuMorg_SKL.KUMorg_ATKC
				AnimationMode = ONCE
			End
		End

		AnimationState = PACKING_TYPE_1
		StateName						=	SPELL
			Animation							= TNTA
				AnimationName					= KuMorg_SKL.KUMorg_CHRA
				AnimationMode					= LOOP
				AnimationSpeedFactorRange		= 1.2 1.2
			End
		End

		AnimationState = PACKING_TYPE_2
		StateName						=	SPELL
			Animation							= TNTA
				AnimationName					= KuMorg_SKL.KUMorg_CHRA
				AnimationMode					= LOOP
				AnimationSpeedFactorRange		= 1.2 1.2
			End
			FXEvent	= Frame:10 Name: FX_GoldenKingScreech
		End

		AnimationState			= SPECIAL_WEAPON_ONE
			Animation			= MORGULBLADE
				AnimationName	= KuMorg_SKL.KUMorg_SPCC
				AnimationMode   = ONCE
			End
		End

		AnimationState			= SPECIAL_WEAPON_TWO
			Animation			= RUIN
				AnimationName	= KuMorg_SKL.KUMorg_SPCA
				AnimationMode   = ONCE
			End
		End

		AnimationState			= SPECIAL_WEAPON_THREE
			Animation			= RUIN
				AnimationName	= KuMorg_SKL.KUMorg_CHRA
				AnimationMode   = ONCE
			End
		End

		AnimationState			= SPECIAL_POWER_1
			Animation			= DARKGLORY
				AnimationName	= KuMorg_SKL.KUMorg_SPCB
				AnimationMode   = ONCE
			End
		End

		AnimationState = MOVING
			Animation
				AnimationName = KuMorg_SKL.KUMorg_RUNA
				AnimationMode = LOOP
			End
			Flags = RESTART_ANIM_WHEN_COMPLETE
		End

		; READY IDLE
		AnimationState        = EMOTION_ALERT
			Animation           = ALERT_1
				AnimationName     = KuMorg_SKL.KUMorg_IDLA
				AnimationMode     = LOOP ;ONCE
			End
;			Flags               = RESTART_ANIM_WHEN_COMPLETE ; acts like an idle animation & keeps running the animations.
		End

		; --------- Click and Hit Reactions ------------
		AnimationState = HIT_REACTION HIT_LEVEL_1
			Animation = Hit_Level_1_a
				AnimationName = KuMorg_SKL.KUMorg_HITA
				AnimationMode = ONCE
			End
		End

		AnimationState = LEVELED
			Animation = Hit_Level_1_a
				AnimationName = KuMorg_SKL.KUMorg_LVLA
				AnimationMode = ONCE
			End
		End

;		AnimationState = ENGAGED
;			Animation
;				AnimationName = KuMorg_SKL.KUMorg_APPA
;				AnimationMode = LOOP
;			End
;		End


		AnimationState = EMOTION_CELEBRATING
			Animation
				AnimationName = KuMorg_SKL.KUMorg_CHRA
				AnimationMode = LOOP
			End
			Animation
				AnimationName = KuMorg_SKL.KUMorg_CHRB
				AnimationMode = LOOP
			End
		End

		AnimationState							= EMOTION_TAUNTING
			Animation							= TNTA
				AnimationName					= KuMorg_SKL.KUMorg_TNTA
				AnimationMode					= ONCE
;				AnimationSpeedFactorRange		= 0.8 1.2
			End
			Animation							= TNTB
				AnimationName					= KuMorg_SKL.KUMorg_TNTB
				AnimationMode					= ONCE
;				AnimationSpeedFactorRange		= 0.8 1.2
			End
			Flags							= RESTART_ANIM_WHEN_COMPLETE
		End

		AnimationState = RAISING_FLAG
			Animation
				AnimationName = KuMorg_SKL.KUMorg_CHRA
				AnimationMode = LOOP
			End
		End



   		 ; --------- Selected Anims and Transitions
		TransitionState					=	TRANS_Idle_to_Selected
			Animation					=	ATNA
				AnimationName			=	KuMorg_SKL.KUMorg_ATNA
				AnimationMode			=	ONCE
			End
		End

		TransitionState					=	TRANS_Selected_To_Idle
			Animation					=	ATNC
				AnimationName			=	KuMorg_SKL.KUMorg_ATNC
				AnimationMode			=	ONCE
			End
		End

		AnimationState				= LEVELED 						; This state clears itself in 3 seconds
			Animation				= LevelUp
				AnimationName		= KuMorg_SKL.KUMorg_CHRA
				AnimationMode		= ONCE
			End
		End

		AnimationState				=	SELECTED
			StateName				=	Selected
			SimilarRestart			=   Yes
			Animation				=	ATNB
				AnimationName		=	KuMorg_SKL.KUMorg_ATNB
				AnimationMode		=	LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") end
			EndScript
		End
	End

	Draw = W3DScriptedModelDraw DustEffects
	    DefaultModelConditionState
	      Model = None
	    End
	    IdleAnimationState
	    End
	    AnimationState = MOVING WADING MOUNTED
			ParticleSysBone = None FootstepSlash
	    End
	    AnimationState = MOVING ACCELERATE MOUNTED
			ParticleSysBone = None GenericSiegeTrailDust
	    End
	    AnimationState = MOVING DECELERATE MOUNTED
			ParticleSysBone = None GenericSiegeTrailDust
	    End
	    AnimationState = MOVING MOUNTED
	    End
	End

	; ***DESIGN parameters ***
	Side				= Angmar
	EditorSorting			= UNIT
	ThreatLevel			= BLACKRIDER_THREAT_LEVEL
	TransportSlotCount		= TRANSPORTSLOTCOUNT_HERO
	MaxSimultaneousOfType		= 6
	BountyValue			= 300
	DisplayName			= OBJECT:HaradGoldenKing
	DisplayNameStrategic = OBJECT:HaradGoldenKing
	RecruitText			= CONTROLBAR:HaradGoldenKingRecruit
	ReviveText			= CONTROLBAR:HaradGoldenKingRevive
	Hotkey				= CONTROLBAR:HaradGoldenKingHotkey
	CommandSet			= HaradGoldenKingCommandSet
	CommandPoints			= 0 ;HERO_COMMAND_POINTS_TIER_4 ;;,;; 75 ;;,;; 25
	;CommandPointBonus	= 50

	BuildCost			= 3000
	BuildTime			= HERO_BUILDTIME_TIER_4 ;;,;; NAZGUL_BUILDTIME
	ShockwaveResistance 		= SHOCKWAVE_RESISTANCE_STRONG
	ShroudClearingRange		= EVILMEN_BLACKRIDER_SHROUD_RANGE
	VisionRange			= EVILMEN_BLACKRIDER_VISION_RANGE
	MaxVisionBonusPercent		= 300%
	VisionBonusTestRadius		= 200
	VisionBonusPercentPerFoot	= 1.0%

	CrushableLevel			= 2			; What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

	MountedCrusherLevel		= 1
	MountedCrushableLevel		= 3
	CrushWeapon			= KnightCrush

	MinCrushVelocityPercent 	= 40 ;;,;; 50 ; Has to be moving at at least 50% of full speed.
	CrushDecelerationPercent	= 15 ;;,;; 20 ; Lose 80 percent of max velocity when crushing.

	RamPower			= 30;
	RamZMult			= 0.5;

	ArmorSet
		Conditions      = None
		Armor           = GoldenKingArmor
		DamageFX        = NormalDamageFX
	End
	WeaponSet
		Conditions		= None
		Weapon			= PRIMARY    GoldenKingWeapon  ;EvilMenBlackRiderSword
		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions = PLAYER_UPGRADE
		Weapon = PRIMARY    GoldenKingWeaponLevel10
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End

	WeaponSet
		Conditions          = WEAPONSET_TOGGLE_1
	End


	// *** AUTO RESOLVE DATA ***
	AutoResolveUnitType = AutoResolveUnit_Hero
	AutoResolveCombatChain = AutoResolve_HeroCombatChain

	AutoResolveBody = Aotr_AutoResolve_LeaderMediumHeroBody

	AutoResolveArmor
		Armor = Aotr_AutoResolve_HeroLeaderArmor
	End

	AutoResolveWeapon
		Weapon = AutoResolve_LeaderHeroStrongWeapon
	End


	; *** AUDIO Parameters ***;

	VoiceAttack								= GKVoiceAttackMS
	VoiceAttackCharge						= GKVoiceAttackChargeMS
	VoiceAttackMachine						= GKVoiceAttackMS
	VoiceAttackStructure					= GKVoiceAttackBuildingMS
	VoiceCreated				= EVA:NazgulCreated
	VoiceFullyCreated 			= EVA:NazgulCreated
	VoiceFear 								= GKVoiceHelpMeMS
	VoiceGuard								= GKVoiceMoveMS
	VoiceMove								= GKVoiceMoveMS
	VoiceMoveToCamp							= GKVoiceMoveCampMS
	VoiceMoveWhileAttacking					= GKVoiceDisengageMS
	VoicePriority							= 67
	VoiceRetreatToCastle					= GKVoiceRetreatMS
	VoiceSelect								= GKVoiceSelectMS
	VoiceSelectBattle 						= GKVoiceSelectBattleMS

	SoundImpact				= ImpactHorse
	UnitSpecificSounds
		VoiceEnterUnitEvilMenTransportShip	= GKVoiceMoveGarrisonMS
		VoiceEnterUnitMordorMumakil		= GKVoiceMoveGarrisonMS
		VoiceEnterUnitSlaughterHouse		= GKVoiceMoveGarrisonMS
		VoiceGarrison				= GKVoiceMoveGarrisonMS
		VoiceInitiateCaptureBuilding		= GKVoiceCaptureBuildingMS
	End

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"
	EvaEventDieOwner 			= HaradwaithGoldenKingDie		;Eva event to trigger on unit's death. NOTICE THAT this is only for permanent deaths

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound:FootstepDirtA			Animation:KuMorg_SKL.KUMorg_RUNA		Frames:4 15
		AnimationSound = Sound:BodyFallGenericNoArmor	Animation:KuMorg_SKL.KUMorg_DIEA		Frames:48
		AnimationSound = Sound:BodyFallGenericNoArmor	Animation:KuMorg_SKL.KUMorg_DIEB		Frames:18
		AnimationSound = Sound:BodyFallSoldier			Animation:KuMorg_SKL.KUMorg_LNDA		Frames:4
	End

	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU			;Tie into LargeGroupAudio system
		Key = Nazgul ;;,;; ;;; Human Unit Cavalry Knight
	End


	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	ThingClass = CHARACTER_UNIT

	KindOf = PRELOAD SELECTABLE HERO PATH_THROUGH_EACH_OTHER CAN_CAST_REFLECTIONS SCORE GRAB_AND_DROP INFANTRY HEAVY_MELEE_HITTER ARMY_SUMMARY

	Body = RespawnBody ModuleTag_RespawnBody
		CheerRadius = EMOTION_CHEER_RADIUS

		MaxHealth			= 3200 ;EVILMEN_BLACKRIDER_HEALTH
		MaxHealthDamaged		= EVILMEN_BLACKRIDER_HEALTH_DAMAGED
		MaxHealthReallyDamaged = 1300
		RecoveryTime			= EVILMEN_BLACKRIDER_HEALTH_RECOVERY_TIME
		CanRespawn			= Yes ;No
		PermanentlyKilledByFilter	= NONE		;Who kills me permanently?
   		DodgePercent      		= HERO_DODGE_PERCENT
		BurningDeathBehavior		= Yes
		BurningDeathFX			= FX_InfantryBurningFlame
	End

	Behavior = RespawnUpdate ModuleTag_RespawnUpdate
		DeathAnim				= DYING							;Model condition to play when killed-to-respawn
		DeathFX					= FX_BlacRiderDieToRespawn     	;FXList to play when killed-to-respawn
		DeathAnimationTime			= 3933							;How long DeathAnim will take.
		InitialSpawnFX				= FX_GoldenKingInitialSpawn		;FXList to play when respawning.
		RespawnAnim				= LEVELED						;Animation to play when respawning.
		RespawnFX				= FX_ResurrectionGoldenKing		;FXList to play when respawning.
		RespawnAnimationTime			= 2000							;Time it takes for respawn to play.
		AutoRespawnAtObjectFilter		= NONE +CASTLE_KEEP				;Respawn at this location -- and at it's exit production point if possible.
		ButtonImage				= higoldenking_res

		;RespawnEntries determine the ruleset for how a character can be revived. Some units may automatically respawn, others
		;may require a specific revive action performed on him. You can specify different values for each level... or use Level:Any
				RespawnRules =			AutoSpawn:No	Cost:2400		Time:HERO_RESPAWNTIME_TIER_4		Health:100% ;Cost:1200
		RespawnEntry =	Level:2				Cost:2550		Time:HERO_RESPAWNTIME_TIER_4
		RespawnEntry =	Level:3				Cost:2700		Time:HERO_RESPAWNTIME_TIER_4
		RespawnEntry =	Level:4				Cost:2850		Time:HERO_RESPAWNTIME_TIER_4
		RespawnEntry =	Level:5				Cost:3000		Time:HERO_RESPAWNTIME_TIER_4
		RespawnEntry =	Level:6				Cost:3150		Time:HERO_RESPAWNTIME_TIER_4
		RespawnEntry =	Level:7				Cost:3300		Time:HERO_RESPAWNTIME_TIER_4
		RespawnEntry =	Level:8				Cost:3450		Time:HERO_RESPAWNTIME_TIER_4
		RespawnEntry =	Level:9				Cost:3600		Time:HERO_RESPAWNTIME_TIER_4
		RespawnEntry =	Level:10			Cost:3750		Time:HERO_RESPAWNTIME_TIER_4
	End

	Behavior = EmotionTrackerUpdate	Module_EmotionTracker
		TauntAndPointDistance				= 300
		TauntAndPointUpdateDelay			= 10000
		AddEmotion			=	Doom_Base
		//	AddEmotion			=   BraceForBeingCrushed_Base
		//	AddEmotion			=	FearIdle_Base
		//	AddEmotion			=	FearBusy_Base
		AddEmotion			=	Point_Base
		AddEmotion			=	Taunt_Base
 		AddEmotion			=	CheerIdle_Base
		AddEmotion			=	CheerBusy_Base
		//	AddEmotion			=	HeroCheerIdle_Base
		//	AddEmotion			=	HeroCheerBusy_Base
		AddEmotion			=	Alert_Base
		AddEmotion			=	CheerForAboutToCrush_Base
	End

	Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Cargast ; Hero
    End

	Behavior = AutoHealBehavior ModuleTag_EowynHealing
		StartsActive = Yes
		HealingAmount = HERO_HEAL_AMOUNT
		HealingDelay = 1000
		StartHealingDelay = HERO_HEAL_DELAY
		HealOnlyIfNotInCombat = Yes
	End

	; Behavior = AutoHealBehavior ModuleTag_MHHHealing ;;,;; added
		; StartsActive 			= No
		; TriggeredBy 			= Upgrade_MiniHordeLvl2 ;;,;; Upgrade_MiniHordeLvl3
		; HealingAmount 			= 10
		; HealingDelay 			= 1000
		; StartHealingDelay 		= 20000
		; UnitHealPulseFX			= FX_SpellHealUnitHealBuff
		; NonStackable			= Yes
		; HealOnlyIfNotInCombat 		= Yes
		; HealOnlyIfNotUnderAttack	= Yes
	; End
		Behavior = AutoHealBehavior ModuleTag_LurtzHealing
		StartsActive			= Yes
		HealingAmount			= HERO_HEAL_AMOUNT
		HealingDelay			= 1000
		StartHealingDelay		= HERO_HEAL_DELAY
		HealOnlyIfNotInCombat	= Yes
	End

	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle	= Yes ATTACK_BUILDINGS
		AILuaEventsList				= GoldenKingFunctions ;EvilMenBlackRiderFunctions
		BurningDeathTime			= BURNINGDEATH_DURATION_INFANTRY
	End

	LocomotorSet
		Locomotor = HeroHumanLocomotor
		Condition = SET_NORMAL
		Speed     = NORMAL_EVIL_HERO_SPEED
	End

	LocomotorSet
		Locomotor = NormalHorseHordeMemberLocomotor
		Condition = SET_MOUNTED
		Speed     = NORMAL_MOUNTED_FAST_MEMBER_SPEED ;;.;; NORMAL_CAVALRY_FAST_MEMBER_SPEED
	End

	LocomotorSet
		Condition = SET_NORMAL_UPGRADED
	End

	LocomotorSet
		Locomotor = BurningDeathLocomotorInfantry
		Condition = SET_BURNINGDEATH
		Speed	  = 60
	End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
		ShockStandingTime = 2533	;msec
	End

	Behavior = SquishCollide ModuleTag_06
		;nothing
	End

	Behavior = HordeMemberCollide ModuleTag_HMC
		;nothing
	End

	Behavior = SlowDeathBehavior ModuleTag_08
		; Die and don't spawn horse
		DeathTypes = ALL
		SinkDelay = 3000
		SinkRate = 0.80     ; in Dist/Sec
		DestructionDelay = 12000
		;ProbabilityModifier = 33
		Sound = INITIAL GKVoiceDie ;;,;; ;;; GondorSoldierVoiceDie
	End

	  Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
		HitReactionLifeTimer1 = 2000 ; level 1 (light  damage)  hit reaction animations in frames (5 per sec)
		HitReactionLifeTimer2 = 2000 ; level 2 (medium damage)  hit reaction animations in frames (5 per sec)
		HitReactionLifeTimer3 = 2000 ; level 3 (heavy  damage)  hit reaction animations in frames (5 per sec)

		HitReactionThreshold1 = 0.0   ; level 1 (light  damage) threshold trigger
		HitReactionThreshold2 = 25.0  ; level 2 (medium damage) threshold trigger
		HitReactionThreshold3 = 50.0  ; level 3 (heavy  damage) threshold trigger
	End

		;;; CAPTURE ;;;
	#include "..\..\..\includes\CaptureBuilding.inc"

;------------------------------------------------------------------------------------------------------------
;------------------- PERSONAL GUARD PASSIVE------------------------------------------------------------------
;------------------------------------------------------------------------------------------------------------
		Behavior = ProductionUpdate ProductionUpdateModuleTag
		GiveNoXP = Yes
	End

	Behavior = QueueProductionExitUpdate ModuleTag_11
		PlacementViewAngle  = 45
		UnitCreatePoint			= X:10.0 Y:0.0 Z:0.0
		NaturalRallyPoint		= X:20.0 Y:-20.0 Z:0.0
		ExitDelay			= 100 ;STANDARD_HORDE_EXIT_DELAY
		;NoExitPath			= Yes
	End

		Behavior = SpawnBehavior ModuleTag_SpawnFighters
		SpawnNumber = 3
		InitialBurst = 3 ;4
		SpawnTemplateName = HaradAbrakhanWarriorGuard_GoldenKing  ;IsengardWildmanGuard_Saruman ;IsengardFanatic_Slaved
		SpawnReplaceDelay = 180000
		FadeInTime = 3000
		SpawnInsideBuilding = No
		CanReclaimOrphans	= Yes
	End
;------------------------------------------------------------------------------------------------------------
;--------------- PERSONAL GUARD ACTIVE -----------------------------------------------------------------------
;------------------------------------------------------------------------------------------------------------
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_WordEnabler
		SpecialPowerTemplate = SpecialAbilityAbrakhanGuardKill
		TriggeredBy = Upgrade_ObjectLevel1 ;Upgrade_GandalfWordOfPower
	End
	Behavior = SpecialPowerModule ModuleTag_WordStarter
		SpecialPowerTemplate      = SpecialAbilityAbrakhanGuardKill
		UpdateModuleStartsAttack  = Yes
		StartsPaused		  	  = Yes
	End
	Behavior = ActivateModuleSpecialPower ModuleTag_CreateAHeroAthelasUpdate
		SpecialPowerTemplate = SpecialAbilityAbrakhanGuardKill
		StartAbilityRange          = 100.0
        UnpackTime              = 1000
		UnpackingVariation		= 1
        PackTime                   = 1
        FreezeAfterTriggerDuration = 0
        AwardXPForTriggering       = 0
		TriggerSpecialPower		= ModuleTag_DefenderWeaponFireUpdater
		TriggerSpecialPower = ModuleTag_BlackEasterling_OCL
	End
	Behavior = SpecialPowerModule ModuleTag_DefenderWeaponFireUpdater
		SpecialPowerTemplate			= SpecialAbilityActivateeDummy
		StartsPaused			= No
		UpdateModuleStartsAttack		= Yes
	End
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_DefenderWeapon
        SpecialPowerTemplate       = SpecialAbilityActivateeDummy
        WhichSpecialWeapon         = 1
        SkipContinue               = Yes
        SpecialWeapon              = GuardofAbrakhanKill
    End
	Behavior = OCLSpecialPower ModuleTag_BlackEasterling_OCL
		SpecialPowerTemplate = SpecialAbilityActivateeDummy
		OCL                  = OCL_AbrakhanWightEgg
		CreateLocation       = USE_OWNER_OBJECT
	End
	Behavior = AutoAbilityBehavior ModuleTag_WoPAutoAbility
		SpecialAbility				= SpecialAbilityAbrakhanGuardKill
		ForbiddenStatus = INSIDE_GARRISON
		MaxScanRange				= GANDALF_WORD_OF_POWER_RANGE
		Query						= 30 ALL ENEMIES -WALL_UPGRADE -WALL_HUB -WALL_SEGMENT -DEFENSIVE_WALL -FS_BASE_DEFENSE
	End
;--------------------------------------------------------------------------------------------------------------
;------------------ THE GOLDEN KING ---------------------------------------------------------------------------
;--------------------------------------------------------------------------------------------------------------
		Behavior = AttributeModifierAuraUpdate ModuleTag_FaramirLeadership
		StartsActive	= Yes 						;If no, requires upgrade to turn on.
		BonusName	= GoldenKingLeadership
		TargetEnemy		= Yes
		RefreshDelay	= 2000
		Range		= 250
		AntiCategory	= LEADERSHIP
		ObjectFilter	= AOTR_GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
	End
;-------------------------------------------------------------------------------------------------------------
;------------------ LEADERSHIP TO VIZIER ---------------------------------------------------------------------
;-------------------------------------------------------------------------------------------------------------
	Behavior = AttributeModifierAuraUpdate ModuleTag_Leadership3
		StartsActive	= Yes    ;No ;If no, requires upgrade to turn on.
		BonusName		= GoldenKingVizierLeadershiptoVizier
		TriggeredBy		= Upgrade_ObjectLevel1
		RefreshDelay	= 2000
		Range			= 200
		ObjectFilter	= NONE +HaradSyarRhul +HaradSyarRhul_WOTR ;AOTR_GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
	End
;-------------------------------------------------------------------------------------------------------------
;------------------ LORD OF ABRAKHÃ‚N -------------------------------------------------------------------------
;-------------------------------------------------------------------------------------------------------------
	Behavior = CommandSetUpgrade ModueTag_TheodenLevel5CommandSet
		TriggeredBy			= Upgrade_ObjectLevel5
		CommandSet			= HaradGoldenKingCommandSetLvl5
	End
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_Reinforcements
		SpecialPowerTemplate	= SpecialAbilityGoldenKingWarriorSummon
		TriggeredBy				= Upgrade_ObjectLevel5
	End
	Behavior = OCLSpecialPower ModuleTag_Reinforcements_OCL
		SpecialPowerTemplate 	= SpecialAbilityGoldenKingWarriorSummon
		OCL                  	= OCL_GoldenKingSummon
		TriggerFX			 	= FX_GenericHaradSummon ;FX_GoldenKingSummon
		CreateLocation       	= USE_OWNER_OBJECT
		StartsPaused		 	= Yes
	End
	Behavior = AutoAbilityBehavior ModuleTag_ReinforcementsAutoAbility
		SpecialAbility	= SpecialAbilityGoldenKingWarriorSummon
		ForbiddenStatus = INSIDE_GARRISON
		MaxScanRange	= 300
		Query			= 30 ANY ENEMIES +INFANTRY +CAVALRY -STRUCTURE -WALL_UPGRADE -WALL_HUB -WALL_SEGMENT -DEFENSIVE_WALL -FS_BASE_DEFENSE
	End

;==========================================================================
;				Dark Subjugation
;==========================================================================
    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_DarkSubjugation
        SpecialPowerTemplate       = SpecialAbilityGoldenKingSubjugation
        TriggeredBy                = Upgrade_ObjectLevel7
    End
	   Behavior = SpecialPowerModule ModuleTag_DarkSubjugationStarter
        SpecialPowerTemplate         = SpecialAbilityGoldenKingSubjugation
        StartsPaused                 = Yes
        UpdateModuleStartsAttack     = Yes
		InitiateSound = GKVoiceDarkSubjugation
    End
    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_DarkSubjugationFireUpdate
        SpecialPowerTemplate         = SpecialAbilityGoldenKingSubjugation
        WhichSpecialWeapon           = 3
        SkipContinue                 = Yes
        FreezeAfterTriggerDuration   = 100 ; Hold AI for this long after we fire.
        UnpackTime                   = 700
        PreparationTime              = 1
        PackTime                     = 100
        AwardXPForTriggering         = 0
        StartAbilityRange            = 270
        SpecialWeapon                = DarkSubjugationWeapon
    End
;-------------------------------------------------------------------------------------------------------------
;------------------ LORD OF WIGHTS -----------------------------------------------------------------------------
;-------------------------------------------------------------------------------------------------------------

	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_SkullTotemEnabler
		SpecialPowerTemplate	= SpecialAbilityGKLordofWights
		TriggeredBy				= Upgrade_ObjectLevel3
	End
	Behavior = SpecialPowerModule ModuleTag_SkullTotemStarter
 		SpecialPowerTemplate		= SpecialAbilityGKLordofWights
 		UpdateModuleStartsAttack	= Yes
 		StartsPaused			= Yes
		InitiateSound = GKVoiceLordOfWights
 	End
	Behavior = ActivateModuleSpecialPower ModuleTag_SkullTotemUpdate
 		SpecialPowerTemplate    = SpecialAbilityGKLordofWights
		StartAbilityRange		= 500
		MustFinishAbility		= Yes
 		UnpackTime              = 1000
 		PackTime                = 1
 		UnpackingVariation		= 2
		TriggerSpecialPower		= ModuleTag_SkullTotemPower2 TARGETPOS
	End
	Behavior = OCLSpecialPower ModuleTag_SkullTotemPower2
		SpecialPowerTemplate	= SpecialAbilitySkullTotem2
		OCL						= OCL_GoldenKingLordofWights
		; TriggerFX			 = FX_GoldenKingIntimidationBlast
		CreateLocation			= CREATE_AT_LOCATION
		StartsPaused			= No
	End
	Behavior = AutoAbilityBehavior ModuleTag_HighAutorityAutoAbility
		SpecialAbility	= SpecialAbilityGKLordofWights
		ForbiddenStatus = INSIDE_GARRISON
		MaxScanRange	= 300
		Query		= 30 ANY ENEMIES +INFANTRY +CAVALRY -STRUCTURE -WALL_UPGRADE -WALL_HUB -WALL_SEGMENT -DEFENSIVE_WALL -FS_BASE_DEFENSE
	End

	; Behavior = UnpauseSpecialPowerUpgrade ModuleTag_HighAuthority
		; SpecialPowerTemplate	= SpecialAbilityGKLordofWights
		; TriggeredBy				= Upgrade_ObjectLevel7
	; End
	; Behavior = OCLSpecialPower ModuleTag_HighAutority_OCL
		; SpecialPowerTemplate = SpecialAbilityGKLordofWights
		; OCL                  = OCL_GoldenKingLordofWights
		; TriggerFX			 = FX_GoldenKingIntimidationBlast
		; CreateLocation       = CREATE_AT_LOCATION
		; StartsPaused		 = Yes
	; End
	; Behavior = AutoAbilityBehavior ModuleTag_HighAutorityAutoAbility
		; SpecialAbility	= SpecialAbilityGKLordofWights
		; ForbiddenStatus = INSIDE_GARRISON
		; MaxScanRange	= 300
		; Query		= 30 ANY ENEMIES +INFANTRY +CAVALRY -STRUCTURE -WALL_UPGRADE -WALL_HUB -WALL_SEGMENT -DEFENSIVE_WALL -FS_BASE_DEFENSE
	; End
;-------------------------------------------------------------------------------------------------------------
;------------------ THE KING UNMASKED DAMAGE SELF BUFF -------------------------------------------------------
;-------------------------------------------------------------------------------------------------------------
	Behavior = SubObjectsUpgrade ModuleTag_UnhideMaskUpgrade
		TriggeredBy = Upgrade_ObjectLevel10
		HideSubObjects	= MASK
	End

	Behavior = ModelConditionUpgrade ModuleTag_HA
		TriggeredBy			= Upgrade_ObjectLevel10
		AddConditionFlags	= RIDER6
		Permanent			= Yes
	End

	Behavior = TooltipUpgrade ModuleTag_RingHeroTooltip
		TriggeredBy				= Upgrade_ObjectLevel10
		Permanent				= Yes
		DisplayName				= OBJECT:HaradHoarmurath
	End

	Behavior = WeaponSetUpgrade WeaponSetUpgradeModuleTag
		TriggeredBy		= Upgrade_ObjectLevel10
	End

	Behavior = FireWeaponUpdate ModuleTag_KhamulField
			FireWeaponNugget
				WeaponName = GoldenKingFieldWeapon
				FireDelay = 0
				OneShot = No
			End
	End
;-------------------------------------------------------------------------------------------------------------
;------------------ THE KING UNMASKED ACTIVE -----------------------------------------------------------------
;-------------------------------------------------------------------------------------------------------------
;-----------------------------------------------------------------------------
; Dark Awakening
;-----------------------------------------------------------------------------
	; Behavior = ObjectCreationUpgrade ModuleTag_RemoveUpgrades1
	; 	TriggeredBy = Upgrade_MiniHordeLvl6
	; 	RemoveUpgrade = Upgrade_MiniHordeLvl7
	; End
	; Behavior = ObjectCreationUpgrade ModuleTag_RemoveUpgrades2
	; 	TriggeredBy = Upgrade_MiniHordeLvl7
	; 	RemoveUpgrade = Upgrade_MiniHordeLvl6
	; End
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_DarkAwakeningEnabler
		SpecialPowerTemplate = SpecialAbilityTheKingUnmasked
		TriggeredBy = Upgrade_ObjectLevel10
	End
	Behavior = OCLSpecialPower ModuleTag_SummonPing
		SpecialPowerTemplate 		= SpecialAbilityTheKingUnmasked
		OCL                  		= OCL_KingUnmaskedZombieSpawner
		CreateLocation       		= USE_OWNER_OBJECT
		StartsPaused		 		= Yes
		IdleWhenStartingPower		= Yes
	End
	; Behavior = UnpauseSpecialPowerUpgrade ModuleTag_DarkAwakeningEnabler2
	; 	SpecialPowerTemplate = SpecialAbilitCargastDarkAwakeningSummon
	; 	TriggeredBy 				= Upgrade_MiniHordeLvl6
	; 	ConflictsWith 				= Upgrade_MiniHordeLvl7
	; 	Permanent 					= No
	; End
	; Behavior = OCLSpecialPower ModuleTag_SummonRestlessWarriors
	; 	SpecialPowerTemplate 		= SpecialAbilitCargastDarkAwakeningSummon
	; 	IdleWhenStartingPower		= Yes
	; 	OCL                  		= OCL_GoldenKingUnmaskedEgg
	; 	CreateLocation       		= USE_OWNER_OBJECT
	; 	StartsPaused		 		= Yes
	; End
	; Behavior = DoCommandUpgrade Module_DoCommandUpgrade
	; 	TriggeredBy 				= Upgrade_MiniHordeLvl6
	; 	GetUpgradeCommandButtonName = Command_TheKingUnmasked_Deactivate
	; End
	; Behavior = AttributeModifierAuraUpdate ModuleTag_SelfModifier
	; 	StartsActive	= No
	; 	TriggeredBy		= Upgrade_MiniHordeLvl6
	; 	ConflictsWith	= Upgrade_MiniHordeLvl7
	; 	BonusName		= CargastDarkAwakeningSelf
	; 	RefreshDelay	= 2000
	; 	Range			= 10
	; 	AllowSelf		= Yes
	; End
	; Behavior = CommandSetUpgrade ModueTag_MountedCommandSet
	; 	TriggeredBy			= Upgrade_MiniHordeLvl6
	; 	ConflictsWith		= Upgrade_MiniHordeLvl7
	; 	CommandSet			= HaradGoldenKingCommandSetLvl5_KingUnmasked
	; End
	; Behavior = CommandSetUpgrade ModueTag_DismountCommandSet
	; 	TriggeredBy			= Upgrade_MiniHordeLvl7
	; 	ConflictsWith		= Upgrade_MiniHordeLvl6
	; 	CommandSet			= HaradGoldenKingCommandSetLvl5
	; End
	Behavior = FireWeaponUpdate ModuleTag_DolGuldurDrain
		FireWeaponNugget
			WeaponName = GuldurCargastDarkAwakeningOffWeapon
			FireDelay = 0
			OneShot = No
		End
	End
	Behavior = LocomotorSetUpgrade ModuleTag_LocomotorMount
		TriggeredBy = Upgrade_MiniHordeLvl6
	End
	;-----------------------------------------------------------------------------
; - Old Morgul blade - Left in for now
	; Behavior = UnpauseSpecialPowerUpgrade ModuleTag_WitchkingMorgulBlade
	; 	SpecialPowerTemplate = SpecialAbilityMordorWitchkingMorgulBlade
	; 	TriggeredBy = Upgrade_ObjectLevel10 ;Upgrade_WitchkingMorgulBlade
	; End
	; Behavior = SpecialPowerModule ModuleTag_WitchkingMorgulBladeStarter
	; 	SpecialPowerTemplate		= SpecialAbilityMordorWitchkingMorgulBlade
	; 	UpdateModuleStartsAttack	= Yes
	; 	StartsPaused				= Yes
	; ;	InitiateSound				= GoldenKingUnmasked ; USE FOR VOICELINE
	; End
	; Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_WitchkingMorgulBladeUpdate
	; 	SpecialPowerTemplate    = SpecialAbilityMordorWitchkingMorgulBlade
	; 	SkipContinue			= Yes
	;
	; 	UnpackTime				= 250
	; 	PreparationTime			= 1
	; 	PersistentPrepTime		= 500
	; 	PackTime				= 100
	; 	WhichSpecialWeapon		= 1
	;
	; 	AwardXPForTriggering	= 0
	; 	StartAbilityRange		= 15.0
	; 	MustFinishAbility	 = Yes
	;
	; 	SpecialWeapon			= GoldenKingMorgulBlade
	; End
	; Behavior = AutoAbilityBehavior ModuleTag_MorgulBladeAutoAbility
	; 	SpecialAbility	= SpecialAbilityMordorWitchkingMorgulBlade
	; 	ForbiddenStatus = INSIDE_GARRISON
	; 	AllowSelf		= No
	; 	Query			= 1 AOTR_MORGULBLADE_OBJECT_FILTER
	; End
;---------------------------------------------------------------------------------------------------------------
;---------------------------------------------------------------------------------------------------------------
;	Behavior = ExperienceLevelCreate ModuleTag_LevelBonus
;		LevelToGrant	= 10
;		MPOnly			= Yes
;	End

; AI Auto-Retreat Behavior
	#include "..\..\..\aicoding\autoretreat5.inc"


	;///////////////////
	; AISpecialPowers
	;///////////////////


	Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
		CommandButtonName = Command_SetStanceBattle
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
	End

	Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive
		CommandButtonName = Command_SetStanceAggressive
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
	End

	Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
		CommandButtonName = Command_SetStanceHoldGround
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
	End


	Behavior = AISpecialPowerUpdate LordOfWightsAI
		CommandButtonName = Command_SpecialAbilityIntimidationGoldenKing
		SpecialPowerAIType = AI_SPECIAL_POWER_RANGED_AOE_ATTACK_UNITS
	End

	Behavior = AISpecialPowerUpdate PersonalGuardAI
		CommandButtonName = Command_PersonalGuard
		SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
	End

	Behavior = AISpecialPowerUpdate WarriorSummonAI
		CommandButtonName = Command_SpecialAbilityGoldenKingWarriorSummon
		SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
	End

	Behavior = AISpecialPowerUpdate DarkSubjugationAI
		CommandButtonName = Command_SpecialAbilityDarkSubjugation
		SpecialPowerAIType = AI_SPECIAL_POWER_AOE_AND_BUFF
	;	SpecialPowerRadius = 30.0
	End

	Behavior = AISpecialPowerUpdate TheKingUnmaskedAI
		CommandButtonName = Command_TheKingUnmasked
		SpecialPowerAIType = AI_SPECIAL_POWER_CHARGE
	;	SpecialPowerRadius = 30.0
	End

	Geometry			= CYLINDER
	GeometryMajorRadius = 16.0
	GeometryHeight		= 25.0
	GeometryIsSmall		= Yes

	Shadow				= SHADOW_DECAL
	ShadowSizeX			= 30
	ShadowSizeY			= 21
	ShadowTexture		= ShadowI

	Behavior = GrantUpgradeCreate ModuleTag_GiveUpgrade
		UpgradeToGrant			= Upgrade_WOTRHero7
	End
End

ChildObject HaradGoldenKing_LAS HaradGoldenKing
	EquivalentTo = HaradGoldenKing
	KindOf = +MP_COUNT_FOR_VICTORY
	CommandPoints = 30
	Behavior = ExperienceLevelCreate ModuleTag_LevelBonus
		LevelToGrant	= 10
		MPOnly			= No
	End
End

Object AbrakhanWightEgg
	Draw = W3DScriptedModelDraw ModuleTag_Draw
		DefaultModelConditionState
			Model = None
		End
	End
	KindOf = INERT IMMOBILE UNATTACKABLE

	Body = ActiveBody ModuleTag_MakesKillWork
		MaxHealth = 1
	End
	Behavior = LifetimeUpdate ModuleTag_HatchTrigger
		MinLifetime = 0.0
		MaxLifetime = 0.0
	End
	Behavior = SlowDeathBehavior ModuleTag_HatchProcess
		DestructionDelay = 3000
		OCL = FINAL OCL_SpawnAbrakhanWights
	End
End

Object DarkSubjugationPing
    Draw = W3DScriptedModelDraw ModuleTag_Draw
        DefaultModelConditionState
            Model = None
        End
    End
    KindOf = INERT IMMOBILE UNATTACKABLE

    Body = ActiveBody ModuleTag_MakesKillWork
        MaxHealth = 1
    End
    Behavior = LifetimeUpdate ModuleTag_HatchTrigger
        MinLifetime = 0.0
        MaxLifetime = 0.0
    End
    Behavior = SlowDeathBehavior ModuleTag_HatchProcess
        DestructionDelay = 0
        Weapon = FINAL DarkSubjugationAlliesWeapon
    End
End

Object LordofWightsEgg

	Draw = W3DScriptedModelDraw ModuleTag_Draw
		DefaultModelConditionState
			Model = None
		End
	End

	KindOf = IMMOBILE UNATTACKABLE

	Body = ActiveBody ModuleTag_MakesKillWork
		MaxHealth = 1
	End

	Behavior = LifetimeUpdate ModuleTag_HatchTrigger
		MinLifetime = 1000
		MaxLifetime = 1000
	End

	Behavior = AIUpdateInterface ModuleTag_03
		AILuaEventsList				= DenethorTerrorEggFunctions
	End

	Behavior = RadiateFearUpdate ModuleTag_DreadVisageFear
		InitiallyActive						= Yes
		GenerateTerror						= Yes
		EmotionPulseRadius					= 150
		EmotionPulseInterval				= 100
	End

	Behavior = SlowDeathBehavior ModuleTag_HatchProcess
		DestructionDelay = 0
		Weapon	= INITIAL GKLordofWightsWeapon
		FX = INITIAL FX_GoldenKingIntimidationBlast
	End

End

Object KingUnmaskedZombieSpawner

  EvaEnemyObjectSightedEvent = None ; Not a real unit

	ArmorSet
		Conditions	  = None
		Armor		   = PingArmor
		DamageFX		= NormalDamageFX
	End

	WeaponSet
		Conditions	= NONE
		Weapon		= PRIMARY BeastmasterSummonedWargAttackTriggerRangefinder  ;MordorGateWatchersFearWeapon
	End

 ; ***DESIGN parameters ***

  EditorSorting   = SYSTEM
  KindOf = NO_COLLIDE CREEP IGNORE_FOR_VICTORY IGNORE_FOR_EVA_SPEECH_POSITION SUMMONED SPAWNS_ARE_THE_WEAPONS CAN_ATTACK;INERT

	ThreatLevel			= 0.0
	VisionRange		= 0
	ShroudClearingRange	= 0

 ; *** ENGINEERING Parameters ***

	Body = ActiveBody ModuleTag_Body;Can take damage, but won't die.  Can only die from ::kill() or other unresistable damage
		MaxHealth	  = 1.0
	End

	Behavior = DestroyDie ModuleTag_Die
	End

	Behavior = LifetimeUpdate ModuleTag_HatchTrigger
		MinLifetime		= 60000 ;CREATE_A_HERO_REINFORCEMENT_LIFETIME
		MaxLifetime		= 60000 ;CREATE_A_HERO_REINFORCEMENT_LIFETIME
		DeathType		= FADED
	End

	Behavior = AttachUpdate ModuleTag_Attach
		ObjectFilter = NONE +HaradGoldenKing +HaradGoldenKing_LAS
		ScanRange = 20
	;	ParentStatus = HOLDING_THE_RING
		AlwaysTeleport = No
		AnchorToTopOfGeometry = No
	End

	Behavior = AIUpdateInterface	ModuleTag_AIUpdateInterface
		AutoAcquireEnemiesWhenIdle = No
		;// MoodAttackCheckRate		= 250
	End

	LocomotorSet
		Locomotor = InvisiblePingLocomotor
		Condition = SET_NORMAL
		Speed	 = 1000
	End
	Behavior = SlavedUpdate ModuleTag_Slave
		UseSlaverAsControlForEvaObjectSightedEvents = Yes
		DieOnMastersDeath	= Yes	;//Die when my master dies!
	End

	Behavior = QueueProductionExitUpdate ModuleTag_11
		PlacementViewAngle  = 45
		UnitCreatePoint			= X:10.0 Y:0.0 Z:0.0
		NaturalRallyPoint		= X:20.0 Y:-20.0 Z:0.0
		ExitDelay			= 1000 ;STANDARD_HORDE_EXIT_DELAY
	End
	Behavior = SpawnBehavior ModuleTag_SpawnFighters
		SpawnNumber = 15
		InitialBurst = 1
		SpawnTemplateName = RisenCarrionEgg_TheKingUnmasked
		SpawnReplaceDelay = 1000
		OneShot = No
		ExitByBudding = No
		FadeInTime = 1000
		SpawnInsideBuilding = No
		CanReclaimOrphans	= No
	 ;PropagateDamageTypesToSlavesWhenExisting = ALL
	End

	; Behavior = FireWeaponUpdate ModuleTag_GobboFollowersAttack
	; 		FireWeaponNugget
	; 			WeaponName = SlavedUnitAttackOrder_LongRange
	; 			FireDelay = 0
	; 			OneShot = No
	; 		End
	; End

End

Object GoldenKingUnmaskedPing
	Draw = W3DScriptedModelDraw ModuleTag_Draw
		DefaultModelConditionState
			Model = None
		End
	End
	KindOf = NOT_AUTOACQUIRABLE IMMOBILE IGNORE_FOR_VICTORY
	Behavior = AttributeModifierAuraUpdate ModuleTag_CargastTrigger
		StartsActive	= Yes
		;TriggeredBy		=
		BonusName		= CargastDarkAwakeningTrigger
		RefreshDelay	= 2000
		Range			= 3
		ObjectFilter	= NONE +HaradGoldenKing +HaradGoldenKing_LAS SAME_PLAYER
	End
	Body = ActiveBody ModuleTag_MakesKillWork
		MaxHealth = 10
	End
	ArmorSet
		Conditions      = None
		Armor           = StewPotArmor
		DamageFX        = NormalDamageFX
	End
	Behavior = LifetimeUpdate ModuleTag_HatchTrigger
		MinLifetime = 5000.0
		MaxLifetime = 5000.0
	End
	Behavior = SlowDeathBehavior ModuleTag_HatchProcess
		DestructionDelay = 0
	End
End

Object GoldenKingUnmaskedPing2
	Draw = W3DScriptedModelDraw ModuleTag_Draw
		DefaultModelConditionState
			Model = None
		End
	End
	KindOf = NOT_AUTOACQUIRABLE IMMOBILE IGNORE_FOR_VICTORY
	Behavior = AttributeModifierAuraUpdate ModuleTag_CargastTrigger
		StartsActive	= Yes
		;TriggeredBy		=
		BonusName		= CargastDarkAwakeningTrigger2
		RefreshDelay	= 2000
		Range			= 3
		ObjectFilter	= NONE +HaradGoldenKing +HaradGoldenKing_LAS SAME_PLAYER
	End
	Body = ActiveBody ModuleTag_MakesKillWork
		MaxHealth = 10
	End
	ArmorSet
		Conditions      = None
		Armor           = StewPotArmor
		DamageFX        = NormalDamageFX
	End
	Behavior = LifetimeUpdate ModuleTag_HatchTrigger
		MinLifetime = 5000.0
		MaxLifetime = 5000.0
	End
	Behavior = SlowDeathBehavior ModuleTag_HatchProcess
		DestructionDelay = 0
	End
End
