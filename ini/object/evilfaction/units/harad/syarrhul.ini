;------------------------------------------------------------------------------
; Saruman
Object HaradSyarRhul
	; *** ART Parameters ***

    ; ButtonImage for Heros is button image on Hero Select UI to select hero. HI = HeroIcon or HeroImage.
	; This is required for garrisoned objects - please put in all objects.
	ButtonImage = hiblackvizier

    ; SelectPortrait for Heros is portrait behind skill buttons. HP = HeroPortrait.
	SelectPortrait = HPBlackVizier

	DescriptionStrategic = CONTROLBAR:LW_ToolTip_WormTongue

		Draw = W3DScriptedModelDraw ModuleTag_DRAW

   StaticModelLODMode = no ; Will append M or L to the skin name depending on GameLOD

	  OkToChangeModelColor = Yes

//================ MODELS =================================================================
		DefaultModelConditionState
			Model							= husyarrhul_skn
			Skeleton						= chcm_cm_u_skl
			;Model 							= muvaraig_skna  ExtraMesh:Yes //Don't have variations...yet
			;Model 							= muvaraig_sknb  ExtraMesh:Yes
		End

		ModelConditionState WEAPONSET_PLAYER_UPGRADE
			Model							= husyarrhul_skn
			Skeleton						= chcm_cm_u_skl
			;Model 							= muvaraig_skna  ExtraMesh:Yes
			;Model 							= muvaraig_sknb  ExtraMesh:Yes
		End

		ModelConditionState WEAPONSET_TOGGLE_1
			Model							= husyarrhul_skn
			Skeleton						= chcm_cm_u_skl
			;Model 							= muvaraig_skna  ExtraMesh:Yes
			;Model 							= muvaraig_sknb  ExtraMesh:Yes
		End

		ModelConditionState	RIDER2
			Model 							= husyarrhul_skn
			Skeleton 						= chcm_cm_u_skl
		End

//=============== ANIMATIONS ===============================================================

//======= FALLING & FLYING

		AnimationState						= PASSENGER
			Animation						= Grabbed
				AnimationName				= chcm_cm_u_flya
				AnimationMode				= LOOP
			End
		End

		AnimationState        				= THROWN_PROJECTILE
			Animation           			= FlyA
				AnimationName      	 		= chcm_cm_u_flya
				AnimationMode       		= LOOP
			End
			;Animation           			= FlyB
			;	AnimationName      	 		= chcm_cm_b_flya
			;	AnimationMode       		= LOOP
			;End
			Flags               			= RANDOMSTART
		End

		AnimationState						= FREEFALL
			Animation						= Falling
				AnimationName				= chcm_cm_u_flya
				AnimationMode				= LOOP
				AnimationBlendTime			= 10
			End
			;Animation						= Falling
			;	AnimationName				= chcm_cm_b_flya
			;	AnimationMode				= LOOP
			;	AnimationBlendTime			= 10
			;	AnimationSpeedFactorRange	= 0.5	0.5
			;End
		End



		AnimationState        				= STUNNED_FLAILING
			Animation           			= FlyA
				AnimationName       		= chcm_cm_u_flya
				AnimationMode       		= LOOP
				AnimationSpeedFactorRange	= 0.4 0.6
			End
			Flags               			= RANDOMSTART
		End


		;;; Fade Death animation (;;,;;)
		AnimationState						= DYING DEATH_2
			Animation
				AnimationName				= chcm_cm_u_atnb
				AnimationMode				= LOOP
				AnimationBlendTime			= 10
			End
		End


		AnimationState						= DYING BURNINGDEATH
			Animation
				AnimationName				= chcm_cm_u_diea
				AnimationMode				= ONCE
				AnimationBlendTime			= 10
			End
			;Animation
			;	AnimationName				= chcm_cm_b_diea
			;	AnimationMode				= ONCE
			;	AnimationBlendTime			= 10
			;End
		End
		AnimationState 						= DYING SPLATTED
			Animation 						= Splatted_On_Ground
				AnimationName 				= chcm_cm_u_LNDA
				AnimationMode 				= ONCE
			End
			EnteringStateFX					= FX_OrcHitGround
		End
		AnimationState						= DYING AFLAME
			Animation						= MFDA
				AnimationName				= chcm_cm_u_MFDA
				AnimationMode				= LOOP
			End
		End
		AnimationState						= DYING
			Animation						= DIEA

				AnimationName				= chcm_cm_u_DIEA
				AnimationMode				= ONCE
			End
			;Animation						= DIEB
			;	AnimationName				= chcm_cm_b_DIEA
			;	AnimationMode				= ONCE
			;End
		End

		AnimationState						= BURNINGDEATH
			Animation
				AnimationName				= chcm_cm_u_MFDA
				AnimationMode				= LOOP
				Distance					= 50
			End
		End

		AnimationState						= PARALYZED
			Animation
				AnimationName				= chcm_cm_u_IDLA
				AnimationMode				= LOOP
			End
		End

//======= LANDING & STANDING

		AnimationState						= STUNNED_STANDING_UP
			Animation						= GTPA
				AnimationName				= chcm_cm_u_GTPA
				AnimationMode				= ONCE
				AnimationSpeedFactorRange	= 2.0 2.0
			End
		End



		AnimationState			=	 STUNNED
			Animation			=	 Slatted_On_Ground
			AnimationName 				= chcm_cm_u_LNDA
				AnimationMode 				= ONCE
			End
			EnteringStateFX					= FX_OrcHitGround
	       End

		AnimationState						= USER_1
			Animation						= CHRB
				AnimationName				= chcm_cm_u_CHRA
				AnimationMode				= ONCE
				;AnimationSpeedFactorRange	= 0.9 1.1
			End
			;Animation						= CHRC
			;	AnimationName				= chcm_cm_b_CHRA
			;	AnimationMode				= ONCE
			;	;AnimationSpeedFactorRange	= 0.9 1.1
			;End
			Flags							=	RESTART_ANIM_WHEN_COMPLETE
		End

		AnimationState        = MOVING FIRING_OR_PREATTACK_A
			ShareAnimation		= Yes
			Animation           = RunAndFire
				AnimationName       = chcm_cm_u_ATRA
				AnimationMode       = LOOP
			End
;			ParticleSysBone				= None InfantryDustTrails
			Flags               = RANDOMSTART
		End

//====== TERROR

		AnimationState						= MOVING EMOTION_TERROR EMOTION_LOOK_TO_SKY
			Animation					= TerrorFromTheSky
				AnimationName			= chcm_cm_u_RUNB
				AnimationMode			= LOOP
			End
			Flags = RANDOMSTART
		End
		AnimationState						= MOVING EMOTION_TERROR
			Animation						= TerrorFromTheSky
				AnimationName				= chcm_cm_u_RUNB
				AnimationMode				= ONCE
			End
;			ParticleSysBone				= None InfantryDustTrails
			Flags							= RESTART_ANIM_WHEN_COMPLETE
		End

//======= BACK UP

		AnimationState						= MOVING BACKING_UP
			Animation						= BAKA
				AnimationName				= chcm_cm_u_BAKA
				AnimationMode				= LOOP
			End
			Flags = RANDOMSTART
		End

		AnimationState						= MOVING PANICKING
			Animation						= MFDA
				AnimationName				= chcm_cm_u_MFDA
				AnimationMode				= LOOP
			End
			Flags							= RANDOMSTART
		End

		AnimationState						= MOVING ATTACKING
			ShareAnimation					= Yes//
			Animation						= RUNA
				AnimationName				= chcm_cm_u_RUNA
				AnimationMode				= LOOP
			End
			;Animation						= RUNA
			;	AnimationName				= chcm_cm_b_RUNA
			;	AnimationMode				= LOOP
			;End
			Flags							= RANDOMSTART
;			ParticleSysBone				= None InfantryDustTrails
		End

	AnimationState = ALTERNATE_FORMATION MOVING
	 	Animation = ATKC
			AnimationName		= chcm_cm_u_wlka
			AnimationMode		= LOOP
		End
            Flags               = RANDOMSTART
;            ParticleSysBone     = None InfantryDustTrails
	End

		AnimationState						= MOVING
			ShareAnimation					= Yes
			Animation						= RUNB
				AnimationName				= chcm_cm_u_RUNA
				AnimationMode				= LOOP
			End
			;Animation						= RUNC
			;	AnimationName				= chcm_cm_b_RUNA
			;	AnimationMode				= LOOP
			;End
			Flags							= RANDOMSTART
;			ParticleSysBone				= None InfantryDustTrails
		End

//======= UNCONTROLLABLY AFRAID
	// This is before Attacking so it overrides it.  Normal fear is below so you don't go to little-fear in between swings.
		AnimationState						= EMOTION_UNCONTROLLABLY_AFRAID
			Animation						= FERA
				AnimationName				= chcm_cm_u_IDLA
				AnimationMode				= LOOP
			End
		End
//---------------------- ATTACKING ----------------------------------------------------------------
		AnimationState						= FIRING_OR_PREATTACK_A
			Animation						= ATA1
				AnimationName				= chcm_cm_u_ATKA
				AnimationMode				= ONCE
				UseWeaponTiming				= Yes
			End
			Animation						= ATA1
				AnimationName				= chcm_cm_u_ATKB
				AnimationMode				= ONCE
				UseWeaponTiming				= Yes
			End
			Animation						= ATA1
				AnimationName				= chcm_cm_u_ATKC
				AnimationMode				= ONCE
				UseWeaponTiming				= Yes
			End
;			//ParticleSysBone				= None MeleeDust
		End

		AnimationState						= EMOTION_ALERT EMOTION_AFRAID
			Animation						= APPA
				AnimationName				= chcm_cm_u_IDLA
				AnimationMode				= ONCE
			End
			Flags							= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
		End

//======= AFRAID

		AnimationState						= EMOTION_AFRAID
			Animation						= FERA
				AnimationName				= chcm_cm_u_IDLA
				AnimationMode				= LOOP
			End
			Flags							= RANDOMSTART
		End

//======== POINTING

		AnimationState						= EMOTION_POINTING
			Animation						= Pointing1
				AnimationName				= chcm_cm_u_SPCB
				AnimationMode				= LOOP
			End
			Flags							= RANDOMSTART
		End

//======= TAUNTING

		AnimationState						= EMOTION_TAUNTING
			Animation						= Taunting1
				AnimationName				= chcm_cm_u_TNTA
				AnimationMode				= ONCE
			End
			;Animation						= Taunting2
			;	AnimationName				= chcm_cm_b_TNTA
			;	AnimationMode				= ONCE
			;End
			Animation						= Taunting3
				AnimationName				= chcm_cm_u_SPCA
				AnimationMode				= ONCE
			End
			Animation						= Taunting4
				AnimationName				= chcm_cm_u_SPCB
				AnimationMode				= ONCE
			End
			;Animation						= Taunting4
			;	AnimationName				= chcm_cm_b_SPCB
			;	AnimationMode				= ONCE
			;End
			Flags							= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
		End

//======= CELEBRATING

		AnimationState						= EMOTION_CELEBRATING
			Animation						= CHRB
				AnimationName				= chcm_cm_u_CHRA
				AnimationMode				= ONCE
			End
			;Animation						= CHRC
			;	AnimationName				= chcm_cm_b_CHRA
			;	AnimationMode				= ONCE
			;End
			Flags							=	RESTART_ANIM_WHEN_COMPLETE
		End

//----------------- ALERT STATE ---------------------------------------------------------------------------

		AnimationState						= ATTACKING
			Animation						= ALERT_1
				AnimationName				= chcm_cm_u_IDLA
				AnimationMode				= LOOP
			End
		End

		AnimationState						= EMOTION_ALERT
			Animation						= ALERT_1
				AnimationName				= chcm_cm_u_IDLA
				AnimationMode				= LOOP//ONCE
				AnimationPriority			= 10
			End
			Flags							= RESTART_ANIM_WHEN_COMPLETE // acts like an idle animation & keeps running the animations.
		End

		AnimationState						= RAISING_FLAG
			Animation						= CHRB
				AnimationName				= chcm_cm_u_CHRA
				AnimationMode				= ONCE
				AnimationSpeedFactorRange	= 0.9 1.1
			End
			;Animation						= CHRC
			;	AnimationName				= chcm_cm_b_CHRA
			;	AnimationMode				= ONCE
			;	AnimationSpeedFactorRange	= 0.9 1.1
			;End
			Flags							=	RESTART_ANIM_WHEN_COMPLETE
		End

		AnimationState			= SPECIAL_WEAPON_ONE
			Animation			= Taunting3
				AnimationName	= chcm_cm_u_CHRA
				AnimationMode   = ONCE
			End
		End
		AnimationState			= SPECIAL_WEAPON_FOUR
			Animation			= Taunting4
				AnimationName	= chcm_cm_u_SPCB
				AnimationMode   = ONCE
			End
		End
//----------------- SELECTED STATES -----------------------------------------------------------------------

		AnimationState        = SELECTED
			StateName           = STATE_Selected
			Animation           = ATNB
				AnimationName     = chcm_cm_u_ATNB
				AnimationMode     = LOOP
			End

			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Idle"
				then
					CurDrawableSetTransitionAnimState("TRANS_IdleToSelected")
				end
				if CurDrawableModelcondition("ATTACKING")
				then
					return "IDLA"
				else
					return "ATNA"
				end
			EndScript

			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") end
			EndScript
		End

	 AnimationState = ALTERNATE_FORMATION
	 	Animation = IDLA
			AnimationName		= chcm_cm_u_IDLA
			AnimationMode		= LOOP
		End
	End

		AnimationState				= USER_3
			StateName				= STATE_User_3
			Animation				= GUARD_STANCE
				AnimationName		= chcm_cm_u_IDLA
				AnimationMode		= LOOP
			End
		End
		IdleAnimationState
			StateName				= STATE_Idle
			Animation				= IDLB
				AnimationName       = chcm_cm_u_IDLB
				AnimationMode       = ONCE
				AnimationPriority   = 20
				AnimationSpeedFactorRange = 0.9 1.1
				AnimationBlendTime	= 15
			End
			Animation				= IDLF
				AnimationName       = chcm_cm_u_IDLC
				AnimationMode       = ONCE
				AnimationPriority   = 1
				AnimationSpeedFactorRange = 0.9 1.1
				AnimationBlendTime	= 15
			End
			Animation				= IDLG
				AnimationName       = chcm_cm_u_IDLD
				AnimationMode       = ONCE
				AnimationPriority   = 1
				AnimationSpeedFactorRange = 0.9 1.1
				AnimationBlendTime	= 15
			End
			Animation				= IDLJ
				AnimationName       = chcm_cm_u_IDLE
				AnimationMode       = ONCE
				AnimationPriority   = 1
				AnimationSpeedFactorRange = 0.9 1.1
				AnimationBlendTime	= 15
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_SelectedToIdle") end
			EndScript
		End
		;TransitionState       = TRANS_TO_USER_1
		;	Animation
		;		AnimationName     = chcm_cm_u_HITA
		;		AnimationMode     = ONCE
		;	End
		;End
		TransitionState       = TRANS_IdleToSelected
			Animation           = ATNA
				AnimationName     = chcm_cm_u_ATNA
				AnimationMode     = ONCE
				AnimationSpeedFactorRange = 0.9 1.0

			End
		End
		TransitionState		= TRANS_SelectedToIdle
			Animation			= ATND
				AnimationName	= chcm_cm_u_ATNC
				AnimationMode	= ONCE
				AnimationSpeedFactorRange = 0.9 1.0
			End
		End
	End

	; Draw = W3DScriptedModelDraw ModuleTag_Paralyzed
		; DefaultModelConditionState
			; Model = None
		; End
		; AnimationState = DYING
			; ; Intercept DYING to prevent PARALYZED particles from playing when dead
		; End
		; AnimationState = EMOTION_UNCONTROLLABLY_AFRAID MOUNTED
			; ParticleSysBone NONE StunMedium
		; End
		; AnimationState = EMOTION_UNCONTROLLABLY_AFRAID
			; ParticleSysBone NONE StunSmall
		; End
		; AnimationState = EMOTION_TERROR MOUNTED
			; ParticleSysBone NONE StunMedium
		; End
		; AnimationState = EMOTION_TERROR
			; ParticleSysBone NONE StunSmall
		; End
	; End

    #include "..\..\..\includes\StunDrawModuleSmall.inc"

	; ***DESIGN parameters ***
	Side = Angmar
	EditorSorting = UNIT
	ThreatLevel = SARUMAN_THREAT_LEVEL
	ThingClass = CHARACTER_UNIT
    	BuildCost           = 1200 ;SARUMAN_BUILDCOST
   	BuildTime           = HERO_BUILDTIME_TIER_1 ;,; HERO_BUILDTIME_TIER_5 ;HERO_BUILDTIME_TIER_4 ;;,;; SARUMAN_BUILDTIME
	ShockwaveResistance = SHOCKWAVE_RESISTANCE_STRONG
	;//DisplayMeleeDamage = SARUMAN_DAMAGE

	TransportSlotCount = TRANSPORTSLOTCOUNT_HERO
	WeaponSet
		Conditions = None
		Weapon = PRIMARY    SyarRhulWeapon
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	ArmorSet
		Conditions      = None
		Armor           = HeroArmor
		DamageFX        = NormalDamageFX
	End

	VisionRange = VISION_STANDARD_MELEE
    	ShroudClearingRange = SHROUD_CLEAR_HERO

    	MaxVisionBonusPercent = 300%
	VisionBonusTestRadius = 200
	VisionBonusPercentPerFoot = 1.0%

  	BountyValue     = 120
	DisplayName		= OBJECT:HaradSyarRhul
	RecruitText		= CONTROLBAR:HaradSyarRhulRecruit
	ReviveText		= CONTROLBAR:HaradSyarRhulRevive
	Hotkey			= CONTROLBAR:HaradSyarRhulHotkey
	CrushableLevel	= 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrusherLevel = 0 ;What can I crush?: 0 = small animals, 1 = infantry, 2 = trees, 3 = vehicles

	CommandSet = HaradSyarRhulCommandSet
	CommandPoints = 0 ;HERO_COMMAND_POINTS_TIER_4 ;,; HERO_COMMAND_POINTS_TIER_5 ;HERO_COMMAND_POINTS_TIER_4 ;;,;; 75

	; *** AUTO RESOLVE DATA ***
	AutoResolveUnitType = AutoResolveUnit_Hero
	AutoResolveCombatChain = AutoResolve_HeroCombatChain

	AutoResolveBody = Aotr_AutoResolve_NormalSmallHeroBody

	AutoResolveArmor
		Armor = Aotr_AutoResolve_HeroNormalArmor
	End

	AutoResolveWeapon
		Weapon = AutoResolve_NormalHeroWeakWeapon
	End

	AutoResolveLeadership = AutoResolve_SyarRhulBonus


	; *** AUDIO Parameters ***;

	VoiceAttack					= SyarRhulVoiceAttack
	VoiceAttackCharge			= SyarRhulVoiceAttackCharge
	VoiceAttackStructure	= SyarRhulVoiceAttackBuilding
	;VoiceCreated				= CampOrcCreateSaruman		;this conflicts with his respawn dialogue line -- rehooked to spawn FX
	;VoiceFullyCreated 			= CampOrcCreateSaruman		;this conflicts with his respawn dialogue line -- rehooked to spawn FX
	VoiceFear 					= SyarRhulVoiceHelpMe
	VoiceGuard					= SyarRhulVoiceMove
	VoiceMove					= SyarRhulVoiceMove
	VoiceMoveToCamp		= SyarRhulVoiceMoveCamp
	VoiceRetreatToCastle	= SyarRhulVoiceRetreat
	VoiceMoveWhileAttacking		= SyarRhulVoiceDisengage
	VoicePriority				= 92
	VoiceSelect					= SyarRhulVoiceSelectMS
	VoiceSelectBattle 			= SyarRhulVoiceSelectBattle

	SoundImpact					= ImpactHorse

	UnitSpecificSounds
		VoiceEnterUnitEvilMenTransportShip	= SyarRhulVoiceMoveGarrison
		VoiceEnterUnitMordorMumakil			= SyarRhulVoiceMoveGarrison
		VoiceEnterUnitSlaughterHouse		= SyarRhulVoiceMoveGarrison
		VoiceGarrison						= SyarRhulVoiceMoveGarrison
		VoiceInitiateCaptureBuilding		= SyarRhulVoiceCaptureBuilding
	End

	CrowdResponseKey = EvilMen2

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"
	EvaEventDieOwner			= HaradwaithSyarRhulDie		;Eva event to trigger on unit's death. NOTICE THAT this is only for permanent deaths
										;For deaths you can respawn from, use the DeathFX

	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU		;Tie into LargeGroupAudio system
		Key = Humanoid_Male Man Man_Male Hero
	End

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound:BodyFallGeneric1		Animation:chcm_cm_u_SKL.chcm_cm_b_diea	Frames:47
		AnimationSound = Sound:BodyFallGeneric1		Animation:chcm_cm_u_SKL.chcm_cm_b_diea	Frames:56
		AnimationSound = Sound:BodyFallGeneric1		Animation:chcm_cm_u_SKL.chcm_cm_b_LNDA	Frames:9
		AnimationSound = Sound:FootstepDirtA		Animation:chcm_cm_u_skl.chcm_cm_b_ATRA Frames:9 22 34 46 58 70
		AnimationSound = Sound:FootstepDirtA		Animation:chcm_cm_u_skl.chcm_cm_u_RUNA Frames:10 21 33 45 57 70
		AnimationSound = Sound:FootstepDirtA		Animation:chcm_cm_u_skl.chcm_cm_b_RUNB Frames:9 22 34 46 58 70
		AnimationSound = Sound:FootstepDirtA		Animation:chcm_cm_u_skl.chcm_cm_b_WLKA Frames:9 26 44 59 77 94
	End


	; *** ENGINEERING Parameters ***

	RadarPriority = UNIT
	KindOf = HERO PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE NOTIFY_OF_PREATTACK ARMY_SUMMARY ATTACK_NEEDS_LINE_OF_SIGHT HEAVY_MELEE_HITTER
	PathfindDiameter = 25 ; = 40.0

	Body = RespawnBody ModuleTag_RespawnBody
		CheerRadius 			= EMOTION_CHEER_RADIUS
		MaxHealth        		= 2200	;SARUMAN_HEALTH		;BALANCE Saruman Health
		MaxHealthReallyDamaged = 900
		PermanentlyKilledByFilter	= NONE		;Who kills me permanently?
    		DodgePercent      		= HERO_DODGE_PERCENT
    	BurningDeathBehavior	= Yes
		BurningDeathFX			= FX_InfantryBurningFlame
		CheerRadius				= EMOTION_CHEER_RADIUS
	End
	Behavior = RespawnUpdate ModuleTag_RespawnUpdate
		DeathAnim				= DYING
		;DeathAnim				= STUNNED			;Model condition to play when killed-to-respawn
		DeathFX				= FX_SyarRhulDieToRespawn	;FXList to play when killed-to-respawn
		DeathAnimationTime		= 5500 ;1133			;How long DeathAnim will take.
		InitialSpawnFX			= FX_SyarRhulInitialSpawn
		RespawnAnim				= LEVELED				;Animation to play when respawning.
		RespawnFX				= FX_SyarRhulRespawn		;FXList to play when respawning.
		RespawnAnimationTime		= 2000				;Time it takes for respawn to play.
		AutoRespawnAtObjectFilter	= NONE +CASTLE_KEEP		;Respawn at this location -- and at it's exit production point if possible.
		ButtonImage				= hiblackvizier_res
		RespawnRules =			AutoSpawn:No	Cost:960		Time:HERO_RESPAWNTIME_TIER_1		Health:100% ;Cost:1200
		RespawnEntry =	Level:2				Cost:1020		Time:HERO_RESPAWNTIME_TIER_1
		RespawnEntry =	Level:3				Cost:1080		Time:HERO_RESPAWNTIME_TIER_1
		RespawnEntry =	Level:4				Cost:1140		Time:HERO_RESPAWNTIME_TIER_1
		RespawnEntry =	Level:5				Cost:1200		Time:HERO_RESPAWNTIME_TIER_1
		RespawnEntry =	Level:6				Cost:1260		Time:HERO_RESPAWNTIME_TIER_1
		RespawnEntry =	Level:7				Cost:1320		Time:HERO_RESPAWNTIME_TIER_1
		RespawnEntry =	Level:8				Cost:1380		Time:HERO_RESPAWNTIME_TIER_1
		RespawnEntry =	Level:9				Cost:1440		Time:HERO_RESPAWNTIME_TIER_1
		RespawnEntry =	Level:10			Cost:1500		Time:HERO_RESPAWNTIME_TIER_1
	End

	Behavior = AutoHealBehavior ModuleTag_SarumanHealing
		StartsActive = Yes
		HealingAmount = HERO_HEAL_AMOUNT
		HealingDelay = 1000
		StartHealingDelay = HERO_HEAL_DELAY
		HealOnlyIfNotInCombat = Yes
	End

	Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End

	#include "..\..\..\includes\CaptureBuilding.inc"

	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle	= Yes ATTACK_BUILDINGS
		AttackPriority				= 	AttackPriority_Infantry
		BurningDeathTime			=	BURNINGDEATH_DURATION_INFANTRY
		AILuaEventsList			    = HeroScriptFunctions
	End

	Behavior = EmotionTrackerUpdate	Module_EmotionTracker
		TauntAndPointDistance				= 300
		TauntAndPointUpdateDelay			= 10000
		AddEmotion			=	Doom_Base
		//	AddEmotion			=   BraceForBeingCrushed_Base
		//	AddEmotion			=	FearIdle_Base
		//	AddEmotion			=	FearBusy_Base
		AddEmotion			=	Point_Base
		AddEmotion			=	Taunt_Base
 		AddEmotion			=	CheerIdle_Base
		AddEmotion			=	CheerBusy_Base
		//	AddEmotion			=	HeroCheerIdle_Base
		//	AddEmotion			=	HeroCheerBusy_Base
		AddEmotion			=	Alert_Base
		AddEmotion			=	CheerForAboutToCrush_Base
	End

	LocomotorSet
		Locomotor = HumanLocomotor
		Condition = SET_NORMAL
		Speed     = NORMAL_EVIL_HERO_SPEED ;;,;; NORMAL_EVIL_FAST_HERO_SPEED
	End

	LocomotorSet
		Locomotor = HumanWanderLocomotor
		Condition = SET_WANDER
		Speed     = 32
	End

	LocomotorSet
		Locomotor = BurningDeathLocomotorInfantry
		Condition = SET_BURNINGDEATH
		Speed	  = BURNINGDEATH_WANDERSPEED_INFANTRY
	End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
		ShockStandingTime		= 4000 ;msec
	End

	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
		Sound = INITIAL SyarRhulVoiceDie
		ShadowWhenDead = No
	End

	Behavior = SquishCollide ModuleTag_06
		;nothing
	End

	Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
		HitReactionLifeTimer1 = 3000	; level 1 (light  damage)  hit reaction animations in ms
		HitReactionThreshold1 = 5.0		; level 1 (light  damage) threshold trigger
	End

	;--------------------------------------------------------------------------------------------
	;--------------------------- Golden King's Vizier Unit Leadership ---------------------------
	;--------------------------------------------------------------------------------------------
		Behavior = AttributeModifierAuraUpdate ModuleTag_MasterLeadershipLvl1
		StartsActive	= No
		BonusName		= SyarRhulLeadership
		TriggeredBy		= Upgrade_ObjectLevel1
		Permanent		= No
		RefreshDelay	= 2000
		Range			= 200
		ObjectFilter	= NONE +HaradWarlord +HaradTribalSpearmenHorde_WOTR +HaradTribalJavelineersHorde_WOTR +HaradTribalAxemenHorde_WOTR +HaradTribalSpearmenHorde +HaradTribalJavelineersHorde +HaradTribalAxemenHorde +HarondorArcherHorde +HaradHarondorSpearmenHorde +HaradwaithHarondorRaiderHorde +HarondorSwordsHorde
	End
    Behavior = ObjectCreationUpgrade ModuleTag_RemoveUpgrades1
		TriggeredBy = Upgrade_ObjectLevel3
		RemoveUpgrade = Upgrade_ObjectLevel1
    End
	Behavior = AttributeModifierAuraUpdate ModuleTag_MasterLeadershipLvl3
		StartsActive	= No
		BonusName		= SyarRhulLeadership
		TriggeredBy		= Upgrade_ObjectLevel3
		Permanent		= No
		RefreshDelay	= 2000
		Range			= 200
		ObjectFilter	= NONE +HaradWarlord +HaradTribalSpearmenHorde_WOTR +HaradTribalJavelineersHorde_WOTR +HaradTribalAxemenHorde_WOTR +HaradTribalSpearmenHorde +HaradTribalJavelineersHorde +HaradTribalAxemenHorde +HarondorArcherHorde +HaradHarondorSpearmenHorde +HaradwaithHarondorRaiderHorde +HarondorSwordsHorde +HaradMahudWarriorHorde +HaradMahudHeadhunterHorde +MahudSpearsHorde +MahudChief
	End
    Behavior = ObjectCreationUpgrade ModuleTag_RemoveUpgrades2
		TriggeredBy = Upgrade_ObjectLevel4
		RemoveUpgrade = Upgrade_ObjectLevel3
    End
	Behavior = AttributeModifierAuraUpdate ModuleTag_MasterLeadershipLvl4
		StartsActive	= No
		BonusName		= SyarRhulLeadership
		TriggeredBy		= Upgrade_ObjectLevel4
		Permanent		= No
		RefreshDelay	= 2000
		Range			= 200
		ObjectFilter	= NONE +HaradWarlord +HaradTribalSpearmenHorde_WOTR +HaradTribalJavelineersHorde_WOTR +HaradTribalAxemenHorde_WOTR +HaradTribalSpearmenHorde +HaradTribalJavelineersHorde +HaradTribalAxemenHorde +HarondorArcherHorde +HaradHarondorSpearmenHorde +HaradwaithHarondorRaiderHorde +HarondorSwordsHorde +HaradMahudWarriorHorde +HaradMahudHeadhunterHorde +MahudSpearsHorde +MahudChief
	End
    Behavior = ObjectCreationUpgrade ModuleTag_RemoveUpgrades3
		TriggeredBy = Upgrade_ObjectLevel5
		RemoveUpgrade = Upgrade_ObjectLevel4
    End
	Behavior = AttributeModifierAuraUpdate ModuleTag_MasterLeadershipLvl5
		StartsActive	= No
		BonusName		= SyarRhulLeadership
		TriggeredBy		= Upgrade_ObjectLevel5
		Permanent		= No
		RefreshDelay	= 2000
		Range			= 200
		ObjectFilter	= NONE +HaradWarlord +HaradTribalSpearmenHorde_WOTR +HaradTribalJavelineersHorde_WOTR +HaradTribalAxemenHorde_WOTR +HaradTribalSpearmenHorde +HaradTribalJavelineersHorde +HaradTribalAxemenHorde +HarondorArcherHorde +HaradHarondorSpearmenHorde +HaradwaithHarondorRaiderHorde +HarondorSwordsHorde +HaradMahudWarriorHorde +MahudSpearsHorde +HaradMahudHeadhunterHorde +MahudChief
	End
    Behavior = ObjectCreationUpgrade ModuleTag_RemoveUpgrades4
		TriggeredBy = Upgrade_ObjectLevel6
		RemoveUpgrade = Upgrade_ObjectLevel5
    End
	Behavior = AttributeModifierAuraUpdate ModuleTag_MasterLeadershipLvl6
		StartsActive	= No
		BonusName		= SyarRhulLeadership
		TriggeredBy		= Upgrade_ObjectLevel6
		Permanent		= No
		RefreshDelay	= 2000
		Range			= 200
		ObjectFilter	= NONE +HaradCultistsofZigurHorde +HaradHasharinBlade +HaradMahudWarriorHorde +HaradMahudHeadhunterHorde +MahudChief +HaradWarlord +HaradTribalSpearmenHorde_WOTR +HaradTribalJavelineersHorde_WOTR +HaradTribalAxemenHorde_WOTR +HaradTribalSpearmenHorde +HaradTribalJavelineersHorde +MahudSpearsHorde +HaradTribalAxemenHorde +HarondorArcherHorde +HaradHarondorSpearmenHorde +HaradwaithHarondorRaiderHorde +HarondorSwordsHorde
	End
    Behavior = ObjectCreationUpgrade ModuleTag_RemoveUpgrades5
		TriggeredBy = Upgrade_ObjectLevel10
		RemoveUpgrade = Upgrade_ObjectLevel6
    End
	Behavior = AttributeModifierAuraUpdate ModuleTag_MasterLeadershipLvl10
		StartsActive	= No
		BonusName		= SyarRhulLeadership
		TriggeredBy		= Upgrade_ObjectLevel10
		Permanent		= No
		RefreshDelay	= 2000
		Range			= 200
		ObjectFilter	= NONE +HaradCultistsofZigurHorde +HaradHasharinBlade +HaradMahudWarriorHorde +HaradMahudHeadhunterHorde +MahudSpearsHorde +MahudChief +HaradWarlord +HaradTribalSpearmenHorde_WOTR +HaradTribalJavelineersHorde_WOTR +HaradTribalAxemenHorde_WOTR +HaradTribalSpearmenHorde +HaradTribalJavelineersHorde +HaradTribalAxemenHorde +HarondorArcherHorde +HaradHarondorSpearmenHorde +HaradwaithHarondorRaiderHorde +HarondorSwordsHorde +HaradBlackNumenoreanVanguardHorde +HaradBlackNumenoranWarriorsHorde
	End
	;--------------------------------------------------------------------------------------------
	;//-------------------------Leadership to Golden King ---------------------------------------
	;--------------------------------------------------------------------------------------------
	Behavior = AttributeModifierAuraUpdate ModuleTag_Leadership3
		StartsActive	= Yes    ;No ;If no, requires upgrade to turn on.
		BonusName		= GoldenKingVizierLeadershiptoGoldenKing
		TriggeredBy		= Upgrade_ObjectLevel1
		RefreshDelay	= 2000
		Range			= 200
		ObjectFilter	= NONE +HaradGoldenKing ;AOTR_GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
	End

	Behavior = ExperienceLevelCreate ModuleTag_LevelBonus
		LevelToGrant	= 1 ;5
		MPOnly			= Yes
	End
	;-------------------------------------------------------------------------
	; Enforcer
	;-------------------------------------------------------------------------
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_TollKeepersEnabler
        SpecialPowerTemplate       = SpecialAbilityVizierEnforcer
        TriggeredBy                = Upgrade_ObjectLevel3
    End
    Behavior = SpecialPowerModule ModuleTag_TollKeepersStarter
        SpecialPowerTemplate       = SpecialAbilityVizierEnforcer
        StartsPaused               = Yes
        UpdateModuleStartsAttack   = Yes
		InitiateSound				= SyarRhulVoiceEnforcer  ;USE VOICELINE HERE
    End
    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_TollKeepersAnimation
        SpecialPowerTemplate       = SpecialAbilityVizierEnforcer
        WhichSpecialWeapon         = 4
        SkipContinue               = Yes
        FreezeAfterTriggerDuration = 100 ; Hold AI for this long after we fire.
        UnpackTime                 = 700
        PreparationTime            = 1
        ;PersistentPrepTime        = 1000
        PackTime                   = 100
        AwardXPForTriggering       = 0
        StartAbilityRange          = 100
        SpecialWeapon              = VizierEnforcerWeapon
    End
	Behavior = AutoAbilityBehavior ModuleTag_TollKeepersAutoAbility
		SpecialAbility				= SpecialAbilityVizierEnforcer
		ForbiddenStatus 			= INSIDE_GARRISON
		MaxScanRange				= 200
		Query						= 1 AOTR_GRIMBEORN_TOLL_KEEPER_OBJECTFILTER
	End
	;-------------------------------------------------------------------------

	;-----------------------------------------------------------------------------
	;                     Dark Sacrifice
	;-----------------------------------------------------------------------------
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_MouthOfSauronDoubtEnabler
		SpecialPowerTemplate = SpecialAbilityVizierDarkSacrifice
		TriggeredBy = Upgrade_ObjectLevel6 ;Upgrade_MouthOfSauronDoubt
	End
	Behavior = SpecialPowerModule ModuleTag_MouthOfSauronDoubtStarter
		SpecialPowerTemplate		= SpecialAbilityVizierDarkSacrifice
		StartsPaused				= Yes
 		UpdateModuleStartsAttack	= Yes
		InitiateSound				= SyarRhulVoiceDarkSacrifice
	End
	Behavior = ActivateModuleSpecialPower ModuleTag_MouthOfSauronDoubtMover
		SpecialPowerTemplate		= SpecialAbilityVizierDarkSacrifice
		StartAbilityRange			= 300
		TriggerSpecialPower			= ModuleTag_MightyRageBuff		TARGETPOS
	End
	Behavior = SpecialPowerModule ModuleTag_MightyRageBuff
		SpecialPowerTemplate			= SpecialAbilityActivateeDummy
		AttributeModifier				= VizierDarkSacrificeBuff
		AttributeModifierRange			= MOUTH_OF_SAURON_DOUBT_RADIUS
		AttributeModifierAffects		= AOTR_GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
	End
	Behavior = AutoAbilityBehavior ModuleTag_AbhorredDreadAutoAbility
		SpecialAbility				= SpecialAbilityVizierDarkSacrifice
		ForbiddenStatus 			= INSIDE_GARRISON ;;,;; This seems to prevent the ability from being used inside a tower
		MaxScanRange				= 300
		Query						= 10 ALL ALLIES -WALL_UPGRADE -WALL_HUB -WALL_SEGMENT -DEFENSIVE_WALL -FS_BASE_DEFENSE -HERO    ;ENEMIES -WALL_UPGRADE -WALL_HUB -WALL_SEGMENT -DEFENSIVE_WALL -FS_BASE_DEFENSE
	End

	;-------------------------------------------------------------------------
	; Arbiter of Faith
	;-------------------------------------------------------------------------
    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_HeadhunterEnabler
        SpecialPowerTemplate       = SpecialAbilityArbiterofFaith
        TriggeredBy                = Upgrade_ObjectLevel9
    End
    Behavior = SpecialPowerModule ModuleTag_HeadhunterStarter
        SpecialPowerTemplate       = SpecialAbilityArbiterofFaith
        StartsPaused               = Yes
        UpdateModuleStartsAttack   = Yes
		InitiateSound				= SyarRhulVoiceArbiterofFaith
    End
    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_Headhunter
        SpecialPowerTemplate       = SpecialAbilityArbiterofFaith
        WhichSpecialWeapon         = 1
        SkipContinue               = Yes
        FreezeAfterTriggerDuration = 100 ; Hold AI for this long after we fire.
        UnpackTime                 = 700
        PreparationTime            = 1
        ;PersistentPrepTime        = 1000
        PackTime                   = 100
        AwardXPForTriggering       = 0
        StartAbilityRange          = 200
        SpecialWeapon              = ArbiterofFaithWeapon
    End
	Behavior = AutoAbilityBehavior ModuleTag_CourageAutoAbility
		SpecialAbility				= SpecialAbilityArbiterofFaith
		ForbiddenStatus 			= INSIDE_GARRISON
		MaxScanRange				= 200
		Query						= 1 ANY +HERO -HaradSyarRhul ALLIES ENEMIES NEUTRAL
	End
	;-------------------------------------------------------------------------------------------------
	;-------------------------------------------------------------------------------------------------
	;;; SPEECH CRAFT LEVEL GAIN SPECIAL POWER ;;;
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_KingsFavorEnabler
		SpecialPowerTemplate		= SpecialAbilityKingsFavor
		TriggeredBy					= Upgrade_ObjectLevel10 ;Upgrade_SarumanSpeechCraft
	End

 	Behavior = SpecialPowerModule ModuleTag_KingsFavorSpecialPowerModule
        SpecialPowerTemplate		= SpecialAbilityKingsFavor
        StartsPaused				= Yes
		UpdateModuleStartsAttack	= Yes
        InitiateSound				= SyarRhulVoiceFalsePromises
    End

 	Behavior = LevelGrantSpecialPower ModuleTag_KingsFavor
		SpecialPowerTemplate		= SpecialAbilityKingsFavor
		UnpackingVariation			= 2
		StartAbilityRange			= 200.0
;		LevelFX = FX_PorterDeliver

		Experience					= 100 ;85 ;,; 70 ;80 ;100 ;;,;; 50
		RadiusEffect				= 150 ;;,;; 100
		AcceptanceFilter			= KINGSFAVOR_OBJECTFILTER
		LevelFX						= FX_LevelUp

		UnpackTime					= 2000
		PreparationTime				= 1
		FreezeAfterTriggerDuration	= 2500 ; Hold AI for this long after we fire.
    End

	Behavior = AutoAbilityBehavior ModuleTag_KingsFavorAutoAbility ;;,;;
		SpecialAbility	= SpecialAbilityKingsFavor
		ForbiddenStatus = INSIDE_GARRISON ;;,;; This seems to prevent the ability from being used inside a tower
		MaxScanRange	= 200
		Query		= 10 ANY +CAVALRY +INFANTRY -STRUCTURE -CASTLE_KEEP -BASE_FOUNDATION -HERO -MOVE_ONLY -DOZER -SUMMONED ALLIES
	End
	;---------------------------------------------------------------
	;	SAURON'S REWARD
	;---------------------------------------------------------------
	Behavior = AttributeModifierUpgrade ModuleTag_SauronsRewardBonus
		TriggeredBy			= Upgrade_DwarvenMithrilMail
		AttributeModifier	= SauronsRewardBonus
	End
	;---------------------------------------------------------------

	; AI Auto-Retreat Behavior
		#include "..\..\..\aicoding\autoretreat7.inc"
	;///////////////////
	; AISpecialPowers
	;///////////////////

	Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
		CommandButtonName = Command_SetStanceBattle
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
	End

	Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive ;;,;; Changed for 3.0.1
		CommandButtonName = Command_AttackMove ;;,;; Command_SetStanceAggressive ;;,;; Changed for 3.0.1
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
	End

	Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
		CommandButtonName = Command_SetStanceHoldGround
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
	End

	Behavior = AISpecialPowerUpdate SpellBookIndustryAIMordor
		CommandButtonName = Command_SpecialAbilityVizierEnforcer
		SpecialPowerAIType = AI_SPECIAL_POWER_ENEMY_TYPE_KILLER_STRUCTURES
		SpecialPowerRadius = 100
	End

	Behavior = AISpecialPowerUpdate SpecialAbilityDarkSacrificeAI
		CommandButtonName = Command_SpecialAbilityVizierDarkSacrifice
		SpecialPowerAIType = AI_SPECIAL_POWER_AOE_AND_BUFF
	;	SpecialPowerRadius = 100
	End
	Behavior = AISpecialPowerUpdate SpecialSlamArrowAoE
		CommandButtonName = Command_SpecialAbilityArbiterofFaith
		SpecialPowerAIType = AI_SPECIAL_POWER_ENEMY_TYPE_KILLER_RANGED ;;,;; AI_SPECIAL_POWER_ENEMY_TYPE_KILLER ;;,;; Changed for 2.5
		SpecialPowerAIType	= AI_SPECIAL_POWER_MORGUL_BLADE ;;,;; AI_SPECIAL_POWER_GANDALF_WIZARD_BLAST ;;,;; Changed for 2.5
	End
	Behavior = AISpecialPowerUpdate SpecialPowerSarumanGiveXPAoE ;;,;; GandalfToggleMountedAI
		CommandButtonName = Command_SpecialAbilitySyarRhulKingsFavor
		SpecialPowerAIType = AI_SPECIAL_POWER_GIVEXP_AOE
		SpecialPowerRadius = 30.0
	End

;//---------------------------------------------------------------------------------------

	Geometry				= CYLINDER
	GeometryMajorRadius		= 8.0
	GeometryMinorRadius		= 8.0
	GeometryHeight			= 19.2
	GeometryIsSmall			= Yes

	Shadow					= SHADOW_DECAL
	ShadowSizeX				= 19
	ShadowSizeY				= 19
	ShadowTexture			= ShadowI
End

Object DarkSacrificeBuffer

	Draw = W3DScriptedModelDraw ModuleTag_Draw
		DefaultModelConditionState
			Model = none
		End
	End

	KindOf = IMMOBILE UNATTACKABLE

	Body = ActiveBody ModuleTag_MakesKillWork
		MaxHealth = 1
	End

	Behavior = LargeGroupBonusUpdate ModuleTag_DS1
		UpdateRate		= 1
		HordeMemberFilter	= AOTR_GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
		Count			= 5
		Radius			= 35
		RubOffRadius		= 1.0
		AlliesOnly		= Yes
		AttributeModifier	= VizierDarkSacrificeBuffTrigger1
	End

	Behavior = LargeGroupBonusUpdate ModuleTag_DS2
		UpdateRate		= 1
		HordeMemberFilter	= AOTR_GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
		Count			= 10
		Radius			= 35
		RubOffRadius		= 1.0
		AlliesOnly		= Yes
		AttributeModifier	= VizierDarkSacrificeBuffTrigger2
	End

	Behavior = LargeGroupBonusUpdate ModuleTag_DS3
		UpdateRate		= 1
		HordeMemberFilter	= AOTR_GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
		Count			= 15
		Radius			= 35
		RubOffRadius		= 1.0
		AlliesOnly		= Yes
		AttributeModifier	= VizierDarkSacrificeBuffTrigger3
	End

	Behavior = LifetimeUpdate ModuleTag_HatchTrigger
		MinLifetime = 420
		MaxLifetime = 420
	End

	Behavior = SlowDeathBehavior ModuleTag_HatchProcess
		DestructionDelay = 0
		Weapon	= INITIAL DarkSacrificeEmiter
	End

End

Object DarkSacrificeEm1

	Draw = W3DScriptedModelDraw ModuleTag_Draw
		DefaultModelConditionState
			Model = none
		End
	End

	KindOf = IMMOBILE UNATTACKABLE

	Body = ActiveBody ModuleTag_MakesKillWork
		MaxHealth = 1
	End

	Behavior = AttributeModifierAuraUpdate ModuleTag_BrandLeadership
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= VizierDarkSacrificeBuff
		;TriggeredBy		= Upgrade_ObjectLevel1
		RefreshDelay	= 1500
		Range			= 300
		ObjectFilter	= AOTR_GENERIC_BUFF_RECIPIENT_OBJECT_FILTER ALLIES
	End


	Behavior = LifetimeUpdate ModuleTag_HatchTrigger
		MinLifetime = 1600
		MaxLifetime = 1600
	End

	Behavior = SlowDeathBehavior ModuleTag_HatchProcess
		DestructionDelay = 0
	End

End

Object DarkSacrificeEm2

	Draw = W3DScriptedModelDraw ModuleTag_Draw
		DefaultModelConditionState
			Model = none
		End
	End

	KindOf = IMMOBILE UNATTACKABLE

	Body = ActiveBody ModuleTag_MakesKillWork
		MaxHealth = 1
	End

	Behavior = AttributeModifierAuraUpdate ModuleTag_BrandLeadership
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= VizierDarkSacrificeBuff2
		;TriggeredBy		= Upgrade_ObjectLevel1
		RefreshDelay	= 1500
		Range			= 300
		ObjectFilter	= AOTR_GENERIC_BUFF_RECIPIENT_OBJECT_FILTER ALLIES
	End


	Behavior = LifetimeUpdate ModuleTag_HatchTrigger
		MinLifetime = 1600
		MaxLifetime = 1600
	End

	Behavior = SlowDeathBehavior ModuleTag_HatchProcess
		DestructionDelay = 0
	End

End
Object DarkSacrificeEm3

	Draw = W3DScriptedModelDraw ModuleTag_Draw
		DefaultModelConditionState
			Model = none
		End
	End

	KindOf = IMMOBILE UNATTACKABLE

	Body = ActiveBody ModuleTag_MakesKillWork
		MaxHealth = 1
	End

	Behavior = AttributeModifierAuraUpdate ModuleTag_BrandLeadership
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= VizierDarkSacrificeBuff3
		;TriggeredBy		= Upgrade_ObjectLevel1
		RefreshDelay	= 1500
		Range			= 300
		ObjectFilter	= AOTR_GENERIC_BUFF_RECIPIENT_OBJECT_FILTER ALLIES
	End


	Behavior = LifetimeUpdate ModuleTag_HatchTrigger
		MinLifetime = 1600
		MaxLifetime = 1600
	End

	Behavior = SlowDeathBehavior ModuleTag_HatchProcess
		DestructionDelay = 0
	End

End
Object DarkSacrificeEm4

	Draw = W3DScriptedModelDraw ModuleTag_Draw
		DefaultModelConditionState
			Model = none
		End
	End

	KindOf = IMMOBILE UNATTACKABLE

	Body = ActiveBody ModuleTag_MakesKillWork
		MaxHealth = 1
	End

	Behavior = AttributeModifierAuraUpdate ModuleTag_BrandLeadership
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= VizierDarkSacrificeBuff4
		;TriggeredBy		= Upgrade_ObjectLevel1
		RefreshDelay	= 1500
		Range			= 300
		ObjectFilter	= AOTR_GENERIC_BUFF_RECIPIENT_OBJECT_FILTER ALLIES
	End


	Behavior = LifetimeUpdate ModuleTag_HatchTrigger
		MinLifetime = 1600
		MaxLifetime = 1600
	End

	Behavior = SlowDeathBehavior ModuleTag_HatchProcess
		DestructionDelay = 0
	End

End

Object ArbiterofFaithSpawner

    Draw = W3DScriptedModelDraw ModuleTag_Draw
        DefaultModelConditionState
            Model = None
        End
    End

    KindOf    = INERT IMMOBILE UNATTACKABLE MOVE_ONLY


    Behavior = AttachUpdate ModuleTag_Attach
        ObjectFilter            = ANY +HERO -WALK_ON_TOP_OF_WALL -BASE_FOUNDATION -CAPTURABLE -WALL_UPGRADE AOTR_NOT_FLYING_UNITS
        ScanRange               = 15
        AlwaysTeleport          = No
        AnchorToTopOfGeometry   = Yes
    End


    Behavior = QueueProductionExitUpdate ModuleTag_11
        UnitCreatePoint             = X:0.0 Y:0.0 Z:0.0
        NaturalRallyPoint           = X:0.0 Y:0.0 Z:0.0
        ExitDelay                   = 300
    End

    Behavior = SpawnBehavior ModuleTag_SpawnFighters1
        SpawnNumber          = 2
        InitialBurst         = 2
        SpawnTemplateName    = HaradHasharinBlade_Arbiter
        SpawnReplaceDelay    = 9999999999
        CanReclaimOrphans    = Yes
    End

    Body = ActiveBody ModuleTag_MakesKillWork
        MaxHealth    = 1
    End
    Behavior = LifetimeUpdate ModuleTag_HatchTrigger
        MinLifetime = 45000.0
        MaxLifetime = 45000.0
    End
    Behavior = SlowDeathBehavior ModuleTag_HatchProcess
        DestructionDelay    = 2000
    End
End


ChildObject HaradSyarRhul_WOTR HaradSyarRhul
	CommandPoints = WOTR_HERO_TIER_2_CP
	EquivalentTo = HaradSyarRhul
	Behavior = GrantUpgradeCreate ModuleTag_GiveUpgrade
		UpgradeToGrant			= Upgrade_WOTRHero2
	End
End
