;------------------------------------------------------------------------------
Object HaradZigur ;Ring Hero version at the bottom

	; *** ART Parameters ***

	SelectPortrait = UPZigur
	ButtonImage = HIZigur

	DescriptionStrategic = CONTROLBAR:LW_ToolTip_Khamul

	Draw = W3DScriptedModelDraw ModuleTag_01

		OkToChangeModelColor = Yes

		StaticModelLODMode = no ;yes		; Will append M or L to the skin name depending on GameLOD

		; GlowEnabled = Yes

;;====================== MODELS =============================================

		DefaultModelConditionState
			Model = huzigur_skn
		End

		ModelConditionState	= SPECIAL_WEAPON_THREE
			Model = huzigur_skn
			; ParticleSysBone 	= None NecromancerWTrails02 FollowBone:no
			; ParticleSysBone     = None RingWraithFlare
			; ParticleSysBone     = None RingWraithWindIdle
			ParticleSysBone     = None HoFUnitTrails
			ParticleSysBone 	= CHEST BalrogManeFlare FollowBone:no
			ParticleSysBone 	= CHEST BalrogManeEmbers FollowBone:no
			; ParticleSysBone 	= CHEST BalrogManeFire FollowBone:no
			; ParticleSysBone 	= SKIRT2 NecromancerWreathedSmokeAmbientFX
		End


;;================== ANIMATIONS =================================================================

;;------------------ MOVING & DYING ---------------------------

;;======= DYING

	AnimationState						= DYING
		Animation						= DIEB
			AnimationName				= MUSauron_SKL.MUSauron_DIEB
			AnimationMode				= ONCE
		End
	End

	AnimationState						= PARALYZED
		Animation
			AnimationName				= MUSauron_SKL.MUSauron_IDLA
			AnimationMode				= LOOP
		End
	End

;;======= MOVING

    AnimationState						= MOVING FIRING_OR_PREATTACK_A
		StateName						= STATE_Moving
		Animation						= Moving
		    AnimationName				= MUSauron_SKL.MUSauron_WLKB
			AnimationMode				= LOOP
			Distance					= 88
		End
		Flags							= MAINTAIN_FRAME_ACROSS_STATES
    End

	AnimationState						= MOVING TURN_RIGHT_HIGH_SPEED
		StateName						= STATE_Moving
		Animation						= Moving
		    AnimationName				= MUSauron_SKL.MUSauron_WLKA
			AnimationMode				= LOOP
			Distance					= 88
		End
		Animation						= Turning
			AnimationName				= MUSauron_SKL.MUSauron_TRNR
		    AnimationMode				= LOOP
			AnimationBlendTime			= 0
		End
		Flags							= MAINTAIN_FRAME_ACROSS_STATES MAINTAIN_FRAME_ACROSS_STATES2
		BeginScript
			if CurDrawablePrevAnimationState() == "STATE_Turning" then return "Turning" else return "Moving" end
		EndScript
    End

    AnimationState						= MOVING TURN_LEFT_HIGH_SPEED
		StateName						= STATE_Moving
		Animation						= Moving
		    AnimationName				= MUSauron_SKL.MUSauron_WLKA
			AnimationMode				= LOOP
			Distance					= 88
		End
		Animation						= Turning
			AnimationName				= MUSauron_SKL.MUSauron_TRNL
			AnimationMode				= LOOP
			AnimationBlendTime			= 0
		End
		Flags							= MAINTAIN_FRAME_ACROSS_STATES MAINTAIN_FRAME_ACROSS_STATES2
		BeginScript
			if CurDrawablePrevAnimationState() == "STATE_Turning" then return "Turning" else return "Moving" end
		EndScript
    End

	AnimationState						= TURN_LEFT
		StateName						= STATE_Turning
		Animation						= Turning
			AnimationName				= MUSauron_SKL.MUSauron_TRNL
			AnimationMode				= LOOP
			AnimationBlendTime			= 5
		End
		Flags							= MAINTAIN_FRAME_ACROSS_STATES2
    End

    AnimationState						= TURN_RIGHT
		StateName						= STATE_Turning
		Animation						= Turning
			AnimationName				= MUSauron_SKL.MUSauron_TRNR
		    AnimationMode				= LOOP
		    AnimationBlendTime			= 5
		End
		Flags							= MAINTAIN_FRAME_ACROSS_STATES2
   End

    AnimationState						= MOVING
		StateName						= STATE_Moving
		Animation						= Moving
		    AnimationName				= MUSauron_SKL.MUSauron_WLKA
			AnimationMode				= LOOP
			Distance					= 88
		End
		Flags							= MAINTAIN_FRAME_ACROSS_STATES
    End

 ;;------------------ ABILITIES  -------------------------------

	AnimationState						= SPECIAL_WEAPON_ONE					; Fires of doom
		Animation
			AnimationName				= MUSauron_SKL.MUSauron_ATKD
			AnimationMode				= ONCE
		End
	End

	AnimationState = SPECIAL_WEAPON_THREE
			Animation
				AnimationName = MUSauron_SKL.UUNecro_SPCA
				AnimationMode = ONCE
				AnimationSpeedFactorRange = 0.5 0.5
			End
	End

	AnimationState = SPECIAL_WEAPON_FOUR
			Animation
				AnimationName = MUSauron_SKL.UUNecro_SPCB
				AnimationMode = ONCE
				AnimationSpeedFactorRange = 0.7 0.7
			End
	End

	AnimationState						= USER_3					; LORD OF THE RINGS
		Animation
			AnimationName				= MUSauron_SKL.MUSauron_ATKD
			AnimationMode				= ONCE
		End
		FXEvent				= Frame:59 Name:FX_SauronLOTRStart
	End

 ;;------------------ ATTACKING  -------------------------------

	AnimationState						= FIRING_OR_PREATTACK_A
		StateName						= STATE_Ready
		Animation						= ATKC
			AnimationName				= MUSauron_SKL.MUSauron_ATKC
			AnimationMode				= ONCE
			UseWeaponTiming				= Yes
		End
	End

;;-------------------- HIT REACTIONS --------------------------

	AnimationState						= HIT_REACTION
		StateName						= STATE_Ready
		Animation
			AnimationName				= MUSauron_SKL.MUSauron_HITA
			AnimationMode				= ONCE
		End
	End

		AnimationState        = RAISING_FLAG
			Animation
				AnimationName     = MUSauron_SKL.MUSauron_ATKC
				AnimationMode     = ONCE
			End
			Animation
				AnimationName     = MUSauron_SKL.MUSauron_ATKD
				AnimationMode     = ONCE
			End
			Animation
				AnimationName     = MUSauron_SKL.MUSauron_ATKE
				AnimationMode     = ONCE
			End
			Flags					= RESTART_ANIM_WHEN_COMPLETE
		End

;;--------------- IDLE STATES ---------------------------------

	AnimationState						= SELECTED
		StateName						= Selected
		Animation						= IDLA
			AnimationName				= MUSauron_SKL.MUSauron_ATNB
			AnimationMode				= LOOP
		End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") end
			EndScript
	End

	IdleAnimationState
		AllowRepeatInRandomPick			= Yes
		StateName						= Idle
		Animation						= IDLA
			AnimationName				= MUSauron_SKL.UUNecro_IDLA
			AnimationMode				= ONCE
			AnimationPriority			= 10
			AnimationBlendTime			= 10
		End
		Animation						= IDLB
			AnimationName				= MUSauron_SKL.UUNecro_IDLB
			AnimationMode				= ONCE
			AnimationPriority			= 10
			AnimationBlendTime			= 10
		End
		Animation						= IDLC
			AnimationName				= MUSauron_SKL.UUNecro_IDLC
			AnimationMode				= ONCE
			AnimationPriority			= 10
			AnimationBlendTime			= 10
		End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Selected" then CurDrawableSetTransitionAnimState("TRANS_Selected_to_Idle") end
			EndScript
	End
;;--------------------- TRANSITIONS ----------------------------------------------------

	TransitionState					= TRANS_SmoothToIdle
		Animation					= IDLA
			AnimationName			= MUSauron_SKL.MUSauron_IDLA
			AnimationMode			= ONCE
			AnimationBlendTime		= 5
		End
	End
	TransitionState					= TRANS_ReallySmoothToIdle
		Animation					= IDLA
			AnimationName			= MUSauron_SKL.MUSauron_IDLA
			AnimationMode			= ONCE
			AnimationBlendTime		= 10
		End
	End

    TransitionState = TRANS_Idle_to_Selected
		Animation = ATNA
			AnimationName		= MUSauron_SKL.MUSauron_ATNA
			AnimationMode		= ONCE
			AnimationBlendTime	= 10
		End
    End

    TransitionState = TRANS_Selected_to_Idle
		Animation = ATNF
			AnimationName		= MUSauron_SKL.MUSauron_ATNC
			AnimationMode		= ONCE
			AnimationBlendTime	= 10
		End
    End

;;---------------------------------------------------------------------------------------
  End

    #include "..\..\..\includes\StunDrawModuleMedium.inc"

	; ***DESIGN parameters ***
	Side				= Harad
	EditorSorting		= UNIT
	ThreatLevel			= SAURON_THREAT_LEVEL
	ThingClass			= CHARACTER_UNIT
	TransportSlotCount	= TRANSPORTSLOTCOUNT_HERO
	BuildCost			= 10000 ;3000  ;3500
	BuildTime			= 100  ;HERO_BUILDTIME_TIER_4
	ShockwaveResistance = SHOCKWAVE_RESISTANCE_ALWAYS
	VisionRange			= VISION_STANDARD_MELEE
	ShroudClearingRange = SHROUD_CLEAR_HERO


	BountyValue			= 700
	RecruitText 		= CONTROLBAR:HaradZigurRecruit
	ReviveText			= CONTROLBAR:HaradZigurRevive
	Hotkey				= CONTROLBAR:HaradZigurHotkey
	DisplayName			= OBJECT:HaradZigur
;	CrushableLevel		= 2								; What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrusherLevel		= 0								; What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
	CrushAllies			= yes
	RamPower			= 25
 	CommandSet			= HaradZigurCommandSet
	CommandPoints		= 0

	WeaponSet
		Conditions			= None
		Weapon				= PRIMARY SauronMace ;NecromancerMace
		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End

;	WeaponSet
;		Conditions 			= PLAYER_UPGRADE
;		Weapon				= PRIMARY SauronMace
;		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
;	End

;	WeaponSet
;		Conditions			= MOUNTED
;	End

;	WeaponSet
;		Conditions			= PLAYER_UPGRADE MOUNTED
;	End

	ArmorSet
		Conditions      = None
		Armor           = SauronArmor ;GuldurNecromancerArmor  ;SauronArmor
		DamageFX        = NormalDamageFX
	End

;	ArmorSet
;		Conditions      = MOUNTED
;		Armor           = InvulnerableArmor
;		DamageFX        = NormalDamageFX
;	End

	; *** AUTO-RESOLVE data ***
	AutoResolveUnitType = AutoResolveUnit_Hero
	AutoResolveCombatChain = AutoResolve_HeroCombatChain
	AutoResolveBody = AutoResolve_BoromirBody
	AutoResolveArmor
		Armor = AutoResolve_GandalfArmor
	End
	AutoResolveWeapon
		Weapon = AutoResolve_LeaderHeroStrongWeapon
	End
	AutoResolveLeadership = AutoResolve_GandalfBonus

	; *** AUDIO Parameters ***;

	VoiceAttack			= ZigurVoiceAttackMS
	VoiceAttackCharge						= ZigurVoiceAttackChargeMS
	VoiceAttackMachine						= ZigurVoiceAttackMS
	VoiceAttackStructure					= ZigurVoiceAttackBuildingMS
	VoiceFear			= ZigurVoiceHelpMe
	VoiceCreated		= ZigurVoiceSalute ;EVA:SauronCreated
;	VoiceCreated		= +SOUND:CreateSauronGlobalNew ;CampOrcCreateSauronGlobal
	VoiceFullyCreated 	= ZigurVoiceSalute ;EVA:SauronCreated
;	VoiceFullyCreated	= +SOUND:CreateSauronGlobalNew ;CampOrcCreateSauronGlobal
	VoiceMove			= ZigurVoiceMoveMS
	VoiceMoveToCamp							= ZigurVoiceMoveCampMS
	VoiceMoveWhileAttacking					= ZigurVoiceRetreatMS
	VoicePriority		= 94
	VoiceRetreatToCastle					= ZigurVoiceRetreatMS
	VoiceSelect			= ZigurVoiceSelectMS
	VoiceSelectBattle 						= ZigurVoiceSelectBattleMS
	VoiceGuard			= ZigurVoiceMoveMS

	UnitSpecificSounds
		VoiceEnterUnitEvilMenTransportShip	= ZigurVoiceMoveMS
		VoiceEnterUnitMordorMumakil			= ZigurVoiceMoveMS
		VoiceEnterUnitSlaughterHouse		= ZigurVoiceMoveMS
		VoiceGarrison						= ZigurVoiceMoveMS
		VoiceInitiateCaptureBuilding		= ZigurVoiceMoveMS
	End

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound:SauronFootstep			Animation:MUSauron_SKL.MUSauron_ATKE	Frames:47
		AnimationSound = Sound:SauronFootstep			Animation:MUSauron_SKL.MUSauron_DIEB	Frames:29
		AnimationSound = Sound:BodyFallSoldier			Animation:MUSAURON_SKL.MUSAURON_LNDA 	Frames:4 30
		AnimationSound = Sound:SauronFootstep			Animation:MUSAURON_SKL.MUSAURON_WLKA 	Frames:8 26 44 62 80 98
		AnimationSound = Sound:SauronFootstep			Animation:MUSAURON_SKL.MUSAURON_WLKB 	Frames:25 44 64 84
	End

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

	EvaEventDieOwner		= GuldurNecromancerDie			;Eva event to trigger on unit's death. NOTICE THAT this is only for permanent deaths
												;For deaths you can respawn from, use the DeathFX

    ; Warn the player when the enemy gets Sauron. Override the normal sighting event from StandardUnitEvaEvents.inc
	EvaEnemyObjectSightedEvent = EnemySauronSeen

	;ClientUpdate = EvaAnnounceClientCreate ModuleTag_CreateAnnounce
	;	AnnouncementEventEnemy = SauronCreated ;EnemySauronSeen
	;	AnnouncementEventAlly = SauronCreated ;EnemySauronSeen
	;	AnnouncementEventOwner = None
	;
	;	OnlyIfVisible = Yes						; Don't announce if hidden in the shroud
	;	CountAsFirstSightedAnnoucement = Yes	; Don't re-annouce if going into shroud & back
	;	UseObjectsPosition = No					; Play from central Fortress, not at Sauron's position
	;	CreateFakeRadarEvent = Yes				; Allow player to jump to Sauron after hearing annoucement
	;End

	; *** ENGINEERING Parameters ***
	RadarPriority		= UNIT
	KindOf				= HERO PRELOAD PATH_THROUGH_EACH_OTHER SELECTABLE CAN_CAST_REFLECTIONS SCORE SCARY HEAVY_MELEE_HITTER ;ARMY_SUMMARY COMMANDCENTER MOB_NEXUS
	PathfindDiameter = 25 ;	= 40.0


	Body = ActiveBody ModuleTag_Body
		MaxHealth = SAURON_HEALTH ;3800
		DodgePercent     		= HERO_DODGE_PERCENT
	End

;	Body = RespawnBody ModuleTag_RespawnBody
;		;CheerRadius 			= EMOTION_CHEER_RADIUS
;  		MaxHealth         		= 3000  ;SAURON_HEALTH
; 		PermanentlyKilledByFilter	= NONE				; Who kills me permanently?
;  		DodgePercent     		= HERO_DODGE_PERCENT
; 	End

	; Behavior = RespawnUpdate ModuleTag_RespawnUpdate
		; DeathAnim			= DYING ;STUNNED		; Model condition to play when killed-to-respawn
		; DeathFX				= FX_ZigurDieToRespawn		; FXList to play when killed-to-respawn
		; DeathAnimationTime		= 6033 ; 1133			; How long DeathAnim will take.
		; InitialSpawnFX			= FX_ZigurInitialSpawn
		; RespawnAnim			= LEVELED			; Animation to play when respawning.
		; RespawnFX			= FX_ZigurRespawn		; FXList to play when respawning.
		; RespawnAnimationTime		= 2500				; Time it takes for respawn to play.
		; AutoRespawnAtObjectFilter	= NONE +CASTLE_KEEP		; Respawn at this location -- and at it's exit production point if possible.
		; ButtonImage			= HIGuldurNecromancer_res

; ;	RespawnEntries determine the ruleset for how a character can be revived. Some units may automatically respawn, others
; ;	may require a specific revive action performed on him. You can specify different values for each level... or use Level:Any
		; RespawnRules =			AutoSpawn:No	Cost:2000		Time:HERO_RESPAWNTIME_TIER_5		Health:100% ;Cost:1200
		; RespawnEntry =	Level:2				Cost:2125		Time:HERO_RESPAWNTIME_TIER_5
		; RespawnEntry =	Level:3				Cost:2250		Time:HERO_RESPAWNTIME_TIER_5
		; RespawnEntry =	Level:4				Cost:2375		Time:HERO_RESPAWNTIME_TIER_5
		; RespawnEntry =	Level:5				Cost:2500		Time:HERO_RESPAWNTIME_TIER_5
		; RespawnEntry =	Level:6				Cost:2625		Time:HERO_RESPAWNTIME_TIER_5
		; RespawnEntry =	Level:7				Cost:2750		Time:HERO_RESPAWNTIME_TIER_5
		; RespawnEntry =	Level:8				Cost:2875		Time:HERO_RESPAWNTIME_TIER_5
		; RespawnEntry =	Level:9				Cost:3000		Time:HERO_RESPAWNTIME_TIER_5
		; RespawnEntry =	Level:10			Cost:3125		Time:HERO_RESPAWNTIME_TIER_5
	; End

	Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End

	Behavior = AnnounceBirthAndDeathBehavior ModuleTag_AnnounceBirthAndDeathBehavior
    End

	Behavior = AIUpdateInterface ModuleTag_AI
		AutoAcquireEnemiesWhenIdle	= Yes ATTACK_BUILDINGS
		AILuaEventsList				= ZigurFunctions ;NecromancerFunctions
	End

	LocomotorSet
		Locomotor = BasicSauronLocomotor
		Condition = SET_NORMAL
		Speed     = 40
	End
;	LocomotorSet
;		Locomotor = NecromancerShapelessLocomotor
;		Condition = SET_NORMAL_UPGRADED
;		Speed     = 200
;	End

	Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
		HitReactionLifeTimer1 = 3333 ; level 1 (light  damage)  hit reaction animations in frames (5 per sec)
		HitReactionThreshold1 = 100.0   ; level 1 (light  damage) threshold trigger
	End

	Behavior = PhysicsBehavior ModuleTag_Physics
		GravityMult = 1.0
	End

	Behavior = SlowDeathBehavior ModuleTag_SlowDeath
		DeathTypes			= ALL
		SinkDelay			= 5000
		SinkRate			= 10.0     ; in Dist/Sec - fast!
		DestructionDelay	= 1800
		Sound = INITIAL ZigurVoiceDie
        Weapon				= FINAL RingHeroDeathShockwave ;NecromancerDeathShockwave
	End

	Behavior = SquishCollide ModuleTag_Squish
	End


	;-----------------------------------------------------------------------------------------;
	;------------------------------------   NEW POWERS -------------------------------;
	;-----------------------------------------------------------------------------------------;

	;----------------------------------------------------------------------------------------
	; ------------------ HIGH PRIEST OF MORGOTH --------------------------------------------------
	;---------------------------------------------------------------------------------------

		Behavior = AttributeModifierAuraUpdate ModuleTag_DreadVisageAura
		StartsActive	= Yes														;If no, requires upgrade to turn on.
;		TriggeredBy		= Upgrade_ObjectLevel2 ;Upgrade_DreadVisage
		RefreshDelay	= 2000
		Range			= 250 ;WITCHKING_DREADVISAGE_EFFECT_RADIUS
		TargetEnemy		= Yes
		AntiCategory	= LEADERSHIP DEBUFF ;;,;; Removed BUFF, added DEBUFF
		BonusName		= HighPriestModifier ;;,;; GenericDebuff
		ObjectFilter	= AOTR_GENERIC_BUFF_RECIPIENT_WITH_HORDES_OBJECT_FILTER ;
	End

	Behavior = FireWeaponUpdate ModuleTag_RingHero
        FireWeaponNugget
            WeaponName    = ZigurDOTWeapon
            FireDelay     = 0
            OneShot       = No
        End
    End
	;-----------------------------------------------------------------------------
	; ------------------ SACRIFICIAL RITES --------------------------------------------------
	;-----------------------------------------------------------------------------
	Behavior = OCLSpecialPower ModuleTag_SoulTrap_OCL
		SpecialPowerTemplate 		= SpecialAbilitySacrificialRites
		OCL                  		= OCL_SacrificialRites
		; TriggerFX			 		= FX_RohirrimAlliesUnsummon
		CreateLocation       		= CREATE_AT_LOCATION
		UpdateModuleStartsAttack	= No
		StartsPaused		 		= No
		InitiateSound				= ZigurRites
	End
	Behavior = AutoAbilityBehavior ModuleTag_SoulTrapAutoAbility
		SpecialAbility				= SpecialAbilitySacrificialRites
		ForbiddenStatus 			= INSIDE_GARRISON
		MaxScanRange				= 300
		Query						= 10 ALL ENEMIES -WALL_UPGRADE -WALL_HUB -WALL_SEGMENT -DEFENSIVE_WALL -FS_BASE_DEFENSE
	End
 ;------------------Terror passives----------------------------------------------------
 	Behavior = LargeGroupBonusUpdate ModuleTag_HatredBuff1
		UpdateRate		= 1000
		HordeMemberFilter	= NONE +ZigurSacrificialRitesBuff
		Count			= 2
		Radius			= 500
		RubOffRadius		= 1.0
		AlliesOnly		= Yes
		AttributeModifier	= SacrificialRitesSelfBuff1
	End
	Behavior = LargeGroupBonusUpdate ModuleTag_HatredBuff2
		UpdateRate		= 1000
		HordeMemberFilter	= NONE +ZigurSacrificialRitesBuff
		Count			= 3
		Radius			= 500
		RubOffRadius		= 1.0
		AlliesOnly		= Yes
		AttributeModifier	= SacrificialRitesSelfBuff2
	End
	Behavior = LargeGroupBonusUpdate ModuleTag_HatredBuff3
		UpdateRate		= 1000
		HordeMemberFilter	= NONE +ZigurSacrificialRitesBuff
		Count			= 4
		Radius			= 500
		RubOffRadius		= 1.0
		AlliesOnly		= Yes
		AttributeModifier	= TerrorOfTheMountainSelfBuff3
	End
	Behavior = LargeGroupBonusUpdate ModuleTag_HatredBuff4
		UpdateRate		= 1000
		HordeMemberFilter	= NONE +ZigurSacrificialRitesBuff
		Count			= 5
		Radius			= 500
		RubOffRadius		= 1.0
		AlliesOnly		= Yes
		AttributeModifier	= SacrificialRitesSelfBuff4
	End
	Behavior = LargeGroupBonusUpdate ModuleTag_HatredBuff5
		UpdateRate		= 1000
		HordeMemberFilter	= NONE +ZigurSacrificialRitesBuff
		Count			= 6
		Radius			= 500
		RubOffRadius		= 1.0
		AlliesOnly		= Yes
		AttributeModifier	= SacrificialRitesSelfBuff5
	End
	;----------------------------------------------------------------------------------------
	; ------------------ FELL WHISPERS --------------------------------------------------
	;---------------------------------------------------------------------------------------
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_MouthOfSauronDissentEnabler
		SpecialPowerTemplate = SpecialAbilityFellWhispers
		TriggeredBy = Upgrade_ObjectLevel1 ;Upgrade_MouthOfSauronDissent
	End
	Behavior = SpecialPowerModule ModuleTag_MouthOfSauronDissentStarter
		SpecialPowerTemplate		= SpecialAbilityFellWhispers
		StartsPaused				= Yes
 		UpdateModuleStartsAttack	= Yes
		InitiateSound				= ZigurVoiceWhispers
	End
	Behavior = ActivateModuleSpecialPower ModuleTag_MouthOfSauronDissentMover
		SpecialPowerTemplate		= SpecialAbilityFellWhispers
		StartAbilityRange			= 300
		TriggerSpecialPower			= ModuleTag_MouthOfSauronDissentTrigger TARGETPOS
	End
	Behavior = SpecialPowerModule ModuleTag_MouthOfSauronDissentTrigger
		SpecialPowerTemplate		= SpecialAbilityFellWhispers
		AttributeModifier			= MouthOfSauronDissentModifier
		AttributeModifierRange		= 250  ;MOUTH_OF_SAURON_DISSENT_RADIUS (150)
		AttributeModifierAffects	= ANY +INFANTRY +CAVALRY +MONSTER -HERO
		TriggerFX					= FX_ZigurWhispers
		UpdateModuleStartsAttack	= No
		StartsPaused				= Yes
		TargetEnemy 		= Yes	//This is VERY important because it defaults to false and overrides the AttributeModifier filter above!!!
		TargetAllSides				= No
	End
		Behavior = AutoAbilityBehavior ModuleTag_StarlightAutoAbilityBehavior2
		SpecialAbility				= SpecialAbilityFellWhispers
		ForbiddenStatus 			= INSIDE_GARRISON
		MaxScanRange				= 300
		Query						= 15 ANY ENEMIES +INFANTRY +CAVALRY -STRUCTURE -WALL_UPGRADE -WALL_HUB -WALL_SEGMENT -DEFENSIVE_WALL -FS_BASE_DEFENSE
	End
	;-----------------------------------------------------------------------------
	;------------------ DREAD TYRANT ----------------------------------------------
	;-----------------------------------------------------------------------------
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_WreathedEnabler
		SpecialPowerTemplate = SpecialAbilityDreadTyrant
		TriggeredBy = Upgrade_ObjectLevel1
	End
	Behavior = SpecialPowerModule ModuleTag_WreathedStarter
		SpecialPowerTemplate      = SpecialAbilityDreadTyrant
		UpdateModuleStartsAttack  = Yes
		StartsPaused		  	  = Yes
;		InitiateSound				= ZigurVoiceTyrant
	End
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_WreathedWeaponUpdate
		SpecialPowerTemplate    = SpecialAbilityDreadTyrant
		WhichSpecialWeapon		= 3
		SkipContinue			= Yes
		UnpackTime              = 500
		PackTime                = 2500
		FreezeAfterTriggerDuration = 800
		AwardXPForTriggering    = 0
		StartAbilityRange		= 80.0
		SpecialWeapon			= ZigurDreadTyrantWeapon
	End
	Behavior = AutoAbilityBehavior ModuleTag_WreathedAutoAbility
		SpecialAbility				= SpecialAbilityDreadTyrant
		ForbiddenStatus 			= INSIDE_GARRISON
		MaxScanRange				= GANDALF_WORD_OF_POWER_RANGE
		Query						= 10 ALL ENEMIES -WALL_UPGRADE -WALL_HUB -WALL_SEGMENT -DEFENSIVE_WALL -FS_BASE_DEFENSE
	End
	;----------------------------------------------------------------------------------------
	; ------------------ PILLAR OF FLAMES --------------------------------------------------
	;---------------------------------------------------------------------------------------
	    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_FirePillarEnabler
        SpecialPowerTemplate = SpecialAbilityFirePillar
        TriggeredBy          = Upgrade_ObjectLevel1
        ObeyRechageOnTrigger = Yes
    End

    Behavior = OCLSpecialPower ModuleTag_FirePillar
        SpecialPowerTemplate = SpecialAbilityFirePillar
        OCL                  = OCL_FirePillar
        CreateLocation       = CREATE_AT_LOCATION ;;;CREATE_AT_EDGE_NEAR_TARGET_AND_MOVE_TO_LOCATION
        StartsPaused         = Yes
		;InitiateAtLocationSound	= ZigurFlame
		InitiateSound		    = ZigurFlame
    End
	Behavior = AutoAbilityBehavior ModuleTag_AbhorredDreadAutoAbility
		SpecialAbility				= SpecialAbilityFirePillar
		ForbiddenStatus 			= INSIDE_GARRISON ;;,;; This seems to prevent the ability from being used inside a tower
		MaxScanRange				= 300
		Query						= 10 ALL ENEMIES -WALL_UPGRADE -WALL_HUB -WALL_SEGMENT -DEFENSIVE_WALL -FS_BASE_DEFENSE
	End

	;-----------------------------------------------------------------------------------------;
	;------------------------------------   BASE SAURON POWERS -------------------------------;
	;-----------------------------------------------------------------------------------------;

	;----------------------------------------------------------------------------------------
	; ------------------DARKNESS AT SPAWN --------------------------------------------------
	;---------------------------------------------------------------------------------------

    Behavior = OCLSpecialPower ModuleTag_SauronDarkness
        SpecialPowerTemplate        = SpecialAbilitySauronDarkness
        OCL                  = OCL_DarknessWeatherChanger
        CreateLocation            = CREATE_AT_LOCATION
        AttributeModifierWeatherBased    = Yes
        WeatherDuration            = SPELL_DARKNESS_DURATION
        ChangeWeather            = CLOUDY
        AvailableAtStart        = Yes
    End
	;----------------------------------------------------------------------------------------
	; ------------------ FEAR AURA --------------------------------------------------
	;---------------------------------------------------------------------------------------
		Behavior = AttributeModifierAuraUpdate ModuleTag_FearMe
		StartsActive	= Yes										;If no, requires upgrade to turn on.
		BonusName		= SauronFear
		RefreshDelay	= 5000
		Range			= 250.0
		ObjectFilter	= ANY +INFANTRY +CAVALRY
		TargetEnemy		= Yes
		MaxActiveRank	= 10											;Only affects level 1 rank units
	End

	Behavior = AutoHealBehavior ModuleTag_AutoHeal
		StartsActive			= Yes
		;TriggeredBy				=
		HealingAmount			= HERO_HEAL_AMOUNT
		HealingDelay			= 1000
		StartHealingDelay		= HERO_HEAL_DELAY
		HealOnlyIfNotInCombat	= Yes
	End

	Scale    = 1.0 ;1.3

	;///////////////////
	; AISpecialPowers
	;///////////////////

	Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
		CommandButtonName = Command_SetStanceBattle
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
	End
	Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive ;;,;; Changed for 3.0.1
		CommandButtonName = Command_AttackMove ;;,;; Command_SetStanceAggressive ;;,;; Changed for 3.0.1
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
	End
	Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
		CommandButtonName = Command_SetStanceHoldGround
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
	End
	Behavior = AISpecialPowerUpdate DissentAI
		CommandButtonName = Command_SpecialAbilitySacrificialRites
		SpecialPowerAIType = AI_SPELLBOOK_ASSIST_BATTLE_DEBUFF
		SpecialPowerRadius = 150
	End
	Behavior = AISpecialPowerUpdate DissentAI2
		CommandButtonName = Command_SpecialAbilityFellWhispers
		SpecialPowerAIType = AI_SPELLBOOK_ASSIST_BATTLE_DEBUFF
		SpecialPowerRadius = 150
	End
	Behavior = AISpecialPowerUpdate AbhorredDreadAI
		CommandButtonName = Command_SpecialAbilityDreadTyrant
		SpecialPowerAIType = AI_SPECIAL_POWER_RANGED_AOE_ATTACK
		SpecialPowerRadius = 125
	End
	Behavior = AISpecialPowerUpdate AbhorredDreadAI_Ring
		CommandButtonName = Command_SpecialAbilityFirePillar
		SpecialPowerAIType = AI_SPECIAL_POWER_RANGED_AOE_ATTACK
		SpecialPowerRadius = 300 ;125
	End
	; Behavior = AISpecialPowerUpdate SummonWargAI
		; CommandButtonName = Command_SpecialAbilityNecromancerWolvesSummon
		; SpecialPowerAIType = AI_SPECIAL_POWER_TARGETAOE_SUMMON
	; End
	; Behavior = AISpecialPowerUpdate SummonRingwraithAI
		; CommandButtonName = Command_SpecialAbilityNecromancerRingwraithSummon
		; SpecialPowerAIType = AI_SPECIAL_POWER_TARGETAOE_SUMMON
	; End
	; Behavior = AISpecialPowerUpdate AbhorredDreadAI_Ring
		; CommandButtonName = Command_SpecialAbilityNecromancerAbhorredDreadUpgraded
		; SpecialPowerAIType = AI_SPECIAL_POWER_RANGED_AOE_ATTACK
		; SpecialPowerRadius = 125
	; End
	; Behavior = AISpecialPowerUpdate ToggleMountedAI
		; CommandButtonName = Command_SpecialAbilityNecromancerShapelessMalice
		; SpecialPowerAIType = AI_SPECIAL_POWER_TOGGLE_MOUNTED
	; End
	; Behavior = AISpecialPowerUpdate WreathAI
		; CommandButtonName = Command_SpecialAbilityNecromancerWreathed
		; SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
		; SpecialPowerRadius = 250
	; End
	; Behavior = AISpecialPowerUpdate WreathAI_Ring
		; CommandButtonName = Command_SpecialAbilityNecromancerWreathedUpgraded
		; SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
		; SpecialPowerRadius = 250
	; End

	Behavior = ExperienceLevelCreate ModuleTag_LevelBonus
		LevelToGrant	= 1    ;5
		MPOnly			= Yes
	End

	Geometry			= CYLINDER
	GeometryMajorRadius = 11
	GeometryHeight		= 32

	GeometryIsSmall		= Yes

	Shadow				= SHADOW_DECAL
	ShadowSizeX			= 22
	ShadowSizeY			= 22
	ShadowTexture		= ShadowI

End



ChildObject HaradZigur_RingHero HaradZigur

	; Player no longer has the ring hero upgrade when the hero is created.
	Behavior = RemoveUpgradeUpgrade ModuleTag_RemoveRing
		TriggeredBy					= Upgrade_WildFaction Upgrade_IsengardFaction Upgrade_MordorFaction Upgrade_GoblinFaction Upgrade_AngmarFaction
		UpgradeToRemove				= Upgrade_RingHero Upgrade_FortressRingHero
		RemoveFromAllPlayerObjects	= Yes
		SuppressEvaEventForRemoval	= Yes ; Hack -- this is to avoid the Eva event about 'Gollum stole our ring'
		                                 ; when we are actually losing the upgrade because we built the ring hero
	End

	; Spawn a dropped ring object.
	Behavior = CreateObjectDie ModuleTag_DropTheRing
		CreationList = OCL_TheOneRing
	End

	Behavior = ExperienceLevelCreate ModuleTag_LevelBonus
		LevelToGrant	= 10
		MPOnly			= No
	End
End

//--------------------------------------------------------------------------

Object HaradSacrificialRites

	Draw = W3DScriptedModelDraw ModuleTag_Draw
		DefaultModelConditionState
			Model = None
		End
		IdleAnimationState
			ParticleSysBone     = FXBONE SacrificialRitesWhirl_V2 Followbone:YES Persist:SPAWN  PersistID:102
	  		ParticleSysBone     = FXBONE SacrificialRitesMistV2 Followbone:YES Persist:SPAWN  PersistID:103
	  		ParticleSysBone     = FXBONE SacrificialRitesWhirl Followbone:YES Persist:KILL PersistID:100
	  		ParticleSysBone     = FXBONE SacrificialRitesMist Followbone:YES Persist:KILL PersistID:101
			ParticleSysBone     = FXBONE GwanthaurSummonmist Followbone:YES Persist:KILL PersistID:101
		End
	End

	KindOf = IMMOBILE UNATTACKABLE

	Body = ActiveBody ModuleTag_MakesKillWork
		MaxHealth = 1
	End

	Behavior = LifetimeUpdate ModuleTag_HatchTrigger
		MinLifetime = 30000
		MaxLifetime = 30000
	End

	Behavior = AIUpdateInterface ModuleTag_03
		AILuaEventsList				= GuldurChillEggFunctions
	End
//---------------------------------------------------
//--------------------------------------------------------------------------
	Behavior = SpecialPowerModule ModuleTag_GloriousCharge
		SpecialPowerTemplate      	= SpecialAbilitDraftTowerAnimation
		UpdateModuleStartsAttack  	= Yes
		StartsPaused 			  	= No
		AttributeModifier 		  	= GuldurChillOfGrave
		AttributeModifierRange    	= 120
		;AttributeModifierAffectsSelf = Yes
		AttributeModifierAffects	= ANY ENEMIES
		;AttributeModifierFX 		= FX_WardenCelebrant
		TargetAllSides				= Yes
	End
	Behavior = SpecialAbilityUpdate ModuleTag_GloriousChargeAnimation
		UnpackTime              = 0
		UnpackingVariation		= 1
		SpecialPowerTemplate	= SpecialAbilitDraftTowerAnimation
 		PreparationTime         = 1
 		PersistentPrepTime      = 0
 		PackTime                = 1
 	End
//--------------------------------------------------------------------------

	;Behavior = SlowDeathBehavior ModuleTag_HatchProcess
	;	DestructionDelay = 0
	;	Weapon	= INITIAL GwanthaurSoulTrapWeapon
	;End

    Behavior = FireWeaponUpdate ModuleTag_DamageHandler
        FireWeaponNugget
            WeaponName    = ZigurSacrificialRitesWeapon
            FireDelay     = 0
            OneShot       = No
        End
    End

End

;-----------------------------------------------------------------------------------------
Object ZigurSacrificialRitesBuffEgg
	Draw = W3DScriptedModelDraw ModuleTag_Draw
		DefaultModelConditionState
			Model = None
		End
	End
	KindOf = INERT IMMOBILE UNATTACKABLE

	Body = ActiveBody ModuleTag_MakesKillWork
		MaxHealth = 1
	End
	Behavior = LifetimeUpdate ModuleTag_HatchTrigger
		MinLifetime = 0.0
		MaxLifetime = 0.0
	End
	Behavior = SlowDeathBehavior ModuleTag_HatchProcess
		DestructionDelay = 2000
		;FX = INITIAL FX_RisenFromTheGrave
		OCL = FINAL OCL_ZigurSacrificialRitesBuff
	End
End

Object ZigurSacrificialRitesBuffHorde

    Draw = W3DScriptedModelDraw ModuleTag_W3DModelDraw
        DependencySharedModelFlags = EMOTION_ALERT EMOTION_MORALE_HIGH EMOTION_MORALE_LOW EMOTION_AFRAID EMOTION_COWER EMOTION_TERROR EMOTION_LOOK_TO_SKY EMOTION_TAUNTING EMOTION_POINTING SELECTED
        DefaultModelConditionState
            Model = None
        End

        ModelConditionState = HORDE_EMPTY
            Model = None
        End
    End

   CommandPoints        = 0

    KindOf = UNATTACKABLE

    Body = ImmortalBody ModuleTag_ImmortalBody
        MaxHealth = 1
    End

    Behavior = HordeAIUpdate ModuleTag_HordeAIUpdate
		 AILuaEventsList             = InfantryFunctions
    End

    Behavior = HordeContain ModuleTag_HordeContain
        ObjectStatusOfContained =
        InitialPayload          = ZigurSacrificialRitesBuff 1
        Slots                   = 1
        PassengerFilter         = NONE +CREEP
        RankInfo                = RankNumber:1 UnitType:ZigurSacrificialRitesBuff Position:X:0 Y:0
    End

	LocomotorSet
        Locomotor     = InvisiblePingLocomotor
        Condition     = SET_NORMAL
        Speed         = 1000
    End

     Behavior = DeletionUpdate ModuleTag_032 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
        MinLifetime = 8000
        MaxLifetime = 8000
    End
End

Object ZigurSacrificialRitesBuff

	Draw = W3DScriptedModelDraw ModuleTag_Draw
        DefaultModelConditionState
            Model = None
        End
    End

	CommandPoints = 10

	TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT
	KindOf = PRELOAD PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT CREEP UNATTACKABLE
	ThreatLevel        = 0

	Body = ActiveBody ModuleTag_MakesKillWork
        MaxHealth        = 1000
        InitialHealth    = 1000
	End

	Behavior = AIUpdateInterface ModuleTag_03
    End

	LocomotorSet
        Locomotor     = InvisiblePingLocomotor
        Condition     = SET_NORMAL
        Speed         = 1000
    End

	Behavior = AttributeModifierAuraUpdate ModuleTag_GrimResolve
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= SacrificialRitesSelfBuffVisual
		RefreshDelay	= 1000
		Range			= 500
		ObjectFilter	= NONE +HaradZigur +HaradZigur_RingHero
	End

	Behavior = DeletionUpdate ModuleTag_032 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
        MinLifetime = 8000
        MaxLifetime = 8000
    End

End

//--------------------------------------------------------------------------
//--------------------------------------------------------------------------

Object FirePillarObject
    ; *** ART Parameters ***


    Draw = W3DScriptedModelDraw ModuleTag_01
        OkToChangeModelColor = Yes
        NoRotate = Yes

        DefaultModelConditionState
			Model               = NONE
			ParticleSysBone		= None SunRays
			ParticleSysBone		= None SunFlareGlow
			ParticleSysBone		= None SunFlareProxy
        End
    End

    ; ***DESIGN parameters ***
    Side                  = Harad
    EditorSorting         = UNIT
    ThingClass            = CHARACTER_UNIT
    ThreatLevel           = 0.0
    CommandPoints         = 0
    ShockwaveResistance   = SHOCKWAVE_RESISTANCE_IMMUNE
    MaxSimultaneousOfType = 1
    VisionRange           = 150.0
    DisplayName           = OBJECT:FirePillarObject
    CommandSet            = EmptyCommandSet
    EvaEnemyObjectSightedEvent = None
    SoundAmbient               = TornadoLoopMS


    // *** ENGINEERING Parameters ***
    RadarPriority = UNIT
    KindOf = SELECTABLE NO_COLLIDE AIRCRAFT UNATTACKABLE MOVE_ONLY CLICK_THROUGH IGNORE_FOR_VICTORY IGNORE_FOR_EVA_SPEECH_POSITION NOT_AUTOACQUIRABLE IGNORES_SELECT_ALL PASS_EXPERIENCE_TO_PRODUCER

    Body = ActiveBody ModuleTag_02
        MaxHealth         = 200000
    End

    Behavior = AIUpdateInterface    ModuleTag_AIUpdateInterface
    End

    Behavior = PhysicsBehavior        ModuleTag_PhysicsBehavior
    End


    Behavior = FireWeaponUpdate ModuleTag_WINDY
        FireWeaponNugget
            WeaponName = FirePillarWeapon
            FireDelay  = 0
            OneShot    = No
        End
    End

    LocomotorSet
        Locomotor = EyeLocomotor
        Condition = SET_NORMAL
        Speed     = 50
    End

    Behavior = LifetimeUpdate ModuleTag_03
        MinLifetime = 10000   ; min lifetime in msec
        MaxLifetime = 10000   ; max lifetime in msec
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes = ALL
    End

    Geometry = CYLINDER
    GeometryMajorRadius = 1.0
    GeometryMinorRadius = 1.0
    GeometryHeight        = 1.0
    GeometryIsSmall        = Yes
End

;-----------------------------------------------------------
;-----------------------------------------------------------
Object ZigurFireTornado

	; *** ART Parameters ***
	Scale			= 1.45 ;1.35
    ; ButtonImage for Heros is button image on Hero Select UI to select hero. HI = HeroIcon or HeroImage.
    ButtonImage = HIPillarofFlame ;HSGaladriel_NaturesWrath
    SelectPortrait         = UPFirePillar ;UPTornado
	Draw = W3DScriptedModelDraw ModuleTag_01
		OkToChangeModelColor = Yes
		DefaultModelConditionState
			Model           = EXWhirlwind
	      Texture = exwhirlwind01.tga exfirewind01.tga
	      Texture = exwhirlwind02.tga exfirewind02.tga
			ParticleSysBone = NONE PoFWhirlwindDust01
			ParticleSysBone = NONE PoFWhirlwindDust02
			ParticleSysBone = NONE PillarofFlamesEmbersFX
			; ParticleSysBone = NONE WitchKingsHourFX01
			; ParticleSysBone = NONE WitchKingsHourFX02
			; ParticleSysBone = NONE WitchKingsHourFX03
		End
	End

 	Draw = W3DTornadoDraw ModuleTag_TornadoDraw

		DecalTemplate
  			Texture        = exfirewindground ;EXWhirlwindGround
			Style          = SHADOW_ALPHA_DECAL
			OpacityMin     = 5%
			OpacityMax     = 40%
			MaxRadius	   = 100.0
			Color          = R:255 G:255 B:255 A:255 ;R:200 G:200 B:200 A:255
			OnlyVisibleToOwningPlayer = Yes
			RotationsPerMinute = 0.4
			SpiralAcceleration = 1.0
		End
		DecalCount		= 7
		DecalMaxRadius	= 300.0


	End

	; ***DESIGN parameters ***
	Side			= Neutral
	EditorSorting	= UNIT
	ThreatLevel		= 0.0
	CommandPoints	= 0
	ShockwaveResistance = SHOCKWAVE_RESISTANCE_ALWAYS

	VisionRange		= 200.0
	DisplayName		= OBJECT:FirePillarObject ;OBJECT:Whirlwind

	CommandSet		= EmptyCommandSet


	; *** AUDIO Parameters ***

	EvaEnemyObjectSightedEvent = None  ; Don't bother player about this object showing up over their base -- happens too much to bother

	SoundAmbient	= ZigurPillarLoop
	SoundMoveStart	= TornadoMoveStart

	VoiceAttack		= TornadoSelect
	VoiceMove		= TornadoSelect
	VoiceSelect		= TornadoSelect

	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf = SELECTABLE NO_COLLIDE AIRCRAFT UNATTACKABLE MOVE_ONLY ORIENTS_TO_CAMERA CLICK_THROUGH HERO IGNORE_FOR_VICTORY IGNORE_FOR_EVA_SPEECH_POSITION NOT_AUTOACQUIRABLE IGNORES_SELECT_ALL PASS_EXPERIENCE_TO_PRODUCER

	Body = HighlanderBody ModuleTag_02
		MaxHealth         = 1.0
	End

	Behavior = AIUpdateInterface	ModuleTag_AIUpdateInterface
	End

	Behavior = PhysicsBehavior		ModuleTag_PhysicsBehavior
	End

	LocomotorSet
		Locomotor = TornadoLocomotor
		Condition = SET_NORMAL
		Speed     = 20
	End

	Behavior = LifetimeUpdate ModuleTag_LifetimeUpdate
		MinLifetime		= 40000 ;;,;; 60000
		MaxLifetime		= 40000 ;;,;; 60000
	End

	Behavior = FireWeaponUpdate ModuleTag_WINDY
		FireWeaponNugget
			WeaponName = FireWhirlwindWindWeapon
			FireDelay = 0
			OneShot = No
		End
	End

	Behavior = FireWeaponUpdate ModuleTag_BURNY
		FireWeaponNugget
			WeaponName = FireWhirlwindBurnSpawner
			FireDelay = 0
			OneShot = No
		End
		AliveOnly = Yes
	End


	// TORNADOES ARE SCARY
	Behavior = AttributeModifierAuraUpdate ModuleTag_FearMe
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= EyeOfSauronFear
		RefreshDelay	= 1000
		Range			= 150.0
		ObjectFilter	= ANY +INFANTRY +CAVALRY
		TargetEnemy		= Yes
		MaxActiveRank	= 1		;Only affects level 1 rank units
	End



	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL
		FadeTime = 4000
        	FadeDelay = 1000
	End

	Geometry = CYLINDER
	GeometryMajorRadius = 1.0
	GeometryMinorRadius = 1.0
	GeometryHeight		= 1.0
	GeometryIsSmall		= Yes

// NO SHADOW -M Lo
//    Shadow			= SHADOW_DECAL;SHADOW_ALPHA_DECAL; SHADOW_ALPHA_DECAL_DYNAMIC
//    ShadowSizeX		= 200;
//    ShadowSizeY		= 200;
//    ShadowTexture	= EUTornadoShadow;
//
//	ShadowOpacityStart = 0
//	ShadowOpacityFadeInTime = 1000
//	ShadowOpacityPeak = 255
//	ShadowOpacityFadeOutTime = 1000
//	ShadowOpacityEnd = 0
//
//	ShadowOverrideLODVisibility = yes

End

Object FireWhirlwindBurnStarter
	Draw = W3DScriptedModelDraw ModuleTag_Draw
		DefaultModelConditionState
			Model = None
		End
	End
	KindOf = INERT IMMOBILE UNATTACKABLE

	Body = ActiveBody ModuleTag_MakesKillWork
		MaxHealth = 1
	End
	Behavior = LifetimeUpdate ModuleTag_HatchTrigger
		MinLifetime = 0.0
		MaxLifetime = 0.0
	End
	Behavior = SlowDeathBehavior ModuleTag_HatchProcess
		DestructionDelay = 100
	;	OCL = FINAL OCL_BecomeRisenDead ; OCL_RisenCarrionFromDeath
		Weapon = INITIAL FireWhirlwindBurnWeapon
	End
End
