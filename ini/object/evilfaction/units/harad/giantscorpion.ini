Object HaradGiantScorpion
	Scale = 2.0 ; It could totally happen!!!
	SelectPortrait = UPGiantScorpions
	ButtonImage = uigiantscorpion
	Draw = W3DScriptedModelDraw ModuleTag_DRAW
		WadingParticleSys = EntRipples
    StaticModelLODMode = yes
		OkToChangeModelColor = Yes
		DefaultModelConditionState
			Model					= hugntscorp_skn
			Skeleton				= WUGbkMnt_SKL
		End
		IdleAnimationState
			Animation
				AnimationName = WUGbkMnt_IDLB
				AnimationMode = ONCE
				AnimationPriority = 5
			End
			Animation
				AnimationName = WUGbkMnt_IDLC
				AnimationMode = ONCE
				AnimationPriority = 5
			End
			StateName = Idle
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_PlantingTotem" then
					CurDrawableSetTransitionAnimState("TRANS_TotemToIdle")
				elseif Prev == "STATE_Selected" or Prev == "STATE_NormalMovement" then
					CurDrawableSetTransitionAnimState("TRANS_SelectedToBored")
				end
			EndScript
		End
		AnimationState						= PASSENGER
			Animation
				AnimationName				= WUGbkMnt_FLYA
				AnimationMode				= LOOP
			End
		End
		AnimationState						= FREEFALL
			Animation
				AnimationName				= WUGbkMnt_FLYA
				AnimationMode				= LOOP
				AnimationSpeedFactorRange	= 0.5	0.5
				AnimationBlendTime			= 5
			End
		End
		AnimationState			= STUNNED_FLAILING
			Animation
				AnimationName   = WUGbkMnt_FLYA
				AnimationMode   = LOOP
				AnimationSpeedFactorRange	= 0.2 0.3
			End
		End
		AnimationState = DYING DEATH_2
			Animation
				AnimationName = WUGbkMnt_IDLB
				AnimationMode = ONCE
			End
		End
		AnimationState			= DYING BURNINGDEATH
			Animation
				AnimationName	= WUGbkMnt_DIEA
				AnimationMode	= ONCE
				AnimationBlendTime = 10
			End
		End
		AnimationState			= DYING SPLATTED
			Animation
				AnimationName	= WUGbkMnt_LNDA
				AnimationMode	= ONCE
			End
		End
		AnimationState = DYING
			Animation
				AnimationName = WUGbkMnt_DIEA
				AnimationMode = ONCE
			End
		End
		AnimationState			= BURNINGDEATH
			Animation
				AnimationName	= WUGbkMnt_MFDA
				AnimationMode	= LOOP
				Distance		= 120
			End
		End
		AnimationState						= PARALYZED
			Animation
				AnimationName				= WUGbkMnt_IDLA
				AnimationMode				= LOOP
			End
		End
		AnimationState        = STUNNED
			Animation
				AnimationName     = WUGbkMnt_LNDA
				AnimationMode     = ONCE
			End
		End
		AnimationState        = STUNNED_STANDING_UP
			Animation
				AnimationName     = WUGbkMnt_GTPA
				AnimationMode     = ONCE
			End
		End
		AnimationState        = THROWN_PROJECTILE
			Animation
				AnimationName     = WUGbkMnt_FLYA
				AnimationMode     = LOOP
			End
		End
		AnimationState = MOVING WANDER
			Animation
				AnimationName = WUGbkMnt_RUNA
				AnimationMode = LOOP
			End
		End
		AnimationState = MOVING DAMAGED AFLAME
			Animation
				AnimationName = WUGbkMnt_MFDA
				AnimationMode = LOOP
			End
			Flags = RANDOMSTART
		End
		AnimationState = MOVING ATTACKING
			Animation
				AnimationName = WUGbkMnt_RUNA
				AnimationMode = LOOP
			End
			Flags = RANDOMSTART
			ParticleSysBone = None InfantryDustTrails
		End
		AnimationState = MOVING WALKING
			Animation
				AnimationName = WUGbkMnt_RUNA
				AnimationMode = LOOP
			End
			Flags = RANDOMSTART
			ParticleSysBone = None InfantryDustTrails
		End
		AnimationState = MOVING
			StateName = STATE_NormalMovement
			Animation
				AnimationName = WUGbkMnt_RUNA
				AnimationMode = LOOP
			End
			Flags = RANDOMSTART
			ParticleSysBone = None InfantryDustTrails
		End
		AnimationState = PACKING_TYPE_1
			StateName = STATE_PlantingTotem
			Animation
				AnimationName = WUGbkMnt_SPCC
				AnimationMode = ONCE
			End
		End
		AnimationState				= USER_1
			Animation
				AnimationName		= WUGbkMnt_SPCA
				AnimationMode		= ONCE
			End
		End
		AnimationState				= USER_2
			Animation
				AnimationName		= WUGbkMnt_SPCB
				AnimationMode		= ONCE
			End
		End
		AnimationState = HIT_REACTION
			Animation
				AnimationName = WUGbkMnt_ATNB
				AnimationMode = LOOP
			End
		End
		AnimationState = FIRING_OR_PREATTACK_A
			Animation
				AnimationName = WUGbkMnt_ATKA
				AnimationMode = ONCE
				AnimationPriority = 10
				UseWeaponTiming		=	Yes
			End
			; Animation
			; 	AnimationName = WUGbkMnt_ATKB
			; 	AnimationMode = ONCE
			; 	AnimationPriority = 5
			; 	UseWeaponTiming		=	Yes
			; End
		 Animation
				AnimationName = WUGbkMnt_ATKC
				AnimationMode = ONCE
				AnimationPriority = 5
				UseWeaponTiming		=	Yes
			End
		End

		; --- Poisoned Stinger Weapon anim
		AnimationState				= SPECIAL_WEAPON_ONE
			Animation
				AnimationName		= WUGbkMnt_ATKB
				AnimationMode		= ONCE
				UseWeaponTiming		= Yes
			End
			ParticleSysBone B_S_TAIL06 GiantScorpionPoison FollowBone:Yes
			ParticleSysBone B_S_TAIL06 GiantScorpionPoison2 FollowBone:Yes
		End

		AnimationState				= SPECIAL_WEAPON_TWO
			Animation
				AnimationName		= WUGbkMnt_ATKB
				AnimationMode		= ONCE
				UseWeaponTiming		= Yes
			End
			ParticleSysBone B_S_TAIL06 GiantScorpionPoison FollowBone:Yes
			ParticleSysBone B_S_TAIL06 GiantScorpionPoison2 FollowBone:Yes
			ParticleSysBone B_S_TAIL06 GiantScorpionVenomSpray FollowBone:Yes
		End

		; AnimationState = FIRING_OR_PREATTACK_B
		; 	Animation
		; 		AnimationName = WUGbkMnt_ATKC
		; 		AnimationMode = ONCE
		; 		AnimationPriority = 5
		; 		UseWeaponTiming		=	Yes
		; 	End
		; 	; Animation
		; 	; 	AnimationName = WUGbkMnt_ATKB
		; 	; 	AnimationMode = ONCE
		; 	; 	AnimationPriority = 5
		; 	; 	UseWeaponTiming		=	Yes
		; 	; End
		; 	; Animation
		; 	; 	AnimationName = WUGbkMnt_ATKC
		; 	; 	AnimationMode = ONCE
		; 	; 	AnimationPriority = 5
		; 	; 	UseWeaponTiming		=	Yes
		; 	; End
		; End
		AnimationState = BETWEEN_FIRING_SHOTS_A
			Animation
				AnimationName = WUGbkMnt_IDLA
				AnimationMode = ONCE
			End
		End
		AnimationState = ATTACKING
			Animation
				AnimationName = WUGbkMnt_IDLA ; WUGbkMnt_ATKA
				AnimationMode = ONCE
				UseWeaponTiming		=	Yes
			End
			; Animation
			; 	AnimationName = WUGbkMnt_ATKB
			; 	AnimationMode = ONCE
			; 	UseWeaponTiming		=	Yes
			; End
			Animation
				AnimationName = WUGbkMnt_ATKC
				AnimationMode = ONCE
				UseWeaponTiming		=	Yes
			End
		End
		AnimationState							= EMOTION_TAUNTING
			Animation
				AnimationName					= WUGbkMnt_CHRA
				AnimationMode					= LOOP
				AnimationBlendTime				= 10
			End
			Flags				= RESTART_ANIM_WHEN_COMPLETE
		End
		AnimationState							= EMOTION_CELEBRATING
			Animation
				AnimationName					= WUGbkMnt_CHRA
				AnimationMode					= ONCE
				AnimationBlendTime				= 10
			End
			Flags				= RESTART_ANIM_WHEN_COMPLETE
		End
		AnimationState				= LEVELED
			Animation				= LevelUp
				AnimationName		= WUGbkMnt_LVLA
				AnimationMode		= ONCE
			End
		End
		AnimationState							= RAISING_FLAG
			Animation
				AnimationName					= WUGbkMnt_CHRA
				AnimationMode					= LOOP
			End
		End
		AnimationState        = SELECTED
			StateName           = STATE_Selected
			Animation
				AnimationName     = WUGbkMnt_ATNB
				AnimationMode     = LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_PlantingTotem" then
					CurDrawableSetTransitionAnimState("TRANS_TotemToIdle")
				elseif Prev ~= "STATE_Selected" and Prev ~= "TRANS_IdleToSelected" then
					CurDrawableSetTransitionAnimState("TRANS_IdleToSelected")
				end
			EndScript
		End
		TransitionState       = TRANS_IdleToSelected
			Animation
				AnimationName     = WUGbkMnt_ATNA
				AnimationMode     = ONCE
			End
		End
		TransitionState		= TRANS_SelectedToBored
			Animation
				AnimationName	= WUGbkMnt_ATNC
				AnimationMode	= ONCE
			End
		End
		; TransitionState				=	TRANS_SelectFromMoving
		; 	Animation
		; 		AnimationName		=	WUGbkMnt_ATNB
		; 		AnimationMode		=	ONCE
		; 	End
		; End
		TransitionState		= TRANS_TotemToIdle
			Animation
				AnimationName		= WUGbkMnt_IDLA
				AnimationMode		= ONCE
				AnimationBlendTime	= 0
			End
		End
	End
	Draw = W3DScriptedModelDraw DustEffects
	    DefaultModelConditionState
	      Model = None
	    End
	    IdleAnimationState
	    End
	    AnimationState = MOVING WADING
			ParticleSysBone = None FootstepSlash
	    End
	    AnimationState = MOVING ACCELERATE
			ParticleSysBone = None InfantryDustTrails
	    End
	    AnimationState = MOVING ACCELERATE
			ParticleSysBone = None InfantryDustTrails
	    End
	    AnimationState = DISGUISED MOVING ACCELERATE
			ParticleSysBone = None InfantryDustTrails
	    End
	    AnimationState = DISGUISED MOVING DECELERATE
			ParticleSysBone = None InfantryDustTrails
	    End
	    AnimationState = MOVING
	    End
        AnimationState = DISGUISED MOVING
        End
	End
    #include "..\..\..\includes\StunDrawModuleSmall.inc"
	Side = Angmar
	EditorSorting = UNIT
	ThreatLevel = 100
	TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT
	BuildCost           = 600
	BuildTime           = 35
	ShockwaveResistance = SHOCKWAVE_RESISTANCE_STRONG
	BountyValue         = 150
	WeaponSet
		Conditions			= None
		Weapon				= PRIMARY		GiantScorpionAttack
		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	ArmorSet
		Conditions      = None
		Armor           = GiantScorpionArmor
		DamageFX        = NormalDamageFX
	End
	ArmorSet
		Conditions = PLAYER_UPGRADE
		Armor	   = GiantScorpionHardenedCarapace
		DamageFX   = NormalDamageFX
	End
	VisionRange = MORDOR_ATTACKTROLL_VISION_RANGE
	ShroudClearingRange = MORDOR_ATTACKTROLL_SHROUD_RANGE
	MaxVisionBonusPercent = 300%
	VisionBonusTestRadius = 200
	VisionBonusPercentPerFoot = 2.0%
	DisplayName = OBJECT:GiantScorpion
	DescriptionStrategic = CONTROLBAR:LW_ToolTip_HaradwaithGiantScorpion
	DisplayNameStrategic = CONTROLBAR:LW_Unit_HaradwaithGiantScorpion
	CrusherLevel = 1
	CrushableLevel = 2
	CrushWeapon		= TrollCrush
	MinCrushVelocityPercent = 65
	CrushDecelerationPercent = 30
	CrushKnockback = 40
	CrushZFactor = 1.0
	CommandSet = GiantScorpionCommandSet
	CommandPoints 	= 45
	AutoResolveUnitType = AutoResolveUnit_Siege
	AutoResolveCombatChain = AutoResolve_SiegeCombatChain
	AutoResolveBody = Aotr_AutoResolve_SiegeBasicSmallHordeBody
	AutoResolveArmor
		Armor = Aotr_AutoResolve_SiegeNormalArmor
	End
	AutoResolveWeapon
		Weapon = AutoResolve_SiegeModerateWeapon
	End
	VoiceAttack								= ScorpionVoxAttack ;WildSpiderlingVoxAttack
	VoiceAttackCharge						= ScorpionVoxAttack ;WildSpiderlingVoxAttack
	VoiceAttackMachine						= ScorpionVoxAttack ;WildSpiderlingVoxAttack
	VoiceAttackStructure					= ScorpionVoxAttack ;WildSpiderlingVoxAttack
  VoiceCreated			= ScorpionVoxCreated ;WildSpiderlingVoxCreated
	VoiceFullyCreated		= ScorpionVoxCreated ;WildSpiderlingVoxCreated
	VoiceFear								= SocrpionMoveMS ;WildSpiderlingVoxHurt
	VoiceGuard								= SocrpionMoveMS
	VoiceMove								= SocrpionMoveMS ; GoblinKingVoiceMoveMountedMS
	VoiceMoveOverWalls						= SocrpionMoveMS ; GoblinKingVoiceMove
	VoiceMoveToCamp							= SocrpionMoveMS ; GoblinKingVoiceMoveCamp
	VoiceMoveWhileAttacking					= SocrpionMoveMS ; GoblinKingVoiceDisengage
	VoicePriority							= 50 ; 88
	VoiceRetreatToCastle					= SocrpionMoveMS ; GoblinKingVoiceRetreat
	VoiceSelect								= ScorpionSelectMS ; GoblinKingVoiceSelectMountedMS
	VoiceSelectBattle 						= ScorpionSelectMS ; GoblinKingVoiceSelectBattle
	SoundImpact								= ImpactHorse
	SoundMoveLoop	= ScorpionMoveLoop
	SoundAmbient				= WildSpiderlingAmbientLoopMS

	UnitSpecificSounds
		VoiceEnterUnitEvilMenTransportShip	= GoblinKingVoiceMoveShip
		VoiceEnterUnitMordorMumakil			= GoblinKingVoiceMoveGarrison
		VoiceEnterUnitSlaughterHouse		= GoblinKingVoiceMoveGarrison
		VoiceGarrison						= GoblinKingVoiceMoveGarrison
		VoiceInitiateCaptureBuilding		= GoblinKingVoiceCaptureBuilding
	End

	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU		;Tie into LargeGroupAudio system
		Key = Spiderling
	End
	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound:GoblinKingPoisonStingerStrike	Animation:WUGbkMnt_SKL.WUGbkMnt_ATKB	Frames:4
		AnimationSound = Sound:BodyFallOrc						Animation:WUGBKMNT_SKL.WUGBKMNT_DIEA	Frames:24 30
		AnimationSound = Sound:BodyFallOrc						Animation:WUGBKMNT_SKL.WUGBKMNT_LNDA	Frames:8 21
	End
   	Behavior = EmotionTrackerUpdate	Module_EmotionTracker
		AddEmotion			=	Terror_Base
		AddEmotion			=	Doom_Base
		AddEmotion			=   BraceForBeingCrushed_Base
		AddEmotion			=	UncontrollableFear_Base
		//	AddEmotion			=	FearIdle_Base
		//	AddEmotion			=	FearBusy_Base
		AddEmotion			=	Point_Base
		AddEmotion			=	Taunt_Base
 		AddEmotion			=	CheerIdle_Base
		AddEmotion			=	CheerBusy_Base
		AddEmotion			=	HeroCheerIdle_Base
		AddEmotion			=	HeroCheerBusy_Base
		AddEmotion			=	Alert_Base
	End
	RadarPriority = UNIT
	KindOf = PRELOAD SCORE ATTACK_NEEDS_LINE_OF_SIGHT SELECTABLE ARMY_SUMMARY MONSTER CAN_CAST_REFLECTIONS CAN_ATTACK SCARY CAN_ATTACK_WALLS HEAVY_MELEE_HITTER ; PATH_THROUGH_INFANTRY
	PathfindDiameter = 25 ; = 80 ; 40.0
	Body = ActiveBody ModuleTag_Body
		MaxHealth         = 2250
		BurningDeathBehavior = Yes
		BurningDeathFX       = FX_InfantryBurningFlame
	End
		Behavior = AutoHealBehavior ModuleTag_CaveTrollHealing
		StartsActive = No
		TriggeredBy = Upgrade_ObjectLevel3
		HealingAmount = MONSTER_HEAL_AMOUNT ;;,;; 60
		HealingDelay = 1000
		StartHealingDelay = MONSTER_HEAL_DELAY ;;,;; HERO_HEAL_DELAY
		HealOnlyIfNotInCombat = Yes
	End
	Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = FighterHorde
    End

	Behavior = GrantUpgradeCreate ModuleTag_GandalfWhiteUpgrade ;REMOVE THIS WHEN SCORP MODEL IS DONE
	UpgradeToGrant = Upgrade_GandalfWhite; Granted at start to trigger other stuff. Gandalf has nothing to do with it, it's a random upgrade.
	End

	Behavior = SubObjectsUpgrade CorruptedWeapon_RemoveSubObject ;REMOVE THIS WHEN SCORP MODEL IS DONE
	TriggeredBy= Upgrade_GandalfWhite
	HideSubObjects = GORKIL AXE STAFF ARMOR
	End

;	#include "..\..\..\includes\CaptureBuilding.inc"
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
		MoodAttackCheckRate        = 500
		AILuaEventsList = GoblinKingFunctions
		BurningDeathTime		   = BURNINGDEATH_DURATION_INFANTRY
		AttackPriority = AttackPriority_SIEGEWEAPON
	End
	LocomotorSet
		Locomotor = GiantScorpionLocomotor ; GoblinKingLocomotor	//HeroHorseLocomotor
		Condition = SET_NORMAL
		Speed     = 65
	End
	LocomotorSet
		Locomotor = BurningDeathLocomotorInfantry
		Condition = SET_BURNINGDEATH
		Speed	  = BURNINGDEATH_WANDERSPEED_INFANTRY
	End
	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
		ShockStandingTime = 4500
	End
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL
		SinkDelay = 3000
		SinkRate = 1.40
		DestructionDelay = 8000
		Sound = INITIAL ScorpionDeathHatchlingsMS ;ScorpionVoxDie ;WildSpiderlingVoxDie ;GoblinKingVoiceDie
		OCL = INITIAL OCL_HaradDeadScorpion
	End
	Behavior = SquishCollide ModuleTag_06
	End
	Behavior = NotifyTargetsOfImminentProbableCrushingUpdate ModuleTag_NotifyCrushScan
	End
	Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
		HitReactionLifeTimer1 = 1800	// level 1 (light  damage)  hit reaction animations in ms
		HitReactionThreshold1 = 5.0   // level 1 (light  damage) threshold trigger
		FastHitsResetReaction = No		// If set -- when hits occur faster than the reaction animations, it will reset the animation. (like getting riddled with machine gun bullets)
	End

;----------------------------------------------------------------
;         CAMOUFLAGE
;----------------------------------------------------------------
	Behavior = InvisibilityUpdate ModuleTag_StealthForEscape
		InvisibilityNugget
			InvisibilityType		= CAMOUFLAGE
			DetectionRange			= 100
			ForbiddenConditions		= MOVING FIRING_ANY TAKING_DAMAGE USING_ABILITY
			BecomeStealthedFX       = FX_ElvenCloakOn
			ExitStealthFX           = FX_ElvenCloakOff
			Options					= UNTOGGLE_HIDDEN_WHEN_LEAVING_STEALTH
		End
		StartsActive				= No
		UpdatePeriod				= 2000
	End
	; Behavior = InvisibilityUpdate ModuleTag_ElvenCamouflage
	; 	InvisibilityNugget
	; 		InvisibilityType	= CAMOUFLAGE
	; 		DetectionRange		= CAMOUFLAGE_RADIUS
	; 		ForbiddenConditions	= AWAY_FROM_TREES FIRING_ANY
	; 	End
	; 	UpdatePeriod			= 2000
	; 	StartsActive			= Yes
	; 	UnitSpecificSoundNameToUseAsVoiceMoveToStealthyArea = VoiceMoveToTrees
	; 	UnitSpecificSoundNameToUseAsVoiceEnterStateMoveToStealthyArea = VoiceEnterStateMoveToTrees
	; End

	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_ElfCloakUnpause
		SpecialPowerTemplate      = SpecialAbilityWormtongueEscape
		TriggeredBy		  = Upgrade_ObjectLevel2
	End
	Behavior = SpecialPowerModule ModuleTag_ElfCloakStarter
		SpecialPowerTemplate      = SpecialAbilityWormtongueEscape
		StartsPaused = Yes
		UpdateModuleStartsAttack  = Yes
	End
	Behavior = ToggleHiddenSpecialAbilityUpdate ModuleTag_ElfCloakUpdate
		SpecialPowerTemplate    = SpecialAbilityWormtongueEscape
		AwardXPForTriggering    = 0
		EffectDuration			= 20000 ;15000
		ShowPalantirTimer		= Yes
	End
;----------------------------------------------------------------
;         POISONED STINGER
;----------------------------------------------------------------
	Behavior = AutoAbilityBehavior ModuleTag_AutoAbilityBehavior
		SpecialAbility = SpecialAbilityGiantScorpionPoisonedStinger
		ForbiddenStatus = INSIDE_GARRISON
		Query = 1 ANY -Crebain -DwarvenRavenCloud -WildCaveBats -WildBatCloud -MordorFellBeast -MordorFellBeastInterface -UvathaFellBeast -AkhorahilFellBeast -GondorGwaihir -ElvenGwaihir_Summoned -GondorGwaihir_Summoned -ElvenFortressEagle -Drogoth -DwarvenRoac -DwarvenArcah -MordorWitchKingOnFellBeast -SpellBookDragonStrikeDragon -KhamulFellBeast -MorgomirFellBeast -EagleSummoned_NotGwaihir -GondorGwaihirHero_Summoned -MordorFellBeast_Summoned -KhamulMounted -MordorMorgromirMounted -MordorWitchKingOnFellBeast_WOTR -WildSmaug +HERO ENEMIES
		MaxScanRange = 80
		StartsActive = Yes
	End
	; Behavior = UnpauseSpecialPowerUpgrade ModuleTag_GoblinKingPoisonedStinger
	; 	SpecialPowerTemplate = SpecialAbilityGiantScorpionPoisonedStinger
	; 	TriggeredBy = Upgrade_ObjectLevel3
	; End
	Behavior = SpecialPowerModule ModuleTag_GoblinKingPoisonedStingerStarter
		SpecialPowerTemplate      = SpecialAbilityGiantScorpionPoisonedStinger
		UpdateModuleStartsAttack  = Yes
		StartsPaused = No
;		InitiateSound = GoblinKingVoiceAttackStinger
	End
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_GoblinKingPoisonedStingerUpdate
		SpecialPowerTemplate    = SpecialAbilityGiantScorpionPoisonedStinger
		SkipContinue			= Yes

		UnpackTime				= 250
		PreparationTime			= 1 ; 100
		PersistentPrepTime		= 500
		PackTime				= 100
		MustFinishAbility		= Yes

		AwardXPForTriggering		= 0
		StartAbilityRange			= 15.0

		SpecialWeapon				= GiantScorpionPoisonedStinger
		WhichSpecialWeapon			= 1

		BusyForDuration = 800
	End
	;-----------------------------------------------------------------------------
	; Venom Spray
	;-----------------------------------------------------------------------------
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_VenomSprayEnabler
		SpecialPowerTemplate 	= SpecialAbilityGiantScorpionVenomSpray
		TriggeredBy 			= Upgrade_ObjectLevel3
	End
	Behavior = SpecialPowerModule ModuleTag_VenomSprayStarter
		SpecialPowerTemplate		= SpecialAbilityGiantScorpionVenomSpray
		UpdateModuleStartsAttack	= Yes
		StartsPaused				= Yes
	End
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_VenomSprayUpdate
		SpecialPowerTemplate		= SpecialAbilityGiantScorpionVenomSpray
				WhichSpecialWeapon        	= 2
				SkipContinue            	= Yes
				UnpackTime                  = 500
		PackTime					= 1000
		StartAbilityRange			= 100
		SpecialWeapon				= GiantScorpionVenomSprayer
				MustFinishAbility           = Yes
	End
	Behavior = AutoAbilityBehavior ModuleTag_VenomSprayAutoAbility ;;,;;
		SpecialAbility				= SpecialAbilityGiantScorpionVenomSpray
		ForbiddenStatus 			= INSIDE_GARRISON ;;,;; This seems to prevent the ability from being used inside a tower
		MaxScanRange				= 300
		Query						= 1 ANY +STRUCTURE ENEMIES NEUTRAL
	End
;-------------------------------------------------------------------------------------
; Hardened Carapace
;-------------------------------------------------------------------------------------
Behavior = ArmorUpgrade ArmorUpgradeModuleTag
	TriggeredBy = Upgrade_ObjectLevel5
	ArmorSetFlag			= PLAYER_UPGRADE
End

Behavior = SubObjectsUpgrade Armor_Upgrade
	TriggeredBy			= Upgrade_ObjectLevel5
	UpgradeTexture		= hugntscorpA.tga 0 hugntscorpA_HA.tga
	RecolorHouse		= Yes
End
;-------------------------------------------------------------------------------------
	Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
		CommandButtonName = Command_SetStanceBattle
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
	End
	Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive
		CommandButtonName = Command_SetStanceAggressive
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
	End
	Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
		CommandButtonName = Command_SetStanceHoldGround
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
	End
	Behavior = AISpecialPowerUpdate GoblinKingPoisonedStingerAI
		CommandButtonName = Command_GiantScorpionPoisonedStinger
		SpecialPowerAIType = AI_SPECIAL_POWER_ENEMY_TYPE_KILLER
	End
	Behavior = AISpecialPowerUpdate GiantScorpionPoisonSprayAI
		CommandButtonName = Command_GiantScorpionVenomSpray
		SpecialPowerAIType = AI_SPECIAL_POWER_ENEMY_TYPE_KILLER_STRUCTURES
	End
	; Behavior = AISpecialPowerUpdate GiantScorpionCamouflageAI - Camouflage bugs the AI out, best left inactive - Wambly
	; 	CommandButtonName = Command_SpecialAbilityScorpionCamouflage
	; 	SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
	; End
	; Geometry = CYLINDER
	; GeometryMajorRadius = 8.0
	; GeometryMinorRadius = 8.0
	; GeometryHeight = 19.2
	; GeometryIsSmall = Yes
	; Shadow = SHADOW_DECAL
	; ShadowSizeX = 20
	; ShadowSizeY = 20
	; ShadowTexture = ShadowI

;copied from Saenathra to account for larger size
	Geometry = CYLINDER
	GeometryMajorRadius = 25.0
	GeometryMinorRadius = 25.0
	GeometryHeight = 30.0
	GeometryIsSmall = No
	Shadow = SHADOW_DECAL	;SHADOW_VOLUME
	ShadowSizeX = 47;
	ShadowSizeY = 30;
	ShadowOffsetX = -4;
	ShadowTexture = ShadowI
End
;----------------------------------------------------------------
ChildObject HaradGiantScorpion_Slaved HaradGiantScorpion
	 Scale = 0.7 ;2.0 ; It could totally happen!!!
	SelectPortrait = UPGiantScorpions
	ButtonImage = uigiantscorpion
	DescriptionStrategic = CONTROLBAR:LW_ToolTip_GoblinKing
	Draw = W3DScriptedModelDraw ModuleTag_DRAW
		WadingParticleSys = EntRipples
    StaticModelLODMode = yes
		OkToChangeModelColor = Yes
		DefaultModelConditionState
			Model					= huscorp_skn
			Skeleton				= huscorp_skl
	;	    Texture				= hugntscorpA.tga hugntscorpB.tga
		End
		IdleAnimationState
			Animation
				AnimationName = huscorp_idlb
				AnimationMode = ONCE
				AnimationPriority = 5
			End
			Animation
				AnimationName = huscorp_idlc
				AnimationMode = ONCE
				AnimationPriority = 5
			End
			StateName = Idle
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_PlantingTotem" then
					CurDrawableSetTransitionAnimState("TRANS_TotemToIdle")
				elseif Prev == "STATE_Selected" or Prev == "STATE_NormalMovement" then
					CurDrawableSetTransitionAnimState("TRANS_SelectedToBored")
				end
			EndScript
		End
		AnimationState						= PASSENGER
			Animation
				AnimationName				= huscorp_flya
				AnimationMode				= LOOP
			End
		End
		AnimationState						= FREEFALL
			Animation
				AnimationName				= huscorp_flya
				AnimationMode				= LOOP
				AnimationSpeedFactorRange	= 0.5	0.5
				AnimationBlendTime			= 5
			End
		End
		AnimationState			= STUNNED_FLAILING
			Animation
				AnimationName   = huscorp_flya
				AnimationMode   = LOOP
				AnimationSpeedFactorRange	= 0.2 0.3
			End
		End
		AnimationState			= DYING BURNINGDEATH
			Animation
				AnimationName	= huscorp_diea
				AnimationMode	= ONCE
				AnimationBlendTime = 10
			End
		End
		AnimationState			= DYING SPLATTED
			Animation
				AnimationName	= huscorp_lnda
				AnimationMode	= ONCE
			End
		End
		AnimationState = DYING
			Animation
				AnimationName = huscorp_diea
				AnimationMode = ONCE
			End
		End
		AnimationState			= BURNINGDEATH
			Animation
				AnimationName	= huscorp_mfda
				AnimationMode	= LOOP
				Distance		= 120
			End
		End
		AnimationState						= PARALYZED
			Animation
				AnimationName				= huscorp_idla
				AnimationMode				= LOOP
			End
		End
		AnimationState        = STUNNED
			Animation
				AnimationName     = huscorp_lnda
				AnimationMode     = ONCE
			End
		End
		AnimationState        = STUNNED_STANDING_UP
			Animation
				AnimationName     = huscorp_gtpa
				AnimationMode     = ONCE
			End
		End
		AnimationState        = THROWN_PROJECTILE
			Animation
				AnimationName     = huscorp_flya
				AnimationMode     = LOOP
			End
		End
		AnimationState = MOVING WANDER
			Animation
				AnimationName = huscorp_runa
				AnimationMode = LOOP
			End
		End
		AnimationState = MOVING DAMAGED AFLAME
			Animation
				AnimationName = huscorp_mfda
				AnimationMode = LOOP
			End
			Flags = RANDOMSTART
		End
		AnimationState = MOVING ATTACKING
			Animation
				AnimationName = huscorp_runa
				AnimationMode = LOOP
			End
			Flags = RANDOMSTART
			ParticleSysBone = None InfantryDustTrails
		End
		AnimationState = MOVING WALKING
			Animation
				AnimationName = huscorp_runa
				AnimationMode = LOOP
			End
			Flags = RANDOMSTART
			ParticleSysBone = None InfantryDustTrails
		End
		AnimationState = MOVING
			StateName = STATE_NormalMovement
			Animation
				AnimationName = huscorp_runa
				AnimationMode = LOOP
			End
			Flags = RANDOMSTART
			ParticleSysBone = None InfantryDustTrails
		End
		AnimationState = PACKING_TYPE_1
			StateName = STATE_PlantingTotem
			Animation
				AnimationName = huscorp_spcc
				AnimationMode = ONCE
			End
		End
		AnimationState				= USER_1
			Animation
				AnimationName		= huscorp_spca
				AnimationMode		= ONCE
			End
		End
		AnimationState				= USER_2
			Animation
				AnimationName		= huscorp_spcb
				AnimationMode		= ONCE
			End
		End
		AnimationState = HIT_REACTION
			Animation
				AnimationName = huscorp_atnb
				AnimationMode = LOOP
			End
		End
		AnimationState = FIRING_OR_PREATTACK_A
			Animation
				AnimationName = huscorp_atka
				AnimationMode = ONCE
				AnimationPriority = 5
				UseWeaponTiming		=	Yes
			End
			; Animation
			; 	AnimationName = huscorp_atkb
			; 	AnimationMode = ONCE
			; 	AnimationPriority = 5
			; 	UseWeaponTiming		=	Yes
			; End
			; Animation
			; 	AnimationName = huscorp_atkc
			; 	AnimationMode = ONCE
			; 	AnimationPriority = 5
			; 	UseWeaponTiming		=	Yes
			; End
		End

		; --- Poisoned Stinger Weapon anim
		AnimationState				= SPECIAL_WEAPON_ONE
			Animation
				AnimationName		= huscorp_atkb
				AnimationMode		= ONCE
				UseWeaponTiming		= Yes
			End
			ParticleSysBone B_S_TAIL06 GiantScorpionPoison FollowBone:Yes
			ParticleSysBone B_S_TAIL06 GiantScorpionPoison2 FollowBone:Yes
		End

		AnimationState				= SPECIAL_WEAPON_TWO
			Animation
				AnimationName		= huscorp_atkb
				AnimationMode		= ONCE
				UseWeaponTiming		= Yes
			End
			ParticleSysBone B_S_TAIL06 GiantScorpionPoison FollowBone:Yes
			ParticleSysBone B_S_TAIL06 GiantScorpionPoison2 FollowBone:Yes
			ParticleSysBone B_S_TAIL06 GiantScorpionVenomSpray FollowBone:Yes
		End

		AnimationState = FIRING_OR_PREATTACK_B
			Animation
				AnimationName = huscorp_atkc
				AnimationMode = ONCE
				AnimationPriority = 5
				UseWeaponTiming		=	Yes
			End
			; Animation
			; 	AnimationName = huscorp_atkb
			; 	AnimationMode = ONCE
			; 	AnimationPriority = 5
			; 	UseWeaponTiming		=	Yes
			; End
			; Animation
			; 	AnimationName = huscorp_atkc
			; 	AnimationMode = ONCE
			; 	AnimationPriority = 5
			; 	UseWeaponTiming		=	Yes
			; End
		End
		AnimationState = BETWEEN_FIRING_SHOTS_A
			Animation
				AnimationName = huscorp_idla
				AnimationMode = ONCE
			End
		End
		AnimationState = ATTACKING
			Animation
				AnimationName = huscorp_atka
				AnimationMode = ONCE
			End
			; Animation
			; 	AnimationName = huscorp_atkb
			; 	AnimationMode = ONCE
			; 	UseWeaponTiming		=	Yes
			; End
			Animation
				AnimationName = huscorp_atkc
				AnimationMode = ONCE
				UseWeaponTiming		=	Yes
			End
		End
		AnimationState							= EMOTION_TAUNTING
			Animation
				AnimationName					= huscorp_chra
				AnimationMode					= LOOP
				AnimationBlendTime				= 10
			End
			Flags				= RESTART_ANIM_WHEN_COMPLETE
		End
		AnimationState							= EMOTION_CELEBRATING
			Animation
				AnimationName					= huscorp_chra
				AnimationMode					= ONCE
				AnimationBlendTime				= 10
			End
			Flags				= RESTART_ANIM_WHEN_COMPLETE
		End
		AnimationState				= LEVELED
			Animation				= LevelUp
				AnimationName		= huscorp_lvla
				AnimationMode		= ONCE
			End
		End
		AnimationState							= RAISING_FLAG
			Animation
				AnimationName					= huscorp_chra
				AnimationMode					= LOOP
			End
		End
		AnimationState        = SELECTED
			StateName           = STATE_Selected
			Animation
				AnimationName     = huscorp_atnb
				AnimationMode     = LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_PlantingTotem" then
					CurDrawableSetTransitionAnimState("TRANS_TotemToIdle")
				elseif Prev ~= "STATE_Selected" and Prev ~= "TRANS_IdleToSelected" then
					CurDrawableSetTransitionAnimState("TRANS_IdleToSelected")
				end
			EndScript
		End
		TransitionState       = TRANS_IdleToSelected
			Animation
				AnimationName     = huscorp_atna
				AnimationMode     = ONCE
			End
		End
		TransitionState		= TRANS_SelectedToBored
			Animation
				AnimationName	= huscorp_atnc
				AnimationMode	= ONCE
			End
		End
		; TransitionState				=	TRANS_SelectFromMoving
		; 	Animation
		; 		AnimationName		=	huscorp_atnb
		; 		AnimationMode		=	ONCE
		; 	End
		; End
		TransitionState		= TRANS_TotemToIdle
			Animation
				AnimationName		= huscorp_idla
				AnimationMode		= ONCE
				AnimationBlendTime	= 0
			End
		End
	End
	Draw = W3DScriptedModelDraw DustEffects
	    DefaultModelConditionState
	      Model = None
	    End
	    IdleAnimationState
	    End
	    AnimationState = MOVING WADING
			ParticleSysBone = None FootstepSlash
	    End
	    AnimationState = MOVING ACCELERATE
			ParticleSysBone = None InfantryDustTrails
	    End
	    AnimationState = MOVING ACCELERATE
			ParticleSysBone = None InfantryDustTrails
	    End
	    AnimationState = DISGUISED MOVING ACCELERATE
			ParticleSysBone = None InfantryDustTrails
	    End
	    AnimationState = DISGUISED MOVING DECELERATE
			ParticleSysBone = None InfantryDustTrails
	    End
	    AnimationState = MOVING
	    End
        AnimationState = DISGUISED MOVING
        End
	End


	// ***DESIGN parameters ***
	VisionRange			= WILD_SPIDERLING_SLAVED_VISION_RANGE
	ShroudClearingRange = WILD_SPIDERLING_SLAVED_SHROUD_RANGE
	BountyValue			= 0 ;;,;; SHROUD_CLEAR_STANDARD //WILD_SPIDERLING_SLAVED_BOUNTY_VALUE

    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS MONSTER SCARY SCORE GRAB_AND_DROP PATH_THROUGH_EACH_OTHER HEAVY_MELEE_HITTER ARMY_SUMMARY ; CAVALRY

	VisionSide			= 100%
	VisionRear			= 100%
	CrushableLevel		= 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrusherLevel = 0

	CommandPoints		= 0

	Body = ActiveBody ModuleTag_Body
		MaxHealth 		= WILD_SPIDERLING_HEALTH
		MaxHealthDamaged 	= WILD_SPIDERLING_HEALTH_DAMAGED
		BurningDeathBehavior = Yes
		BurningDeathFX       = FX_InfantryBurningFlame
	End

	WeaponSet
		Conditions		= None
		Weapon			= PRIMARY DenScorpionWeapon
		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End

	ArmorSet
		Conditions      = None
		Armor           = WildSpiderlingArmor
		DamageFX        = NormalDamageFX
	End

	Behavior = AIUpdateInterface ModuleTag_03 ;;,;; Added for 2.1
		AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
		AILuaEventsList		=	KennelDireWolfFunctions ;WargRiderFunctions
		BurningDeathTime	= BURNINGDEATH_DURATION_CAVALRY
	End

	Behavior = SlavedUpdate ModuleTag_Slave
		LeashRange					= 300
		GuardMaxRange					= 0
		GuardWanderRange				= 50
		AttackRange					= 200
		UseSlaverAsControlForEvaObjectSightedEvents	= No	// Not a creep
		GuardPositionOffset				= X:55 Y:0 Z:0
		FadeOutRange					= 0
		FadeTime					= 1000	//in msec
		DieOnMastersDeath				= Yes	//Die when my master dies!
	End

	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL
		SinkDelay = 3000
		SinkRate = 1.40
		DestructionDelay = 8000
		Sound = INITIAL WildSpiderlingVoxDie
	End

	RemoveModule ModuleTag_GoblinKingPoisonedStingerUpdate

	Geometry			= CYLINDER
	GeometryMajorRadius = 10.0
	GeometryMinorRadius = 10.0
	GeometryHeight		= 10.0
	GeometryIsSmall		= Yes
End

ChildObject HaradGiantScorpion_Creep HaradGiantScorpion
	Scale = 0.5 ;2.0 ; It could totally happen!!!
	SelectPortrait = UPGiantScorpions
	ButtonImage = uigiantscorpion
	DescriptionStrategic = CONTROLBAR:LW_ToolTip_GoblinKing
	Draw = W3DScriptedModelDraw ModuleTag_DRAW
		WadingParticleSys = EntRipples
    StaticModelLODMode = yes
		OkToChangeModelColor = Yes
		DefaultModelConditionState
			Model					= hugntscorp_skn
			Skeleton				= WUGbkMnt_SKL
		    Texture				= hugntscorpA.tga hugntscorpB.tga
		End
		IdleAnimationState
			Animation
				AnimationName = WUGbkMnt_IDLB
				AnimationMode = ONCE
				AnimationPriority = 5
			End
			Animation
				AnimationName = WUGbkMnt_IDLC
				AnimationMode = ONCE
				AnimationPriority = 5
			End
			StateName = Idle
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_PlantingTotem" then
					CurDrawableSetTransitionAnimState("TRANS_TotemToIdle")
				elseif Prev == "STATE_Selected" or Prev == "STATE_NormalMovement" then
					CurDrawableSetTransitionAnimState("TRANS_SelectedToBored")
				end
			EndScript
		End
		AnimationState						= PASSENGER
			Animation
				AnimationName				= WUGbkMnt_FLYA
				AnimationMode				= LOOP
			End
		End
		AnimationState						= FREEFALL
			Animation
				AnimationName				= WUGbkMnt_FLYA
				AnimationMode				= LOOP
				AnimationSpeedFactorRange	= 0.5	0.5
				AnimationBlendTime			= 5
			End
		End
		AnimationState			= STUNNED_FLAILING
			Animation
				AnimationName   = WUGbkMnt_FLYA
				AnimationMode   = LOOP
				AnimationSpeedFactorRange	= 0.2 0.3
			End
		End
		AnimationState			= DYING BURNINGDEATH
			Animation
				AnimationName	= WUGbkMnt_DIEA
				AnimationMode	= ONCE
				AnimationBlendTime = 10
			End
		End
		AnimationState			= DYING SPLATTED
			Animation
				AnimationName	= WUGbkMnt_LNDA
				AnimationMode	= ONCE
			End
		End
		AnimationState = DYING
			Animation
				AnimationName = WUGbkMnt_DIEA
				AnimationMode = ONCE
			End
		End
		AnimationState			= BURNINGDEATH
			Animation
				AnimationName	= WUGbkMnt_MFDA
				AnimationMode	= LOOP
				Distance		= 120
			End
		End
		AnimationState						= PARALYZED
			Animation
				AnimationName				= WUGbkMnt_IDLA
				AnimationMode				= LOOP
			End
		End
		AnimationState        = STUNNED
			Animation
				AnimationName     = WUGbkMnt_LNDA
				AnimationMode     = ONCE
			End
		End
		AnimationState        = STUNNED_STANDING_UP
			Animation
				AnimationName     = WUGbkMnt_GTPA
				AnimationMode     = ONCE
			End
		End
		AnimationState        = THROWN_PROJECTILE
			Animation
				AnimationName     = WUGbkMnt_FLYA
				AnimationMode     = LOOP
			End
		End
		AnimationState = MOVING WANDER
			Animation
				AnimationName = WUGbkMnt_RUNA
				AnimationMode = LOOP
			End
		End
		AnimationState = MOVING DAMAGED AFLAME
			Animation
				AnimationName = WUGbkMnt_MFDA
				AnimationMode = LOOP
			End
			Flags = RANDOMSTART
		End
		AnimationState = MOVING ATTACKING
			Animation
				AnimationName = WUGbkMnt_RUNA
				AnimationMode = LOOP
			End
			Flags = RANDOMSTART
			ParticleSysBone = None InfantryDustTrails
		End
		AnimationState = MOVING WALKING
			Animation
				AnimationName = WUGbkMnt_RUNA
				AnimationMode = LOOP
			End
			Flags = RANDOMSTART
			ParticleSysBone = None InfantryDustTrails
		End
		AnimationState = MOVING
			StateName = STATE_NormalMovement
			Animation
				AnimationName = WUGbkMnt_RUNA
				AnimationMode = LOOP
			End
			Flags = RANDOMSTART
			ParticleSysBone = None InfantryDustTrails
		End
		AnimationState = PACKING_TYPE_1
			StateName = STATE_PlantingTotem
			Animation
				AnimationName = WUGbkMnt_SPCC
				AnimationMode = ONCE
			End
		End
		AnimationState				= USER_1
			Animation
				AnimationName		= WUGbkMnt_SPCA
				AnimationMode		= ONCE
			End
		End
		AnimationState				= USER_2
			Animation
				AnimationName		= WUGbkMnt_SPCB
				AnimationMode		= ONCE
			End
		End
		AnimationState = HIT_REACTION
			Animation
				AnimationName = WUGbkMnt_ATNB
				AnimationMode = LOOP
			End
		End
		AnimationState = FIRING_OR_PREATTACK_A
			Animation
				AnimationName = WUGbkMnt_ATKA
				AnimationMode = ONCE
				AnimationPriority = 5
				UseWeaponTiming		=	Yes
			End
			; Animation
			; 	AnimationName = WUGbkMnt_ATKB
			; 	AnimationMode = ONCE
			; 	AnimationPriority = 5
			; 	UseWeaponTiming		=	Yes
			; End
			; Animation
			; 	AnimationName = WUGbkMnt_ATKC
			; 	AnimationMode = ONCE
			; 	AnimationPriority = 5
			; 	UseWeaponTiming		=	Yes
			; End
		End

		; --- Poisoned Stinger Weapon anim
		AnimationState				= SPECIAL_WEAPON_ONE
			Animation
				AnimationName		= WUGbkMnt_ATKB
				AnimationMode		= ONCE
				UseWeaponTiming		= Yes
			End
			ParticleSysBone B_S_TAIL06 GiantScorpionPoison FollowBone:Yes
			ParticleSysBone B_S_TAIL06 GiantScorpionPoison2 FollowBone:Yes
		End

		AnimationState				= SPECIAL_WEAPON_TWO
			Animation
				AnimationName		= WUGbkMnt_ATKB
				AnimationMode		= ONCE
				UseWeaponTiming		= Yes
			End
			ParticleSysBone B_S_TAIL06 GiantScorpionPoison FollowBone:Yes
			ParticleSysBone B_S_TAIL06 GiantScorpionPoison2 FollowBone:Yes
			ParticleSysBone B_S_TAIL06 GiantScorpionVenomSpray FollowBone:Yes
		End

		AnimationState = FIRING_OR_PREATTACK_B
			Animation
				AnimationName = WUGbkMnt_ATKC
				AnimationMode = ONCE
				AnimationPriority = 5
				UseWeaponTiming		=	Yes
			End
			; Animation
			; 	AnimationName = WUGbkMnt_ATKB
			; 	AnimationMode = ONCE
			; 	AnimationPriority = 5
			; 	UseWeaponTiming		=	Yes
			; End
			; Animation
			; 	AnimationName = WUGbkMnt_ATKC
			; 	AnimationMode = ONCE
			; 	AnimationPriority = 5
			; 	UseWeaponTiming		=	Yes
			; End
		End
		AnimationState = BETWEEN_FIRING_SHOTS_A
			Animation
				AnimationName = WUGbkMnt_IDLA
				AnimationMode = ONCE
			End
		End
		AnimationState = ATTACKING
			Animation
				AnimationName = WUGbkMnt_ATKA
				AnimationMode = ONCE
			End
			; Animation
			; 	AnimationName = WUGbkMnt_ATKB
			; 	AnimationMode = ONCE
			; 	UseWeaponTiming		=	Yes
			; End
			Animation
				AnimationName = WUGbkMnt_ATKC
				AnimationMode = ONCE
				UseWeaponTiming		=	Yes
			End
		End
		AnimationState							= EMOTION_TAUNTING
			Animation
				AnimationName					= WUGbkMnt_CHRA
				AnimationMode					= LOOP
				AnimationBlendTime				= 10
			End
			Flags				= RESTART_ANIM_WHEN_COMPLETE
		End
		AnimationState							= EMOTION_CELEBRATING
			Animation
				AnimationName					= WUGbkMnt_CHRA
				AnimationMode					= ONCE
				AnimationBlendTime				= 10
			End
			Flags				= RESTART_ANIM_WHEN_COMPLETE
		End
		AnimationState				= LEVELED
			Animation				= LevelUp
				AnimationName		= WUGbkMnt_LVLA
				AnimationMode		= ONCE
			End
		End
		AnimationState							= RAISING_FLAG
			Animation
				AnimationName					= WUGbkMnt_CHRA
				AnimationMode					= LOOP
			End
		End
		AnimationState        = SELECTED
			StateName           = STATE_Selected
			Animation
				AnimationName     = WUGbkMnt_ATNB
				AnimationMode     = LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_PlantingTotem" then
					CurDrawableSetTransitionAnimState("TRANS_TotemToIdle")
				elseif Prev ~= "STATE_Selected" and Prev ~= "TRANS_IdleToSelected" then
					CurDrawableSetTransitionAnimState("TRANS_IdleToSelected")
				end
			EndScript
		End
		TransitionState       = TRANS_IdleToSelected
			Animation
				AnimationName     = WUGbkMnt_ATNA
				AnimationMode     = ONCE
			End
		End
		TransitionState		= TRANS_SelectedToBored
			Animation
				AnimationName	= WUGbkMnt_ATNC
				AnimationMode	= ONCE
			End
		End
		; TransitionState				=	TRANS_SelectFromMoving
		; 	Animation
		; 		AnimationName		=	WUGbkMnt_ATNB
		; 		AnimationMode		=	ONCE
		; 	End
		; End
		TransitionState		= TRANS_TotemToIdle
			Animation
				AnimationName		= WUGbkMnt_IDLA
				AnimationMode		= ONCE
				AnimationBlendTime	= 0
			End
		End
	End
	Draw = W3DScriptedModelDraw DustEffects
	    DefaultModelConditionState
	      Model = None
	    End
	    IdleAnimationState
	    End
	    AnimationState = MOVING WADING
			ParticleSysBone = None FootstepSlash
	    End
	    AnimationState = MOVING ACCELERATE
			ParticleSysBone = None InfantryDustTrails
	    End
	    AnimationState = MOVING ACCELERATE
			ParticleSysBone = None InfantryDustTrails
	    End
	    AnimationState = DISGUISED MOVING ACCELERATE
			ParticleSysBone = None InfantryDustTrails
	    End
	    AnimationState = DISGUISED MOVING DECELERATE
			ParticleSysBone = None InfantryDustTrails
	    End
	    AnimationState = MOVING
	    End
        AnimationState = DISGUISED MOVING
        End
	End


	// ***DESIGN parameters ***
	VisionRange			= WILD_SPIDERLING_SLAVED_VISION_RANGE
	ShroudClearingRange = WILD_SPIDERLING_SLAVED_SHROUD_RANGE
	BountyValue			= 8 ;;,;; SHROUD_CLEAR_STANDARD //WILD_SPIDERLING_SLAVED_BOUNTY_VALUE

    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS MONSTER SCARY SCORE GRAB_AND_DROP PATH_THROUGH_EACH_OTHER HEAVY_MELEE_HITTER ARMY_SUMMARY ; CAVALRY

	VisionSide			= 100%
	VisionRear			= 100%
	CrushableLevel		= 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrusherLevel = 0

	CommandPoints		= 0
	CommandSet			= CreepCommandSet

	Body = ActiveBody ModuleTag_Body
		MaxHealth         = 350 ;250 ;,; 150
		MaxHealthDamaged  = 150
		BurningDeathBehavior = Yes
		BurningDeathFX       = FX_InfantryBurningFlame
	End

	WeaponSet
		Conditions		= None
		Weapon			= PRIMARY MinorSpiderMandibles
		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End

	ArmorSet
		Conditions      = None
		Armor           = WildSpiderlingArmor
		DamageFX        = NormalDamageFX
	End

	Behavior = AIUpdateInterface ModuleTag_03 ;;,;; Added for 2.1
		AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
		AILuaEventsList		=	KennelDireWolfFunctions ;WargRiderFunctions
		BurningDeathTime	= BURNINGDEATH_DURATION_CAVALRY
	End

	Behavior = SlavedUpdate ModuleTag_Slave
		GuardMaxRange		= 350.0
		GuardWanderRange	= 75.0
		UseSlaverAsControlForEvaObjectSightedEvents = Yes ; It's a creep
	End

	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL
		SinkDelay = 3000
		SinkRate = 1.40
		DestructionDelay = 8000
		Sound = INITIAL WildSpiderlingVoxDie
	End

	RemoveModule ModuleTag_GoblinKingPoisonedStingerUpdate

	Geometry			= CYLINDER
	GeometryMajorRadius = 10.0
	GeometryMinorRadius = 10.0
	GeometryHeight		= 10.0
	GeometryIsSmall		= Yes
End

ChildObject HaradGiantScorpion_FromDeadScorpion HaradGiantScorpion
	Scale = 0.2 ;2.0 ; It could totally happen!!!
	CommandPoints = 0
	CrushableLevel		= 3  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrusherLevel = 0

	WeaponSet
		Conditions		= None
		Weapon			= PRIMARY NONE
		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	ArmorSet
		Conditions      = None
		Armor           = WildSpiderlingArmor
		DamageFX        = NormalDamageFX
	End
	KindOf =  UNATTACKABLE NOT_AUTOACQUIRABLE PATH_THROUGH_EACH_OTHER NO_COLLIDE ;PATH_THROUGH_INFANTRY
	Behavior = LifetimeUpdate ModuleTag_LifetimeUpdate
		MinLifetime		= 15000
		MaxLifetime		= 15000
		DeathType		= FADED
	End

	Body = ActiveBody ModuleTag_Body
		MaxHealth 		= WILD_SPIDERLING_HEALTH
		MaxHealthDamaged 	= WILD_SPIDERLING_HEALTH_DAMAGED
		BurningDeathBehavior = Yes
		BurningDeathFX       = FX_InfantryBurningFlame
	End

	RemoveModule ModuleTag_GoblinKingPoisonedStingerUpdate

	Behavior = SlavedUpdate ModuleTag_Slave
		LeashRange			= 200
		GuardMaxRange		= 150
		GuardWanderRange	= 100
		AttackRange			= 200
		;GuardMaxRange		= 40.0
		;GuardWanderRange	= 40.0
		DieOnMastersDeath	= No
		MarkUnselectable	= Yes
	End
	LocomotorSet
		Locomotor = PatrolLocomotor
		Condition = SET_NORMAL
		Speed     = 60
	End
	Behavior = FireWeaponUpdate ModuleTag_KhamulField
		FireWeaponNugget
			WeaponName = DeadSpiderDamager
			FireDelay = 0
			OneShot = No
		End
	End
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes			= ALL
		FadeDelay			= 0
		FadeTime			= 3000
		DestructionDelay	= 3000
		DeathFlags			= DEATH_2
		;FX					= INITIAL FX_SmallSpiderDie
		;Sound				= INITIAL WildSpiderlingVoxDie
	End

	Geometry			= CYLINDER
	GeometryMajorRadius = 0.0
	GeometryMinorRadius = 0.0
	GeometryHeight		= 0.0
	GeometryIsSmall		= Yes
End

Object HaradScorpionCorpseEgg

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD

	DefaultModelConditionState
      Model = None
    End
  End

	; ***DESIGN parameters ***
	DisplayName      	= OBJECT:Prop

	Side                = Angmar
	EditorSorting       = STRUCTURE
	ThreatLevel			= 1.0
	CommandSet          = GenericCommandSet
	;BountyValue         = GOBLIN_SPIDERPIT_BOUNTY_VALUE
	;VisionRange         = GOBLIN_SPIDERPIT_VISION_RANGE
	;ShroudClearingRange	= GOBLIN_SPIDERPIT_SHROUD_CLEAR

	ArmorSet
		Conditions        = None
		Armor             = UnitProductionStructureArmor ; ;StructureArmor
		;DamageFX          = StructureDamageFXNoShake
	End


  ; *** AUDIO Parameters ***

	#include "..\..\..\Includes\StandardBuildingEvaEvents.inc"

	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE AUTO_RALLYPOINT FS_FACTORY IGNORE_FOR_VICTORY IGNORE_FOR_EVA_SPEECH_POSITION NO_COLLIDE UNATTACKABLE NOT_AUTOACQUIRABLE

	Body                        = StructureBody ModuleTag_05
		MaxHealth         		    = GOBLIN_SPIDERPIT_HEALTH
		MaxHealthDamaged  		    = GOBLIN_SPIDERPIT_HEALTH_DAMAGED
		MaxHealthReallyDamaged 	  	= GOBLIN_SPIDERPIT_HEALTH_REALLY_DAMAGED
	End

	;Behavior            = GettingBuiltBehavior GetBuiltBehaviorTag
	;	WorkerName		  = GuldurWorkerNoSelect
	;	SpawnTimer	= DEFAULT_STRUCTURE_HEALDELAY
	;End

	Behavior = KeepObjectDie ModuleTag_IWantRubble
	End

	Behavior = TerrainResourceBehavior ModuleTag_NewMoneyDeadSpot
		Radius = 50		; How far we try to claim ground
		MaxIncome = 0	; If we were to get all we wanted, how much we would earn.  Linear slope to 0 at 0% claim
		IncomeInterval = 999999	; How often (in msec) we give that much money
		HighPriority = Yes ; A high priority claim gets to pretend it was there first.
		Visible = No 		;// Don't show decal when a resource building is selected.
	End

	Behavior = ProductionUpdate ProductionUpdateModuleTag
		GiveNoXP		= Yes  ;Structure will not gain xp by training units
	End

	Behavior = QueueProductionExitUpdate QueueProductionModuleTag
		UnitCreatePoint			= X:4.0 Y:20.0 Z:0.0
		NaturalRallyPoint		= X:4.0 Y:-100.0 Z:0.0
		ExitDelay				= STANDARD_HORDE_EXIT_DELAY
		UseReturnToFormation	= No
		PlacementViewAngle  	= -90
	End

	Behavior = GrantUpgradeCreate ModuleTag_GrantUpgrade
		UpgradeToGrant	= Upgrade_GondorStableLevel2
	End

	Behavior = SpawnBehavior ModuleTag_SpawnSpiderPatrols
		TriggeredBy			= Upgrade_GondorStableLevel2
		SpawnNumber			= 9
		InitialBurst		= 9
		SpawnTemplateName	= HaradGiantScorpion_FromDeadScorpion	;GuldurSpiderling_FromDeadSpider
		SpawnReplaceDelay	= 30000;
		CanReclaimOrphans	= Yes
	End

	Behavior = LifetimeUpdate LifetimeTag
		MinLifetime		= 15000
		MaxLifetime		= 15000
		DeathType		= FADED
	End

End

ChildObject HaradGiantScorpion_WOTR HaradGiantScorpion
	KindOf = -ARMY_SUMMARY
End