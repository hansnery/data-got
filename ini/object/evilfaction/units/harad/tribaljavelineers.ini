
//------------------------------------------------------------------------------
Object HaradTribalJavelineers
	// *** ART Parameters ***

  SelectPortrait  =  UPTribalJavelineers
  ButtonImage = uitribaljavelineers
  Scale = 1.08

  Draw = W3DHordeModelDraw ModuleTag_01

	OkToChangeModelColor = Yes

	StaticModelLODMode = Yes
	;specify options for static LODs
	LodOptions	= LOW
		AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_LOW
		MaxRandomTextures		=	MAX_RANDOM_TEXTURES_LOW
		MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_LOW
		MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_LOW
	End

	LodOptions	= MEDIUM
		AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_MED
		MaxRandomTextures		=	MAX_RANDOM_TEXTURES_MED
		MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_MED
		MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_MED
	End

	LodOptions	= HIGH
		AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_HIGH
		MaxRandomTextures		=	MAX_RANDOM_TEXTURES_HIGH
		MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_HIGH
		MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_HIGH
	End


		DefaultModelConditionState
			Model = hutribarch_skn
			Skeleton = MUHaradim_SKL
			WeaponLaunchBone = PRIMARY ARRROW
			WeaponLaunchBone = TERTIARY ARRROW
			WeaponLaunchBone = QUINARY ARRROW
		End

	;-- ON THE GROUND ANIMATIONS

		IdleAnimationState
			Animation = IDLA
				AnimationName = MUHaradim_IDLA
				AnimationMode = ONCE
	    		AnimationBlendTime = 10
				AnimationPriority = 25
			End
			Animation = IDLB
				AnimationName = MUHaradim_IDLB
				AnimationMode = ONCE
	    		AnimationBlendTime = 10
			End
			Animation = IDLC
				AnimationName = MUHaradim_IDLC
				AnimationMode = ONCE
	    		AnimationBlendTime = 10
			End
			StateName = Idle
			BeginScript
				CurDrawableShowSubObject("arrrow")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Selected" then CurDrawableSetTransitionAnimState("Selected_to_Idle") end
			EndScript
		End

		AnimationState = THROWN_PROJECTILE
			Animation = Thrown
				AnimationName = MUHaradim_FLYA
				AnimationMode = LOOP
			End
			Animation = Thrown
				AnimationName = MUHaradim_FLYB
				AnimationMode = LOOP
			End
			Animation = Thrown
				AnimationName = MUHaradim_FLYC
				AnimationMode = LOOP
			End
		End

		AnimationState = STUNNED_FLAILING
 			Animation = Flying
				AnimationName = MUHaradim_FLYA
				AnimationMode = LOOP
				AnimationSpeedFactorRange	= 0.4 0.6
			End
 			Animation = Flying
				AnimationName = MUHaradim_FLYB
				AnimationMode = LOOP
				AnimationSpeedFactorRange	= 0.4 0.6
			End
 			Animation = Flying
				AnimationName = MUHaradim_FLYC
				AnimationMode = LOOP
				AnimationSpeedFactorRange	= 0.4 0.6
			End
			Flags = RANDOMSTART
		End

		AnimationState = DYING DEATH_2
			Animation
				AnimationName = MUHaradim_IDLA
				AnimationMode	= LOOP
				AnimationBlendTime = 10
			End
		End

		AnimationState			= DYING BURNINGDEATH
			Animation
				AnimationName	= MUHaradim_DIEA
				AnimationMode	= ONCE
				AnimationBlendTime = 10
			End
			Animation
				AnimationName	= MUHaradim_DIEB
				AnimationMode	= ONCE
				AnimationBlendTime = 10
			End
			Animation
				AnimationName	= MUHaradim_DIEC
				AnimationMode	= ONCE
				AnimationBlendTime = 10
			End
;			EnteringStateFX = FX_NecroAcolyteSuck
		End

		AnimationState = DYING SPLATTED
 				Animation = Splattered_On_Ground
					AnimationName = MUHaradim_LNDA
					AnimationMode = ONCE
				End
				EnteringStateFX = FX_HaradrimHitGround
		End

		AnimationState = DYING AFLAME
			Animation = Flaming_Death_1
				AnimationName = MUHaradim_DIEA
				AnimationMode = ONCE
			End
			Animation = Flaming_Death_2
				AnimationName = MUHaradim_DIEB
				AnimationMode = ONCE
			End
			Animation = Flaming_Death_2
				AnimationName = MUHaradim_DIEC
				AnimationMode = ONCE
			End
			ParticleSysBone     = BAT_HEAD FireBuildingLargeSmoke FollowBone:yes
			ParticleSysBone     = BAT_HEAD FireSmall FollowBone:yes
			ParticleSysBone     = BAT_SPINE1 FireBuildingLargeSmoke FollowBone:yes
			ParticleSysBone     = BAT_SPINE1 FireSmall FollowBone:yes
			ParticleSysBone     = BAT_SPINE2 FireBuildingLargeSmoke FollowBone:yes
			ParticleSysBone     = BAT_SPINE2 FireSmall FollowBone:yes
		End

		AnimationState = DYING
			Animation = Dying_1
				AnimationName = MUHaradim_DIEA
				AnimationMode = ONCE
			End
			Animation = Dying_2
				AnimationName = MUHaradim_DIEB
				AnimationMode = ONCE
			End
			Animation = Dying_2
				AnimationName = MUHaradim_DIEC
				AnimationMode = ONCE
			End
		End

		//DOESN'T EXIST
		//AnimationState = TRANSPORT_MOVING
		//	Animation = wobbling_on_transport
		//		AnimationName = MUHaradim_IDLD
		//	    AnimationMode = LOOP
		//      AnimationBlendTime  = 15
		//	End
		//End

		// --- stunned anims

		AnimationState = STUNNED_STANDING_UP
 				Animation = Standing_Back_Up
					AnimationName = MUHaradim_GTPA
			AnimationMode = ONCE_BACKWARDS
			AnimationSpeedFactorRange = 1.5 1.5
				End
		End


		AnimationState = STUNNED
 				Animation = Splattered_On_Ground
					AnimationName = MUHaradim_LNDA
					AnimationMode = ONCE
				End
				EnteringStateFX = FX_HaradrimHitGround
		End

		AnimationState			= BURNINGDEATH
			Animation
				AnimationName	= MUHaradim_MFDA
				AnimationMode	= LOOP
				Distance		= 30
			End
		End

		AnimationState						= PARALYZED
			Animation
				AnimationName				= MUHaradim_IDLA
				AnimationMode				= LOOP
			End
		End

	; ladder climbing animations
	AnimationState = MOVING CLIMBING BACKING_UP
		Animation = Climbing_Down
			AnimationName = MUHaradim_CLMA
			AnimationMode = LOOP_BACKWARDS
			AnimationSpeedFactorRange = 2.0 2.0
		End
    End

    AnimationState = MOVING CLIMBING
		Animation = Climbing_Up
			AnimationName = MUHaradim_CLMA
			AnimationMode = LOOP
			AnimationSpeedFactorRange = 2.0 2.0
		End
    End

		AnimationState = MOVING DAMAGED AFLAME
			Animation = Moving_Damaged
				AnimationName = MUHaradim_MFDA
				AnimationMode = LOOP
			End
			Flags               = RANDOMSTART
			ParticleSysBone     = BAT_HEAD FireBuildingLargeSmoke FollowBone:yes
			ParticleSysBone     = BAT_HEAD FireSmall FollowBone:yes
			ParticleSysBone     = BAT_SPINE1 FireBuildingLargeSmoke FollowBone:yes
			ParticleSysBone     = BAT_SPINE1 FireSmall FollowBone:yes
			ParticleSysBone     = BAT_SPINE2 FireBuildingLargeSmoke FollowBone:yes
			ParticleSysBone     = BAT_SPINE2 FireSmall FollowBone:yes
		End

		AnimationState = MOVING AFLAME
			Animation = Moving
				AnimationName = MUHaradim_MFDA
				AnimationMode = LOOP
			End
			Flags               = RANDOMSTART
			ParticleSysBone     = BAT_HEAD FireBuildingLargeSmoke FollowBone:yes
			ParticleSysBone     = BAT_HEAD FireSmall FollowBone:yes
			ParticleSysBone     = BAT_SPINE1 FireBuildingLargeSmoke FollowBone:yes
			ParticleSysBone     = BAT_SPINE1 FireSmall FollowBone:yes
			ParticleSysBone     = BAT_SPINE2 FireBuildingLargeSmoke FollowBone:yes
			ParticleSysBone     = BAT_SPINE2 FireSmall FollowBone:yes
		End

	//	AnimationState = MOVING DAMAGED
	//		Animation = Moving_Damaged
	//			AnimationName = MUHaradim_IWKA
	//		    AnimationMode = LOOP
	//		End
	//		Flags               = RANDOMSTART
;	//		ParticleSysBone     = None InfantryDustTrails
	//  End

		AnimationState = MOVING EMOTION_TERROR
			Animation = MovingA
				AnimationName = MUHaradim_RUNC
				AnimationMode = LOOP
			End
			Flags               = RANDOMSTART
;			ParticleSysBone     = None InfantryDustTrails
		End

		AnimationState        = MOVING WANDER
			Animation           = WLKA
				AnimationName     = MUHaradim_WLKA
				AnimationMode     = LOOP
			End
			Animation           = WLKB
				AnimationName     = MUHaradim_WLKB
				AnimationMode     = LOOP
			End
		End

		AnimationState				= MOVING BACKING_UP
			Animation				= BackingUp
				AnimationName		= MUHaradim_BAKA
				AnimationMode		= LOOP
			End
			Animation				= BackingUp
				AnimationName		= MUHaradim_BAKB
				AnimationMode		= LOOP
			End
			Animation				= BackingUp
				AnimationName		= MUHaradim_BAKC
				AnimationMode		= LOOP
			End
			Flags = RANDOMSTART
		End

		AnimationState = MOVING
			Animation = MovingA
				AnimationName = MUHaradim_RUNA
				AnimationMode = LOOP
			End
			Animation = MovingB
				AnimationName = MUHaradim_RUNB
				AnimationMode = LOOP
			End
			Flags               = RANDOMSTART
;			ParticleSysBone     = None InfantryDustTrails
		End


		AnimationState					=	FIRING_OR_PREATTACK_E
			Animation
				AnimationName			=	MUHaradim_ATKA
				AnimationMode			=	ONCE
				AnimationSpeedFactorRange = 2.3 2.3
			End
		End

		AnimationState = FIRING_OR_PREATTACK_C
			Animation = Attacking
				AnimationName = MUHaradim_ATKA
				AnimationMode = LOOP
				UseWeaponTiming		= Yes
				AnimationBlendTime		= 30	;;,;;
			End
			FrameForPristineBonePositions = 64
		End

		AnimationState					= PREATTACK_A ;;,;;
			StateName				= STATE_PreFiring
			Animation				= ReadyToDrawn
				AnimationName			= MUHaradim_ATA1
				AnimationMode			= ONCE
				;UseWeaponTiming	= Yes
				AnimationBlendTime		= 30
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
			EndScript
		End

		AnimationState					= FIRING_OR_RELOADING_A	;;,;;
			StateName				= STATE_Firing
			Animation				= OneFrameOfShooting
				AnimationName			= MUHaradim_ATA2
				AnimationMode			= ONCE
				;UseWeaponTiming	= Yes
				AnimationSpeedFactorRange = 1.2 1.3
				AnimationBlendTime		= 0
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
			EndScript
		End

		AnimationState					= CONTINUOUS_FIRE_MEAN	;;,;;
			StateName				= STATE_Coasting
			Animation				= HangFrameWhileCoasting
				AnimationName			= MUHaradim_ATA2
				AnimationMode			= MANUAL
			End
			Flags						= START_FRAME_LAST
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				if CurDrawablePrevAnimationState() == "STATE_Firing" then CurDrawableAllowToContinue() end
			EndScript
		End

		AnimationState					= CONTINUOUS_FIRE_SLOW	;;,;;
			StateName				= STATE_Idle
			Animation				= PutAwayArrow
				AnimationName			= MUHaradim_ATA3
				AnimationMode			= ONCE
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
			EndScript
		End


;		AnimationState = PASSENGER ;- Can't have this anim state on mumak unless we want to wiggle forever
;			Animation = Wiggling
;				AnimationName = MUHaradim_FLLA
;				AnimationMode = LOOP
;			End
;		End




		AnimationState = WAR_CHANT
			Animation = Chant
				AnimationName = MUHaradim_TNTA
				AnimationMode = LOOP
			End
			Animation = Chant
				AnimationName = MUHaradim_TNTB
				AnimationMode = LOOP
			End
			Animation = Chant
				AnimationName = MUHaradim_TNTC
				AnimationMode = LOOP
			End
		End

		//-emotions--
		AnimationState							= EMOTION_AFRAID
			Animation							= FERA
				AnimationName					= MUHaradim_FERA
				AnimationMode					= LOOP
			End
			Animation							= FERA
				AnimationName					= MUHaradim_FERB
				AnimationMode					= LOOP
			End
			Animation							= FERA
				AnimationName					= MUHaradim_FERC
				AnimationMode					= LOOP
			End
			Flags = RANDOMSTART
		End

		AnimationState							= EMOTION_TAUNTING
			Animation							= TNTA
				AnimationName					= MUHaradim_TNTA
				AnimationMode					= LOOP
			End
			Animation							= TNTA
				AnimationName					= MUHaradim_TNTB
				AnimationMode					= LOOP
			End
			Animation							= TNTA
				AnimationName					= MUHaradim_TNTC
				AnimationMode					= LOOP
			End
		End

		AnimationState							= EMOTION_POINTING
			Animation							= Pointing1A
				AnimationName					= MUHaradim_PNTA
				AnimationMode					= LOOP
			End
		End
		AnimationState							= EMOTION_POINTING
			Animation							= Pointing1B
				AnimationName					= MUHaradim_PNTB
				AnimationMode					= LOOP
			End
		End
		AnimationState							= EMOTION_POINTING
			Animation							= Pointing1C
				AnimationName					= MUHaradim_PNTC
				AnimationMode					= LOOP
			End
		End

		AnimationState							= EMOTION_CELEBRATING
			Animation                           = CHRA
				AnimationName					= MUHaradim_CHRA
				AnimationMode					= ONCE
			End
			Animation                           = CHRA
				AnimationName					= MUHaradim_CHRB
				AnimationMode					= ONCE
			End
			Animation                           = CHRA
				AnimationName					= MUHaradim_CHRC
				AnimationMode					= ONCE
			End
		End
		
	AnimationState							= RAISING_FLAG ;,;
			Animation                           = CHRA
				AnimationName					= MUHaradim_CHRA
				AnimationMode					= ONCE
			End
			Animation                           = CHRA
				AnimationName					= MUHaradim_CHRB
				AnimationMode					= ONCE
			End
			Animation                           = CHRA
				AnimationName					= MUHaradim_CHRC
				AnimationMode					= ONCE
			End
		Flags							= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
	End

		AnimationState				=	SELECTED
			SimilarRestart			=   Yes
			Animation				=	AtAttention
				AnimationName		=	MUHaradim_ATNB
				AnimationMode		=	LOOP
			End
			StateName				= Selected
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Idle" then CurDrawableSetTransitionAnimState("Idle_to_Selected") end
			EndScript
		End

		;------------ TRANSITION ANIMS ----------------

		TransitionState       = Selected_to_Idle
			Animation           = ATNE
				AnimationName		=	MUHaradim_ATNC
				AnimationMode		=	ONCE
				AnimationSpeedFactorRange	= 2.0 2.0
			End
		End

		TransitionState       = Idle_to_Selected
			Animation           = ATND
				AnimationName     = MUHaradim_ATNA
				AnimationMode   =	ONCE
				AnimationSpeedFactorRange	= 2.0 2.0
			End
		End

	End

    #include "..\..\..\includes\StunDrawModuleSmall.inc"


	// ***DESIGN parameters ***
	Side = Angmar
	EditorSorting = UNIT
	ThreatLevel = 1.0
	ThingClass = HORDE_UNIT
	CommandPoints = 3 ;;,;; 0
	BountyValue = 5 ;ANGMAR_RHUDAURSPEAR_BOUNTY_VALUE

	TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT

	WeaponSet
		Conditions = None
		Weapon = PRIMARY HaradLanceThrown
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End

	ArmorSet
		Conditions      = None
		Armor           = TribalJavelinArmor
		DamageFX        = NormalDamageFX
	End

	VisionRange = ANGMAR_RHUDAURSLING_VISION_RANGE
	ShroudClearingRange = SHROUD_CLEAR_STANDARD

	VisionSide = 35%
	VisionRear = 25%

	MaxVisionBonusPercent = 300%
	VisionBonusTestRadius = 200
	VisionBonusPercentPerFoot = 2.0%

	DisplayName = OBJECT:TribalJavelineers
	CrushableLevel = 0  //What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

	CrushRevengeWeapon = RangedInfantryCrushRevenge

	CommandSet = AngmarWildSpearCommandSet



;	// *** AUDIO Parameters ***//

	VoiceAttack			= WarlordVoiceAttack
	VoiceAttackStructure		= WarlordVoiceAttackBuilding
	VoiceAttackMachine		= WarlordVoiceAttack
	VoiceAttackCharge		= WarlordVoiceAttackCharge
;	VoiceCreated			= WarlordVoiceSalute
;	VoiceFullyCreated 		= WarlordVoiceSalute
	VoiceGuard			= WarlordVoiceMove
	VoiceMove			= WarlordVoiceMove
	VoiceMoveWhileAttacking		= WarlordVoiceDisengage
	VoiceMoveToCamp			= WarlordVoiceMoveCamp
	VoicePriority			= 9
	VoiceSelect			= WarlordVoiceSelectMS
	VoiceSelectBattle		= WarlordVoiceSelectBattle
	VoiceRetreatToCastle    = WarlordVoiceRetreat

	SoundImpact			= ImpactHorse

	UnitSpecificSounds
		VoiceGarrison				= WarlordVoiceGarrison
		VoiceEnterUnitEvilMenTransportShip	= WarlordVoiceGarrison
		VoiceInitiateCaptureBuilding		= WarlordVoiceMove
		VoiceEnterUnitMordorMumakil		= WarlordVoiceGarrison
		VoiceEnterUnitSlaughterHouse		= WarlordVoiceGarrison
	End


	CrowdResponseKey = EvilMen2

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
			AnimationSound = Sound:ArrowDrawBow		Animation:MUHARADIM_SKL.MUHARADIM_ATKA	Frames:34
			AnimationSound = Sound:ArrowDrawBow 		Animation:MUHARADIM_SKL.MUHARADIM_ATKB	Frames:34
			AnimationSound = Sound:ArrowDrawBow		Animation:MUHARADIM_SKL.MUHARADIM_ATKC	Frames:34
			AnimationSound = Sound:BodyFallSoldier 		Animation:MUHaraLnc_SKL.MUHaraLnc_LNDA 	Frames:2
			AnimationSound = Sound:BodyFallGeneric1 	Animation:MUHaradim_SKL.MUHaradim_DIEA 	Frames:57
			AnimationSound = Sound:BodyFallGeneric1 	Animation:MUHaradim_SKL.MUHaradim_DIEB 	Frames:78
	End

	ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
		ModelCondition = Required:EMOTION_CELEBRATING	Excluded:DYING ENGAGED	Sound:EmotionHaradrimVoxCheerLoop	;MOVING ATTACKING
		ModelCondition = Required:EMOTION_TAUNTING		Excluded:DYING ENGAGED	Sound:EmotionHaradrimVoxTauntLoop	;MOVING ATTACKING
		ModelCondition = Required:EMOTION_POINTING		Excluded:DYING ENGAGED	Sound:EmotionHaradrimVoxTauntLoop
		ModelCondition = Required:RAISING_FLAG			Excluded:DYING ENGAGED	Sound:EmotionHaradrimVoxTauntLoop
	End

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU	;Tie into LargeGroupAudio system
		Key = Humanoid_Male Man Man_Male Haradrim_Lancer
	End

	// *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER CAN_USE_SIEGE_TOWER SCORE THROWN_OBJECT ARCHER ATTACK_NEEDS_LINE_OF_SIGHT GRAB_AND_DROP
	CamouflageDetectionMultiplier = CAMOUFLAGE_DETECTION_DISTANCE_SHORT


	Body = ActiveBody ModuleTag_02
		MaxHealth         = 135 ; 190 ;125
		MaxHealthDamaged  = 55 ; 75
		BurningDeathBehavior = Yes
		BurningDeathFX		 = FX_InfantryBurningFlame
	End

	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
		MoodAttackCheckRate        = 500
		CanAttackWhileContained		=	Yes
		AILuaEventsList			   =	HaradrimArcherFunctions
		BurningDeathTime			=	BURNINGDEATH_DURATION_INFANTRY
	End

	LocomotorSet
		Locomotor     = HumanLocomotor
		Condition     = SET_NORMAL
		Speed         = NORMAL_FOOT_FAST_MEMBER_SPEED
	End

	LocomotorSet
		Locomotor = BurningDeathLocomotorInfantry
		Condition = SET_BURNINGDEATH
		Speed	  = BURNINGDEATH_WANDERSPEED_INFANTRY
	End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
		ShockStandingTime		= 2066
	End

	Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
		;
		FirstHeight				= 24  ; Height of Bezier control points above highest intervening terrain
		SecondHeight			= 24
		FirstPercentIndent		= 30% ; Percentage of shot distance control points are placed
		SecondPercentIndent		= 70%
		TumbleRandomly			= Yes

		CrushStyle				= Yes ; I don't detonate, I just hit
		DieOnImpact				= Yes
		BounceCount				= 1   ; When I hit the ground, I'll arc again
		BounceDistance			= 40 ; this far
		BounceFirstHeight		= 24  ; Height of Bezier control points above highest intervening terrain
		BounceSecondHeight		= 24
		BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
		BounceSecondPercentIndent = 80%

		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End

	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -FADED -SUICIDED
		SinkDelay = 2000
		SinkRate = 0.50     ; in Dist/Sec
		DestructionDelay = 10000
		Sound = INITIAL HaradrimManEvilGenericVoiceDie
	End

	Behavior = SlowDeathBehavior ModuleTag_SuicideDeath ; Used for "Submit!" so that we can play an FX when the unit is killed
	DeathTypes = NONE +SUICIDED
	SinkDelay = 3000
	SinkRate = 0.60     ; in Dist/Sec
	DestructionDelay	= 10000
;	DeathFlags			= BURNINGDEATH ; DEATH_2
	FX = INITIAL FX_WarlordSubmitDeath
;	Sound = INITIAL SpellGenericUnsummonFasterMS
End

  	Behavior = SlowDeathBehavior ModuleTag_FadeDeath
		DeathTypes = NONE +FADED
		FadeDelay			= 0
		FadeTime			= 3000
		DestructionDelay	= 3000
		DeathFlags			= DEATH_2
		FX = INITIAL     FX_GenericHaradUnsummon ;FX_WildMenUnsummon
		Sound = INITIAL SpellGenericUnsummonFasterMS
	End

	Behavior = SquishCollide ModuleTag_06
		;nothing
	End

	Behavior = HordeMemberCollide ModuleTag_HMC
		;nothing
	End

  	;;; Pillage ;;;
;	Behavior = PillageModule ModuleTag_Test1
;		PillageAmount				= ANGMAR_RHUDAURSPEAR_PILLAGE_AMOUNT
;		NumDamageEventsPerPillage	= ANGMAR_RHUDAURSPEAR_PILLAGE_NUM_DAMAGES
;		PillageFilter				= ANGMAR_RHUDAURSPEAR_PILLAGE_FILTER
;	End





  Geometry = CYLINDER
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight = 19.2
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 19;
  ShadowSizeY = 19;
  ShadowTexture = ShadowI;
End

;------------------------------------------------------------------------------
;
;//These guys are stuck in the barricade can't move and can't be attacked
;
ChildObject HaradTribalJavelineersMumakil HaradTribalJavelineers

	VisionSide	= 100%
	VisionRear	= 100%

	; No SCORE
	KindOf = PRELOAD IMMOBILE UNATTACKABLE CAN_CAST_REFLECTIONS NOT_AUTOACQUIRABLE DRONE ATTACK_NEEDS_LINE_OF_SIGHT HIDE_IF_FOGGED INFANTRY

	LocomotorSet
		Locomotor = FloatingCatapultLocomotor
		Condition = SET_NORMAL
		Speed     = 0
	End
End



;----------------------------------
//------------------------------------------------------------------------------
ChildObject HaradTribalJavelineers_Patrol HaradTribalJavelineers
	// *** ART Parameters ***
	Draw = W3DHordeModelDraw ModuleTag_01
		StaticModelLODMode		= Yes // Will append M or L to the skin name depending on GameLOD
		OkToChangeModelColor	= Yes

		; specify options for static LODs
		LodOptions							= LOW
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_LOW
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_LOW
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_LOW
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_LOW
		End

		LodOptions							= MEDIUM
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_MED
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_MED
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_MED
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_MED
		End

		LodOptions							= HIGH
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_HIGH
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_HIGH
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_HIGH
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_HIGH
		End

		WadingParticleSys = WaterRipplesTrail  ; used when the unit is wading in shallow water.


		DefaultModelConditionState
			Model = hutribarch_skn
			Skeleton = MUHaradim_SKL
			WeaponLaunchBone = PRIMARY ARRROW
			WeaponLaunchBone = TERTIARY ARRROW
			WeaponLaunchBone = QUINARY ARRROW
		End

		IdleAnimationState
			Animation = IDLA
				AnimationName = MUHaradim_IDLA
				AnimationMode = ONCE
	    		AnimationBlendTime = 10
				AnimationPriority = 25
			End
			Animation = IDLB
				AnimationName = MUHaradim_IDLB
				AnimationMode = ONCE
	    		AnimationBlendTime = 10
			End
			Animation = IDLC
				AnimationName = MUHaradim_IDLC
				AnimationMode = ONCE
	    		AnimationBlendTime = 10
			End
			StateName = Idle
			BeginScript
				CurDrawableShowSubObject("arrrow")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Selected" then CurDrawableSetTransitionAnimState("Selected_to_Idle") end
			EndScript
		End

		AnimationState = THROWN_PROJECTILE
			Animation = Thrown
				AnimationName = MUHaradim_FLYA
				AnimationMode = LOOP
			End
			Animation = Thrown
				AnimationName = MUHaradim_FLYB
				AnimationMode = LOOP
			End
			Animation = Thrown
				AnimationName = MUHaradim_FLYC
				AnimationMode = LOOP
			End
		End

		AnimationState = STUNNED_FLAILING
 			Animation = Flying
				AnimationName = MUHaradim_FLYA
				AnimationMode = LOOP
				AnimationSpeedFactorRange	= 0.4 0.6
			End
 			Animation = Flying
				AnimationName = MUHaradim_FLYB
				AnimationMode = LOOP
				AnimationSpeedFactorRange	= 0.4 0.6
			End
 			Animation = Flying
				AnimationName = MUHaradim_FLYC
				AnimationMode = LOOP
				AnimationSpeedFactorRange	= 0.4 0.6
			End
			Flags = RANDOMSTART
		End

		AnimationState			= DYING BURNINGDEATH
			Animation
				AnimationName	= MUHaradim_DIEA
				AnimationMode	= ONCE
				AnimationBlendTime = 10
			End
			Animation
				AnimationName	= MUHaradim_DIEB
				AnimationMode	= ONCE
				AnimationBlendTime = 10
			End
			Animation
				AnimationName	= MUHaradim_DIEC
				AnimationMode	= ONCE
				AnimationBlendTime = 10
			End
		End

		AnimationState = DYING SPLATTED
 				Animation = Splattered_On_Ground
					AnimationName = MUHaradim_LNDA
					AnimationMode = ONCE
				End
				EnteringStateFX = FX_HaradrimHitGround
		End

		AnimationState = DYING AFLAME
			Animation = Flaming_Death_1
				AnimationName = MUHaradim_DIEA
				AnimationMode = ONCE
			End
			Animation = Flaming_Death_2
				AnimationName = MUHaradim_DIEB
				AnimationMode = ONCE
			End
			Animation = Flaming_Death_2
				AnimationName = MUHaradim_DIEC
				AnimationMode = ONCE
			End
			ParticleSysBone     = BAT_HEAD FireBuildingLargeSmoke FollowBone:yes
			ParticleSysBone     = BAT_HEAD FireSmall FollowBone:yes
			ParticleSysBone     = BAT_SPINE1 FireBuildingLargeSmoke FollowBone:yes
			ParticleSysBone     = BAT_SPINE1 FireSmall FollowBone:yes
			ParticleSysBone     = BAT_SPINE2 FireBuildingLargeSmoke FollowBone:yes
			ParticleSysBone     = BAT_SPINE2 FireSmall FollowBone:yes
		End

		AnimationState = DYING
			Animation = Dying_1
				AnimationName = MUHaradim_DIEA
				AnimationMode = ONCE
			End
			Animation = Dying_2
				AnimationName = MUHaradim_DIEB
				AnimationMode = ONCE
			End
			Animation = Dying_2
				AnimationName = MUHaradim_DIEC
				AnimationMode = ONCE
			End
		End

		//DOESN'T EXIST
		//AnimationState = TRANSPORT_MOVING
		//	Animation = wobbling_on_transport
		//		AnimationName = MUHaradim_IDLD
		//	    AnimationMode = LOOP
		//      AnimationBlendTime  = 15
		//	End
		//End

		// --- stunned anims

		AnimationState = STUNNED_STANDING_UP
 				Animation = Standing_Back_Up
					AnimationName = MUHaradim_GTPA
			AnimationMode = ONCE_BACKWARDS
			AnimationSpeedFactorRange = 1.5 1.5
				End
		End


		AnimationState = STUNNED
 				Animation = Splattered_On_Ground
					AnimationName = MUHaradim_LNDA
					AnimationMode = ONCE
				End
				EnteringStateFX = FX_HaradrimHitGround
		End

		AnimationState			= BURNINGDEATH
			Animation
				AnimationName	= MUHaradim_MFDA
				AnimationMode	= LOOP
				Distance		= 30
			End
		End

		AnimationState						= PARALYZED
			Animation
				AnimationName				= MUHaradim_IDLA
				AnimationMode				= LOOP
			End
		End

	; ladder climbing animations
	AnimationState = MOVING CLIMBING BACKING_UP
		Animation = Climbing_Down
			AnimationName = MUHaradim_CLMA
			AnimationMode = LOOP_BACKWARDS
			AnimationSpeedFactorRange = 2.0 2.0
		End
    End

    AnimationState = MOVING CLIMBING
		Animation = Climbing_Up
			AnimationName = MUHaradim_CLMA
			AnimationMode = LOOP
			AnimationSpeedFactorRange = 2.0 2.0
		End
    End

		AnimationState = MOVING ATTACKING
			Animation = MovingA
				AnimationName = MUHaradim_RUNA
				AnimationMode = LOOP
			End
			Animation = MovingB
				AnimationName = MUHaradim_RUNB
				AnimationMode = LOOP
			End
			Flags               = RANDOMSTART
		End

		AnimationState = MOVING DAMAGED AFLAME
			Animation = Moving_Damaged
				AnimationName = MUHaradim_MFDA
				AnimationMode = LOOP
			End
			Flags               = RANDOMSTART
			ParticleSysBone     = BAT_HEAD FireBuildingLargeSmoke FollowBone:yes
			ParticleSysBone     = BAT_HEAD FireSmall FollowBone:yes
			ParticleSysBone     = BAT_SPINE1 FireBuildingLargeSmoke FollowBone:yes
			ParticleSysBone     = BAT_SPINE1 FireSmall FollowBone:yes
			ParticleSysBone     = BAT_SPINE2 FireBuildingLargeSmoke FollowBone:yes
			ParticleSysBone     = BAT_SPINE2 FireSmall FollowBone:yes
		End

		AnimationState = MOVING AFLAME
			Animation = Moving
				AnimationName = MUHaradim_MFDA
				AnimationMode = LOOP
			End
			Flags               = RANDOMSTART
			ParticleSysBone     = BAT_HEAD FireBuildingLargeSmoke FollowBone:yes
			ParticleSysBone     = BAT_HEAD FireSmall FollowBone:yes
			ParticleSysBone     = BAT_SPINE1 FireBuildingLargeSmoke FollowBone:yes
			ParticleSysBone     = BAT_SPINE1 FireSmall FollowBone:yes
			ParticleSysBone     = BAT_SPINE2 FireBuildingLargeSmoke FollowBone:yes
			ParticleSysBone     = BAT_SPINE2 FireSmall FollowBone:yes
		End

	//	AnimationState = MOVING DAMAGED
	//		Animation = Moving_Damaged
	//			AnimationName = MUHaradim_IWKA
	//		    AnimationMode = LOOP
	//		End
	//		Flags               = RANDOMSTART
;	//		ParticleSysBone     = None InfantryDustTrails
	//  End

		AnimationState = MOVING EMOTION_TERROR
			Animation = MovingA
				AnimationName = MUHaradim_RUNC
				AnimationMode = LOOP
			End
			Flags               = RANDOMSTART
;			ParticleSysBone     = None InfantryDustTrails
		End

		AnimationState        = MOVING WANDER
			Animation           = WLKA
				AnimationName     = MUHaradim_WLKA
				AnimationMode     = LOOP
			End
			Animation           = WLKB
				AnimationName     = MUHaradim_WLKB
				AnimationMode     = LOOP
			End
		End

		AnimationState				= MOVING BACKING_UP
			Animation				= BackingUp
				AnimationName		= MUHaradim_BAKA
				AnimationMode		= LOOP
			End
			Animation				= BackingUp
				AnimationName		= MUHaradim_BAKB
				AnimationMode		= LOOP
			End
			Animation				= BackingUp
				AnimationName		= MUHaradim_BAKC
				AnimationMode		= LOOP
			End
			Flags = RANDOMSTART
		End

		AnimationState = MOVING
			Animation = MovingA
				AnimationName = MUHaradim_WLKA
				AnimationMode = LOOP
			End
			Animation = MovingB
				AnimationName = MUHaradim_WLKB
				AnimationMode = LOOP
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
			EndScript
			Flags               = RANDOMSTART
		End


		AnimationState					=	FIRING_OR_PREATTACK_E
			Animation
				AnimationName			=	MUHaradim_ATKA
				AnimationMode			=	ONCE
				AnimationSpeedFactorRange = 2.3 2.3
			End
		End

		AnimationState = FIRING_OR_PREATTACK_C
			Animation = Attacking
				AnimationName = MUHaradim_ATKA
				AnimationMode = LOOP
				UseWeaponTiming		= Yes
				AnimationBlendTime		= 30	;;,;;
			End
			FrameForPristineBonePositions = 64
		End

		AnimationState					= PREATTACK_A ;;,;;
			StateName				= STATE_PreFiring
			Animation				= ReadyToDrawn
				AnimationName			= MUHaradim_ATA1
				AnimationMode			= ONCE
				;UseWeaponTiming	= Yes
				AnimationBlendTime		= 30
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
			EndScript
		End

		AnimationState					= FIRING_OR_RELOADING_A	;;,;;
			StateName				= STATE_Firing
			Animation				= OneFrameOfShooting
				AnimationName			= MUHaradim_ATA2
				AnimationMode			= ONCE
				;UseWeaponTiming	= Yes
				AnimationSpeedFactorRange = 1.2 1.3
				AnimationBlendTime		= 0
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
			EndScript
		End

		AnimationState					= CONTINUOUS_FIRE_MEAN	;;,;;
			StateName				= STATE_Coasting
			Animation				= HangFrameWhileCoasting
				AnimationName			= MUHaradim_ATA2
				AnimationMode			= MANUAL
			End
			Flags						= START_FRAME_LAST
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				if CurDrawablePrevAnimationState() == "STATE_Firing" then CurDrawableAllowToContinue() end
			EndScript
		End

		AnimationState					= CONTINUOUS_FIRE_SLOW	;;,;;
			StateName				= STATE_Idle
			Animation				= PutAwayArrow
				AnimationName			= MUHaradim_ATA3
				AnimationMode			= ONCE
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
			EndScript
		End

		AnimationState = PASSENGER
			Animation = Wiggling
				AnimationName = MUHaradim_FLLA
				AnimationMode = LOOP
			End
		End




		AnimationState = WAR_CHANT
			Animation = Chant
				AnimationName = MUHaradim_TNTA
				AnimationMode = LOOP
			End
			Animation = Chant
				AnimationName = MUHaradim_TNTB
				AnimationMode = LOOP
			End
			Animation = Chant
				AnimationName = MUHaradim_TNTC
				AnimationMode = LOOP
			End
		End

		//-emotions--
		AnimationState							= EMOTION_AFRAID
			Animation							= FERA
				AnimationName					= MUHaradim_FERA
				AnimationMode					= LOOP
			End
			Animation							= FERA
				AnimationName					= MUHaradim_FERB
				AnimationMode					= LOOP
			End
			Animation							= FERA
				AnimationName					= MUHaradim_FERC
				AnimationMode					= LOOP
			End
			Flags = RANDOMSTART
		End

		AnimationState							= EMOTION_TAUNTING
			Animation							= TNTA
				AnimationName					= MUHaradim_TNTA
				AnimationMode					= LOOP
			End
			Animation							= TNTA
				AnimationName					= MUHaradim_TNTB
				AnimationMode					= LOOP
			End
			Animation							= TNTA
				AnimationName					= MUHaradim_TNTC
				AnimationMode					= LOOP
			End
		End

		AnimationState							= EMOTION_POINTING
			Animation							= Pointing1A
				AnimationName					= MUHaradim_PNTA
				AnimationMode					= LOOP
			End
		End
		AnimationState							= EMOTION_POINTING
			Animation							= Pointing1B
				AnimationName					= MUHaradim_PNTB
				AnimationMode					= LOOP
			End
		End
		AnimationState							= EMOTION_POINTING
			Animation							= Pointing1C
				AnimationName					= MUHaradim_PNTC
				AnimationMode					= LOOP
			End
		End

		AnimationState							= EMOTION_CELEBRATING
			Animation                           = CHRA
				AnimationName					= MUHaradim_CHRA
				AnimationMode					= ONCE
			End
			Animation                           = CHRA
				AnimationName					= MUHaradim_CHRB
				AnimationMode					= ONCE
			End
			Animation                           = CHRA
				AnimationName					= MUHaradim_CHRC
				AnimationMode					= ONCE
			End
		End

		AnimationState				=	SELECTED
			SimilarRestart			=   Yes
			Animation				=	AtAttention
				AnimationName		=	MUHaradim_ATNB
				AnimationMode		=	LOOP
			End
			StateName				= Selected
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Idle" then CurDrawableSetTransitionAnimState("Idle_to_Selected") end
			EndScript
		End

		;------------ TRANSITION ANIMS ----------------

		TransitionState       = Selected_to_Idle
			Animation           = ATNE
				AnimationName		=	MUHaradim_ATNC
				AnimationMode		=	ONCE
				AnimationSpeedFactorRange	= 2.0 2.0
			End
		End

		TransitionState       = Idle_to_Selected
			Animation           = ATND
				AnimationName     = MUHaradim_ATNA
				AnimationMode   =	ONCE
				AnimationSpeedFactorRange	= 2.0 2.0
			End
		End

	End
	CommandPoints = 0
	EquivalentTo = HaradTribalJavelineers


	Behavior = SlavedUpdate ModuleTag_Slave
		GuardMaxRange		= 200.0
		GuardWanderRange	= 100.0
		DieOnMastersDeath		= Yes
		MarkUnselectable		= Yes
	End
	
	Body = ActiveBody ModuleTag_02
		CheerRadius 	  = EMOTION_CHEER_RADIUS
		MaxHealth         = PATROL_WEAK_HEALTH
		BurningDeathBehavior = Yes
		BurningDeathFX       = FX_InfantryBurningFlame
	End
	
	ArmorSet
		Conditions      = None
		Armor           = PatrolArmor
		DamageFX        = NormalDamageFX
	End
	ArmorSet
		Conditions      = PLAYER_UPGRADE
		Armor           = PatrolArmor
		DamageFX        = NormalDamageFX
	End
	
	WeaponSet
		Conditions = None
		Weapon = PRIMARY HaradLanceThrown_p
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End		
	
	VisionRange = PATROL_RANGE_VISION_RANGE
	VisionSide = 35%
	VisionRear = 25%
	VisionBonusPercentPerFoot = 5.0%
	ShroudClearingRange = PATROL_SHROUD_CLEARING_RANGE

	Behavior = ArmorUpgrade ModuleTag_ArmorUpgrade
		TriggeredBy = Upgrade_TechnologyRohanHeavyArmor
		ArmorSetFlag			= PLAYER_UPGRADE
	End

  	Behavior = SubObjectsUpgrade Armor_Upgrade
  		TriggeredBy		= Upgrade_TechnologyRohanHeavyArmor
  		UpgradeTexture	= rugenericrohan01.tga 0 rugenericrohan01HA.tga
  		ShowSubObjects	= ARMOR
 		RecolorHouse	= Yes
		ExcludeSubobjects = FireArowTip
  	End

	LocomotorSet
		Locomotor = PatrolLocomotor
		Condition = SET_NORMAL
		Speed     = 16
	End
	LocomotorSet
		Locomotor = HumanWanderLocomotor
		Condition = SET_WANDER
		Speed     = 16
	End
	LocomotorSet
		Locomotor = BurningDeathLocomotorInfantry
		Condition = SET_BURNINGDEATH
		Speed	  = BURNINGDEATH_WANDERSPEED_INFANTRY
	End
End

ChildObject HaradTribalJavelineers_Summoned HaradTribalJavelineers
	IsTrainable = No
	CommandPoints = 0
	KindOf	= +SUMMONED ;;,;;

	; *** AUDIO Parameters ***;

	VoiceAttack				= HaradrimVoiceAttack ;,; HaradrimVoiceAttack
	VoiceAttackAir				= HaradrimVoiceAttack ;,; HaradrimVoiceAttack
	VoiceAttackCharge			= HaradrimVoiceAttack ;,; HaradrimVoiceAttackCharge
	VoiceAttackMachine			= HaradrimVoiceAttack ;,; HaradrimVoiceAttack
	VoiceAttackStructure			= HaradrimVoiceAttack ;,; HaradrimVoiceAttackBuilding
	VoiceCreated				= EVA:HaradrimCreated ;,; CampOrcCreateHaradrim
	VoiceFullyCreated 			= EVA:HaradrimCreated ;,; CampOrcCreateHaradrim
	VoiceGuard				= HaradrimVoiceMove ;,; HaradrimVoiceMove
	VoiceMove				= HaradrimVoiceMove ;,; HaradrimVoiceMove
	VoiceMoveToCamp				= HaradrimVoiceMove ;,; HaradrimVoiceMoveCamp
	VoicePriority				= 34
	VoiceRetreatToCastle			= HaradrimVoiceMove ;,; HaradrimVoiceRetreat
	VoiceSelect				= HaradrimVoiceSelect ;,; HaradrimVoiceSelectMS
	VoiceSelectBattle 			= HaradrimVoiceSelectBattle ;,; HaradrimVoiceSelectBattle

	VoiceEnterStateAttack			= HaradrimVoiceEnterStateAttack ;,; HaradrimVoiceEnterStateAttack
	VoiceEnterStateAttackCharge		= HaradrimVoiceEnterStateAttack ;,; HaradrimVoiceEnterStateAttackCharge
	VoiceEnterStateAttackMachine		= HaradrimVoiceEnterStateAttack ;,; HaradrimVoiceEnterStateAttackBuilding
	VoiceEnterStateAttackStructure		= HaradrimVoiceEnterStateAttack ;,; HaradrimVoiceEnterStateAttackBuilding
	VoiceEnterStateMove			= HaradrimVoiceEnterStateMove ;,; HaradrimVoiceEnterStateMove
	VoiceEnterStateMoveToCamp		= HaradrimVoiceEnterStateMove ;,; HaradrimVoiceEnterStateMoveCamp
	VoiceEnterStateRetreatToCastle		= HaradrimVoiceEnterStateMove ;,; HaradrimVoiceEnterStateRetreat

	SoundImpact							= ImpactHorse						;UrukDie

	UnitSpecificSounds
		VoiceEnter				= HaradrimVoiceMove ;,; HaradrimVoiceGarrison
		VoiceEnterHostile			= HaradrimVoiceMove ;,; HaradrimVoiceGarrison
		VoiceGarrison			= HaradrimVoiceMove ;,; HaradrimVoiceGarrison
		VoiceEnterUnitMordorMumakil	= HaradrimVoiceMove ;,; HaradrimVoiceGarrisonMumakil
        VoiceInitiateCaptureBuilding	= HaradrimVoiceMove ;,;

        VoiceEnterStateInitiateCaptureBuilding	= HaradrimVoiceEnterStateMove ;,;
	End

	Behavior = LifetimeUpdate ModuleTag_LifetimeUpdate
	// This one does the work, but the one in the horde displays the timer
		MinLifetime		= 120000 ;;,;; CREATE_A_HERO_REINFORCEMENT_LIFETIME
		MaxLifetime		= 120000 ;;,;; CREATE_A_HERO_REINFORCEMENT_LIFETIME
		DeathType		= FADED
	End
	Behavior = SlowDeathBehavior ModuleTag_FadeDeath ;;,;; Added for 2.1 - now Orcs will fade properly when duration expires
		DeathTypes		= NONE +FADED
		FadeDelay		= 0
		FadeTime		= 5000
		DestructionDelay	= 5000
        DeathFlags			= DEATH_2
		FX					= INITIAL FX_GenericHaradUnsummon
		Sound = INITIAL SpellGenericUnsummonFasterMS
	End
End


;------------------------------------
ChildObject HaradTribalJavelineers_SlavedForLookout HaradTribalJavelineers

  Draw = W3DHordeModelDraw ModuleTag_01

	OkToChangeModelColor = Yes		
	StaticModelLODMode = Yes 
	
    DefaultModelConditionState
      Model = hutribjav_skn
      WeaponLaunchBone = PRIMARY LANCEBONE
    End	

	IdleAnimationState
		StateName				=	Idle
		Animation = IDLC
			AnimationName = MUHaraLnc_SKL.MUHaraLnc_IDLC
			AnimationMode = ONCE
			AnimationPriority = 25
			AnimationBlendTime	=	15
		End
		
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Selected"  then CurDrawableSetTransitionAnimState("TRANS_Selected_to_Idle") return end
			if Prev == "STATE_Emotion"; or Prev == "CloseRange" or Prev == "FarRange"
			then
				CurDrawableAllowToContinue();
			end
			CurDrawableSetTransitionAnimState("TRANS_Selected_NoHitch")		
		EndScript
		StateName = Idle
	End
 
	;-- CONTAINED ANIMATIONS
	ModelConditionState = WEAPONSTATE_CONTAINED
		Model = MUHaradim_SKN
		WeaponLaunchBone = PRIMARY ARRROW
	End

	AnimationState					=	FIRING_OR_PREATTACK_A AIM_HIGH WEAPONSTATE_CONTAINED
		Animation					=	ATKB
			AnimationName			=	MUHaradim_SKL.MUHaradim_ATKC 
			AnimationMode			=	ONCE
			UseWeaponTiming			=	Yes
		End
	End

	AnimationState					=	FIRING_OR_PREATTACK_A AIM_LOW WEAPONSTATE_CONTAINED
		Animation					=	ATKC
			AnimationName			=	MUHaradim_SKL.MUHaradim_ATKB
			AnimationMode			=	ONCE
			UseWeaponTiming			=	Yes
		End
	End
	
	AnimationState = FIRING_OR_PREATTACK_A WEAPONSTATE_CONTAINED
 		Animation = Attacking
			AnimationName = MUHaradim_SKL.MUHaradim_ATKA
			AnimationMode = ONCE
			UseWeaponTiming		= Yes
		End
		FrameForPristineBonePositions = 64
	End

	AnimationState = AFLAME WEAPONSTATE_CONTAINED
		Animation = Flaming_Death
			AnimationName = MUHaradim_SKL.MUHaradim_FLLA
			AnimationMode = LOOP
		End
		ParticleSysBone     = BAT_HEAD FireBuildingLargeSmoke FollowBone:yes
		ParticleSysBone     = BAT_HEAD FireSmall FollowBone:yes
		ParticleSysBone     = BAT_SPINE1 FireBuildingLargeSmoke FollowBone:yes
		ParticleSysBone     = BAT_SPINE1 FireSmall FollowBone:yes
		ParticleSysBone     = BAT_SPINE2 FireBuildingLargeSmoke FollowBone:yes
		ParticleSysBone     = BAT_SPINE2 FireSmall FollowBone:yes
	End

	AnimationState = WEAPONSTATE_CONTAINED
		Animation = IDLA
			AnimationName = MUHaradim_SKL.MUHaradim_IDLA
			AnimationMode = ONCE
	    	AnimationBlendTime = 10
			AnimationPriority = 25
		End
		Animation = IDLB
			AnimationName = MUHaradim_SKL.MUHaradim_IDLB
			AnimationMode = ONCE
	    	AnimationBlendTime = 10
		End
		Animation = IDLC
			AnimationName = MUHaradim_SKL.MUHaradim_IDLC
			AnimationMode = ONCE
	    	AnimationBlendTime = 10
		End
		Flags =	RESTART_ANIM_WHEN_COMPLETE	
		StateName = Idle
		BeginScript
			CurDrawableShowSubObject("arrrow")
		EndScript
	End

	;-- ON THE GROUND ANIMATIONS
	
	AnimationState = THROWN_PROJECTILE
			Animation = Thrown
	      AnimationName = MUHaraLnc_SKL.MUHaraLnc_FLYA
		    AnimationMode = LOOP
			End
    End
	
	AnimationState				= PASSENGER FREEFALL
		Animation				= Wiggling
			AnimationName		= MUHaraLnc_SKL.MUHaraLnc_FLLA
		    AnimationMode		= LOOP
		End
		EnteringStateFX			= FX_ThrownRockPickUp
	 End
	 
	 AnimationState						= FREEFALL
		Animation						= Falling
			AnimationName				= MUHaraLnc_SKL.MUHaraLnc_FLYA
			AnimationMode				= LOOP
			AnimationBlendTime			= 10
			AnimationSpeedFactorRange	= 0.4	0.4
		End
	End
	
	; --- stunned anims
    AnimationState				= STUNNED_FLAILING
		Animation				= Flying
			AnimationName		= MUHaraLnc_SKL.MUHaraLnc_FLYA
			AnimationMode		= LOOP
		End
    End
	
	AnimationState = DYING SPLATTED
 		Animation = Splattered_On_Ground
			AnimationName = MUHaraLnc_SKL.MUHaraLnc_LNDA
			AnimationMode = ONCE
		End
		EnteringStateFX = FX_HaradrimHitGround
    End
	
	AnimationState			= DYING STUNNED_FLAILING
 		Animation			= Flying
			AnimationName	= MUHaraLnc_SKL.MUHaraLnc_FLYA
			AnimationMode	= LOOP
		End
    End  

    AnimationState = DYING AFLAME
		Animation = Flaming_Death
			AnimationName = MUHaraLnc_SKL.MUHaraLnc_DIEA
			AnimationMode = ONCE
		End
		ParticleSysBone     = BAT_HEAD FireBuildingLargeSmoke FollowBone:yes
		ParticleSysBone     = BAT_HEAD FireSmall FollowBone:yes
		ParticleSysBone     = BAT_SPINE1 FireBuildingLargeSmoke FollowBone:yes
		ParticleSysBone     = BAT_SPINE1 FireSmall FollowBone:yes
		ParticleSysBone     = BAT_SPINE2 FireBuildingLargeSmoke FollowBone:yes
		ParticleSysBone     = BAT_SPINE2 FireSmall FollowBone:yes
    End

    AnimationState = AFLAME
		Animation = Flaming_Death
			AnimationName = MUHaraLnc_SKL.MUHaraLnc_FLLA
			AnimationMode = LOOP
		End
		ParticleSysBone     = BAT_HEAD FireBuildingLargeSmoke FollowBone:yes
		ParticleSysBone     = BAT_HEAD FireSmall FollowBone:yes
		ParticleSysBone     = BAT_SPINE1 FireBuildingLargeSmoke FollowBone:yes
		ParticleSysBone     = BAT_SPINE1 FireSmall FollowBone:yes
		ParticleSysBone     = BAT_SPINE2 FireBuildingLargeSmoke FollowBone:yes
		ParticleSysBone     = BAT_SPINE2 FireSmall FollowBone:yes
    End

    AnimationState = DYING
		StateName			= STATE_Dying
		Animation = dead
			AnimationName = MUHaraLnc_SKL.MUHaraLnc_DIEA
			AnimationMode = MANUAL
		End
		Animation = dead_landed
			AnimationName = MUHaraLnc_SKL.MUHaraLnc_LNDA
			AnimationMode = MANUAL
		End
		Flags = START_FRAME_LAST
		BeginScript
			CurDrawableShowSubObject("LANCE")
			Prev = CurDrawablePrevAnimation()
			if Prev == "DyingTrans"
			then
				return "dead"
			elseif Prev == "Flying"
			then
				CurDrawableSetTransitionAnimState("DIE_LAND")
			elseif Prev == "Die_Land"
			then
				return "dead_landed"
			end
			
			CurDrawableSetTransitionAnimState("DIE_TRANSITION")
			
		EndScript
    End
    
    TransitionState = DIE_TRANSITION
   		Animation = DyingTrans
			AnimationName = MUHaraLnc_SKL.MUHaraLnc_DIEA
			AnimationMode = ONCE
		End
	End
	
	TransitionState = DIE_LAND
   		Animation = Die_Land
			AnimationName = MUHaraLnc_SKL.MUHaraLnc_LNDA
			AnimationMode = ONCE
		End
	End

	AnimationState				= MOVING CLIMBING
		Animation				= Climbing
			AnimationName		= MUHaraLnc_SKL.MUHaraLnc_CLMA
			AnimationMode		= LOOP
		End
    End
    
    AnimationState				= MOVING DAMAGED AFLAME
		ShareAnimation			= Yes
		Animation				= Moving_Damaged
			AnimationName		= MUHaraLnc_SKL.MUHaraLnc_RUNA
		    AnimationMode		= LOOP
		End
		ParticleSysBone			= BAT_HEAD FireBuildingLargeSmoke FollowBone:yes
		ParticleSysBone			= BAT_HEAD FireSmall FollowBone:yes
		ParticleSysBone			= BAT_SPINE1 FireBuildingLargeSmoke FollowBone:yes
		ParticleSysBone			= BAT_SPINE1 FireSmall FollowBone:yes
		ParticleSysBone			= BAT_SPINE2 FireBuildingLargeSmoke FollowBone:yes
		ParticleSysBone			= BAT_SPINE2 FireSmall FollowBone:yes
    End

    AnimationState				= MOVING AFLAME
		ShareAnimation			= Yes
		Animation				= Moving
			AnimationName		= MUHaraLnc_SKL.MUHaraLnc_RUNA
			AnimationMode		= LOOP
		End
		ParticleSysBone			= BAT_HEAD FireBuildingLargeSmoke FollowBone:yes
		ParticleSysBone			= BAT_HEAD FireSmall FollowBone:yes
		ParticleSysBone			= BAT_SPINE1 FireBuildingLargeSmoke FollowBone:yes
		ParticleSysBone			= BAT_SPINE1 FireSmall FollowBone:yes
		ParticleSysBone			= BAT_SPINE2 FireBuildingLargeSmoke FollowBone:yes
		ParticleSysBone			= BAT_SPINE2 FireSmall FollowBone:yes
    End
    
    AnimationState				= MOVING PANICKING
		ShareAnimation			= Yes
		Animation				= RUNM
			AnimationName		= MUHaraLnc_SKL.MUHaraLnc_MFDA
			AnimationMode		= LOOP
		End
	End
		
	AnimationState				= MOVING BACKING_UP
		ShareAnimation			= Yes
		Animation				= BackingUp
			AnimationName		= MUHaraLnc_SKL.MUHaraLnc_BAKA
			AnimationMode		= LOOP
		End
	End
	
	AnimationState				= MOVING EMOTION_TERROR
		ShareAnimation			= Yes
		Animation				= Moving
		    AnimationName		= MUHaraLnc_SKL.MUHaraLnc_RUNA
			AnimationMode		= LOOP
		End
;		ParticleSysBone			= None InfantryDustTrails
    End

    AnimationState				= MOVING
		ShareAnimation			= Yes
		Animation				= Moving
		    AnimationName		= MUHaraLnc_SKL.MUHaraLnc_RUNA
			AnimationMode		= LOOP
			AnimationSpeedFactorRange = 0.8 1.2
		End
;		ParticleSysBone			= None InfantryDustTrails
    End
    
    AnimationState				= PASSENGER
		Animation				= Wiggling
			AnimationName		= MUHaraLnc_SKL.MUHaraLnc_FLLA
		    AnimationMode		= LOOP
		End
		EnteringStateFX			= FX_ThrownRockPickUp
	 End

    AnimationState				= TRANSPORT_MOVING
		Animation				= wobbling_on_transport
			AnimationName		= MUHaraLnc_SKL.MUHaraLnc_IDLC
		    AnimationMode		= LOOP
		End
    End

    AnimationState				= STUNNED_STANDING_UP
 		Animation				= Standing_Back_Up
			AnimationName		= MUHaraLnc_SKL.MUHaraLnc_GTPA
			AnimationMode		= ONCE
			AnimationSpeedFactorRange = 1.5 1.5
		End
    End
    
    AnimationState				= STUNNED
 		Animation				= Splattered_On_Ground
			AnimationName		= MUHaraLnc_SKL.MUHaraLnc_LNDA
			AnimationMode		= ONCE
		End
		EnteringStateFX = FX_HaradrimHitGround
    End

	;AnimationState							= RELOADING_A
	;	StateName							= STATE_Ready
	;	Animation							= ALERT
	;		AnimationName					= MUHaraLnc_SKL.MUHaraLnc_IDLA
	;		AnimationMode					= LOOP
	;		AnimationBlendTime				= 0
	;	End
	;	BeginScript
	;		CurDrawableAllowToContinue()
	;	EndScript
	;End
	
	AnimationState = FIRING_OR_PREATTACK_A WEAPONSTATE_CLOSE_RANGE
		Animation = CloseAttack
			AnimationName			= MUHaraLnc_SKL.MUHaraLnc_ATKA
			AnimationMode			= ONCE
			UseWeaponTiming			= Yes
		End
	End
 
	AnimationState = FIRING_OR_PREATTACK_A
		StateName = FarRange
		Animation = FarAttack
			AnimationName = MUHaraLnc_SKL.uutrapper_atkb
			AnimationMode = ONCE
		End
	End    

    ; --- emotion animations --- ;
		
	AnimationState = WAR_CHANT
		Animation				= Chant
			AnimationName		= MUHaraLnc_SKL.MUHaraLnc_TNTA
			AnimationMode		= ONCE
		End
		Animation				= A
			AnimationName		= MUHaraLnc_SKL.MUHaraLnc_TNTA
			AnimationMode		= ONCE
		End
		Flags					= RESTART_ANIM_WHEN_COMPLETE
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Emotion"
			then
				CurDrawableAllowToContinue();
			end
		EndScript
	End
	
	AnimationState							= EMOTION_UNCONTROLLABLY_AFRAID
		ShareAnimation						= Yes
		StateName							= STATE_Emotion
		Animation							= FERA
			AnimationName					= MUHaraLnc_SKL.MUHaraLnc_FERA
			AnimationMode					= ONCE
		End
		Animation							= A
			AnimationName					= MUHaraLnc_SKL.MUHaraLnc_FERA
			AnimationMode					= ONCE
		End
		Flags								= RESTART_ANIM_WHEN_COMPLETE
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Emotion"
			then
				CurDrawableAllowToContinue();
			end
		EndScript
	End		
	
	AnimationState = ATTACKING
		Animation = IdleAllAttacksComeFrom
			AnimationName = MUHaraLnc_SKL.MUHaraLnc_IDLA
			AnimationMode = LOOP
		End
	End
    
	AnimationState							= EMOTION_AFRAID
		ShareAnimation						= Yes
		StateName							= STATE_Emotion
		Animation							= FERA
			AnimationName					= MUHaraLnc_SKL.MUHaraLnc_FERA
			AnimationMode					= ONCE
		End
		Animation							= A
			AnimationName					= MUHaraLnc_SKL.MUHaraLnc_FERA
			AnimationMode					= ONCE
		End
		Flags								= RESTART_ANIM_WHEN_COMPLETE
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Emotion"
			then
				CurDrawableAllowToContinue();
			end
		EndScript
	End		
	
	AnimationState							= EMOTION_TAUNTING
		StateName							= STATE_Emotion
		Animation							= TNTA
			AnimationName					= MUHaraLnc_SKL.MUHaraLnc_TNTA
			AnimationMode					= ONCE
		End
		Animation							= A
			AnimationName					= MUHaraLnc_SKL.MUHaraLnc_TNTA
			AnimationMode					= ONCE
		End
		Flags								= RESTART_ANIM_WHEN_COMPLETE
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Emotion"
			then
				CurDrawableAllowToContinue();
			end
		EndScript
	End
	
	AnimationState							= EMOTION_POINTING
		StateName							= STATE_Emotion
		Animation							= Pointing1
			AnimationName					= MUHaraLnc_SKL.MUHaraLnc_PNTA
			AnimationMode					= ONCE
		End
		Animation							= A
			AnimationName					= MUHaraLnc_SKL.MUHaraLnc_PNTA
			AnimationMode					= ONCE
		End
		Flags								= RESTART_ANIM_WHEN_COMPLETE
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Emotion"
			then
				CurDrawableAllowToContinue();
			end
		EndScript
	End
	
	AnimationState							= EMOTION_CELEBRATING
		StateName							= STATE_Emotion
		Animation							= CHRA
			AnimationName					= MUHaraLnc_SKL.MUHaraLnc_CHRA
			AnimationMode					= ONCE
			AnimationPriority				= 10
		End
		Animation							= CHRB
			AnimationName					= MUHaraLnc_SKL.MUHaraLnc_CHRA
			AnimationMode					= ONCE
			AnimationPriority				= 10
		End
		Flags								= RESTART_ANIM_WHEN_COMPLETE	
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Emotion"
			then
				CurDrawableAllowToContinue();
			end
		EndScript
	End
	
	AnimationState							= EMOTION_ALERT
		StateName							= STATE_Emotion
		Animation							= ALERT
			AnimationName					= MUHaraLnc_SKL.MUHaraLnc_IDLA
			AnimationMode					= ONCE
		End
		Animation							= A
			AnimationName					= MUHaraLnc_SKL.MUHaraLnc_IDLA
			AnimationMode					= ONCE
		End
		Flags								= RESTART_ANIM_WHEN_COMPLETE
		BeginScript
			Prev = CurDrawablePrevAnimationState()			
			if Prev == "STATE_Emotion"
			then
				CurDrawableAllowToContinue();
			end		
		EndScript
	End
	
	    ; --- hit reactions
    AnimationState = HIT_REACTION HIT_LEVEL_1
		Animation = GotHit
			AnimationName = MUHaraLnc_SKL.MUHaraLnc_HITA
			AnimationMode = ONCE
		End
    End    

			
	AnimationState							= SELECTED
		StateName							= STATE_Selected
		SimilarRestart						= Yes
		Animation							= AtAttention
			AnimationName					= MUHaraLnc_SKL.MUHaraLnc_ATNB
			AnimationMode					= LOOP
		End
		Animation							= BIG_BLEND_Selected
			AnimationName					= MUHaraLnc_SKL.MUHaraLnc_ATNB
			AnimationMode					= LOOP
			AnimationBlendTime				= 20
		End
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			CurDrawableShowSubObject("LANCE")
			if Prev == "Idle"  then CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") return end
			if Prev == "STATE_Emotion"; or Prev == "CloseRange" or Prev == "FarRange"
			then
				CurDrawableAllowToContinue();
			end
			if Prev == "GotHit"
			then
				return "BIG_BLEND_Selected"
			end
			return "AtAttention"
		EndScript
	End
	
		TransitionState					=	TRANS_Idle_to_Selected
			Animation					=	ATNA
				AnimationName			=	MUHaraLnc_SKL.MUHaraLnc_ATNA
				AnimationMode			=	ONCE
			End
		End
		
		TransitionState					=	TRANS_Selected_to_Idle
			Animation					=	ATNA
				AnimationName			=	MUHaraLnc_SKL.MUHaraLnc_ATNC
				AnimationMode			=	ONCE
			End
		End
	
	
  End
  
	; make sure we can see all round.
	VisionSide			= 100%
	VisionRear			= 100%
	ShroudClearingRange	= 0
	ShockwaveResistance	= SHOCKWAVE_RESISTANCE_ALWAYS

	VoiceCreated					= NoVoice
	VoiceFullyCreated 				= NoVoice
	
	; Behavior = AIUpdateInterface ModuleTag_03
		; ;AutoAcquireEnemiesWhenIdle	= Yes ATTACK_BUILDINGS
		; AutoAcquireEnemiesWhenIdle	= Yes 
		; CanAttackWhileContained		= Yes
		; MaxCowerTime				= 5000
		; MinCowerTime				= 3000
		; AttackPriority				= 	AttackPriority_ARCHER
		; AILuaEventsList				=	HaradrimArcherFunctions		
		; BurningDeathTime			=	BURNINGDEATH_DURATION_INFANTRY
	; End
	
	LocomotorSet
		Locomotor   = FloatingHumanLocomotor
		Condition   = SET_NORMAL
		Speed       = 0
	End


	WeaponSet
		Conditions 	= None 
		Weapon 		= PRIMARY    MordorLanceThrown_Lookout ;HaradrimBow_New
		Weapon 		= TERTIARY   MordorLanceThrown_Lookout ;HaradrimBow_New
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
		AutoChooseSources = TERTIARY FROM_PLAYER FROM_SCRIPT			; Not from AI.
	End
	
	

;	;------------- Fire arrow upgrade ----------------
;	Behavior 		= WeaponSetUpgrade ModuleTag_Fire
;		TriggeredBy 	= Upgrade_TechnologyGuldurFireArrows
;	End
;
;  	Behavior 		= SubObjectsUpgrade FireArrows_Upgrade
;  		TriggeredBy	= Upgrade_TechnologyGuldurFireArrows
;  		ShowSubObjects	= ARROWFIRE
;  		HideSubObjects	= arrrow			; yes, it's a typo.
;  	End

	;//These guys are stuck in the barricade can't move and can't be attacked
	KindOf =  UNATTACKABLE NOT_AUTOACQUIRABLE
	
	;VoiceCreated							= GondorSoldierVoiceDesperateCharge
	;VoiceFullyCreated 						= GondorSoldierVoiceDesperateCharge

	Behavior = SlavedUpdate ModuleTag_Slave
		GuardMaxRange		= 0
		GuardWanderRange	= 0
		UseSlaverAsControlForEvaObjectSightedEvents = No ; Not a creep
		DieOnMastersDeath	= Yes
		MarkUnselectable	= No
	End
	
	Behavior = SlowDeathBehavior ModuleTag_05				; overriden to be faster, so we fall with the barricade rubble.
		DeathTypes			= ALL -KNOCKBACK
		SinkDelay			= 10
		SinkRate			= 1.50							; in Dist/Sec
		DestructionDelay	= 10000
		Sound				= INITIAL HaradrimManEvilGenericVoiceDie
	End
End