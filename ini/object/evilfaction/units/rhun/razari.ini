Object RhunRazari
	SelectPortrait = uprazari
	ButtonImage = uirazari
	Scale = 0.9
	DescriptionStrategic = CONTROLBAR:LW_ToolTip_Gandalf
	Draw = W3DScriptedModelDraw ModuleTag_W3DModelDrawInWorldBuilder
			  OkToChangeModelColor = Yes
		DefaultModelConditionState
			Model = None
		End
		ModelConditionState = WORLD_BUILDER
			Model = gugandalfn_skna
		End
	End
	Draw = W3DScriptedModelDraw ModuleTag_01
		GlowEnabled = No
		GlowEmissive = No
		OkToChangeModelColor = Yes
		StaticModelLODMode = No
		ExtraPublicBone = STAFF
		ExtraPublicBone = B_SWORDBONE
		ExtraPublicBone = PASSENGERBONE
		DependencySharedModelFlags = TURN_LEFT_HIGH_SPEED TURN_RIGHT_HIGH_SPEED MOVING ACCELERATE DECELERATE TURN_LEFT TURN_RIGHT ATTACKING BACKING_UP
		DefaultModelConditionState
			Model               = muraz_skn
			WeaponLaunchBone    = TERTIARY STAFF
		End
		ModelConditionState = WORLD_BUILDER
			Model = None
		End
		ModelConditionState = RIDER7
			Model               = muraz_skn
			ParticleSysBone  = STAFF_LIGHT FellOmenFlame FollowBone:Yes ;CampFireSmoke
		;	ParticleSysBone  = STAFF WokenFireEmbers FollowBone:Yes ;CampFireSmoke
		End
		IdleAnimationState
			StateName = Idle
			Animation = Foot_IDLB
				AnimationName       = GUGandalfG_SKL.gugandalfN_idlb
				AnimationMode       = ONCE
				AnimationPriority   = 20
			End
			Animation = Foot_IDLC
				AnimationName       = GUGandalfG_SKL.gugandalfN_idlc
				AnimationMode       = ONCE
				AnimationPriority   = 2
			End
			; Animation = Foot_IDLD
				; AnimationName       = GUGandalfG_SKL.GUGandalfG_IDLD
				; AnimationMode       = ONCE
				; AnimationPriority   = 1
			; End
			; Animation = Foot_IDLE
				; AnimationName       = GUGandalfG_SKL.GUGandalfG_IDLE
				; AnimationMode       = ONCE
				; AnimationPriority   = 2
			; End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Selected" then CurDrawableSetTransitionAnimState("TRANS_Selected_To_Idle") end
				CurDrawableHideSubObject("STAFF_LIGHT")
			EndScript
		End
		
		AnimationState      = STUNNED_FLAILING
			Animation = StunnedFlail
				AnimationName         = GUGandalfG_SKL.GUGandalfG_FLYA
				AnimationMode     = LOOP
			End
		End
		AnimationState      = DYING SPLATTED
			Animation = Stunned
				AnimationName         = GUGandalfG_SKL.GUGandalfG_LNDA
				AnimationMode     = ONCE
			End
		End
		AnimationState        = DYING AFLAME
			Animation = DieAflame
				AnimationName           = GUGandalfG_SKL.GUGandalfG_MFDA
				AnimationMode       = LOOP
			End
		End
		AnimationState        = DYING
			Animation = Die
				AnimationName           = GUGandalfG_SKL.GUGandalfG_DIEB
				AnimationMode       = ONCE
			End
		End
		AnimationState        = STUNNED_STANDING_UP
			Animation           = GUGandalfG_GTPA
				AnimationName     = GUGandalfG_SKL.GUGandalfG_GTPA
				AnimationMode     = ONCE
			End
		End
		AnimationState      = STUNNED
			Animation = Stunned
				AnimationName         = GUGandalfG_SKL.GUGandalfG_LNDA
				AnimationMode     = ONCE
			End
		End
		AnimationState						= PARALYZED
			Animation
				AnimationName				= GUGandalfG_SKL.gugandalfN_idlb
				AnimationMode				= LOOP
			End
		End
		AnimationState        =  PASSENGER EATING
			StateName = BeingEaten
			Animation
				AnimationName           = GUGandalfG_SKL.GUGandalfG_EATA
				AnimationMode       = ONCE
				AnimationBlendTime	=	4
			End
		End
		AnimationState        =  PASSENGER
		StateName = BeingEaten
			Animation
				AnimationName           = GUGandalfG_SKL.GUGandalfG_FLLA
				AnimationMode       = LOOP
				AnimationBlendTime	=	4
			End
		End
	
		AnimationState        =  SPECIAL_WEAPON_ONE
			StateName = Attacking
			Animation
				AnimationName           = GUGandalfG_SKL.GUGandalfG_SPCK
				AnimationMode       = ONCE
			End
			FXEvent			= Frame:5 Name:FX_RazariManifestTerrorPreAttack
		;	ParticleSysBone = STAFF_LIGHT Necro_WellOfSouls_Cast FollowBone:Yes
			ParticleSysBone = STAFF_LIGHT Necro_Cast_BGlow FollowBone:Yes
		End
		
		AnimationState        =  SPECIAL_WEAPON_TWO
			StateName = Attacking
			Animation
				AnimationName       = GUGandalfG_SKL.GUGandalfG_SPCL
				AnimationMode       = ONCE
			End
		End
		
		AnimationState        =  PACKING_TYPE_2
			StateName = Attacking
			Animation
				AnimationName       = GUGandalfG_SKL.GUGandalfG_LVLA
				AnimationMode       = ONCE
			End
			FXEvent			= Frame:10 Name:FX_RekindledHeartsSelf
		End
		
		
		AnimationState        =  PACKING_TYPE_1 UNPACKING
			StateName = Attacking
			Animation = LightningSwordStart
				AnimationName           = GUGandalfG_SKL.GUGandalfG_SPE3
				AnimationMode       = ONCE
			End
			FXEvent			= Frame:14 Name:FX_GandalfLightningCharge
			FXEvent			= Frame:14 Name:FX_GandalfLightningSword  FrameStop:70
		End
		AnimationState        =  PACKING_TYPE_1 PREPARING
			StateName = Attacking
			Animation = LightningSwordLoop
				AnimationName           = GUGandalfG_SKL.GUGandalfG_SPE2
				AnimationMode       = LOOP
			End
		End
		AnimationState        =  PACKING_TYPE_1 PACKING
			StateName = Attacking
			Animation = LightningSwordPutAway
				AnimationName           = GUGandalfG_SKL.GUGandalfG_SPE1
				AnimationMode       = ONCE
			End
		End
		
		AnimationState        =  SPECIAL_WEAPON_THREE
			StateName = Attacking
			Animation = StaffLaser
				AnimationName           = GUGandalfG_SKL.GUGandalfG_SPCH
				AnimationMode       = ONCE
			End
			FXEvent			= Frame:30 Name:FX_GandalfStaffFlare
		End
		
		AnimationState        = MOVING FIRING_OR_PREATTACK_A
			ShareAnimation		= Yes
			Animation           = RunAndFire
				AnimationName       = GUGandalfG_SKL.GUGandalfG_ATRA
				AnimationMode       = LOOP
			End
			Flags               = RANDOMSTART
		End
		AnimationState        =  FIRING_OR_PREATTACK_A
			Animation = StaffSwing
				AnimationName           = GUGandalfG_SKL.GUGandalfG_ATKA
				AnimationMode       = ONCE
				UseWeaponTiming		= Yes
			End
			Animation = SwordSwing
			  AnimationName           = GUGandalfG_SKL.GUGandalfG_ATKB
			  AnimationMode       = ONCE
			  UseWeaponTiming		= Yes
			End
			Animation = SpinningSwordStaff
			  AnimationName           = GUGandalfG_SKL.GUGandalfG_ATKC
			  AnimationMode       = ONCE
			  UseWeaponTiming		= Yes
			End
		End
		
		AnimationState        = MOVING WANDER
			Animation = Wandering
				AnimationName           = GUGandalfG_SKL.GUGandalfG_WLKA
				AnimationMode       = LOOP
			End
		End
		AnimationState        = MOVING
			Animation = Moving
				AnimationName           = GUGandalfG_SKL.GUGandalfG_RUNB
				AnimationMode       = LOOP
			End
			Flags               = RANDOMSTART
		End
		
		AnimationState        = EMOTION_ALERT
			Animation           = ALERT_1
				AnimationName     = GUGandalfG_SKL.GUGandalfG_IDLA
				AnimationMode     = ONCE
			End
			Flags               = RESTART_ANIM_WHEN_COMPLETE
		End
		AnimationState        = LEVELED	USER_1
			Animation = Yippee
				AnimationName           = GUGandalfG_SKL.GUGandalfG_LVLA
				AnimationMode       = ONCE
			End
			BeginScript
				CurDrawableShowSubObject("STAFF_LIGHT")
			EndScript
		End
		AnimationState        = LEVELED
			Animation = Yippee
				AnimationName           = GUGandalfG_SKL.GUGandalfG_LVLA
				AnimationMode       = ONCE
			End
			Flags               = RESTART_ANIM_WHEN_COMPLETE
		End
		
		
		TransitionState				=	TRANS_MountedSelect
			Animation				=	ATNA
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_ATNA
				AnimationMode		=	ONCE
			End
		End
		TransitionState					=	TRANS_Idle_to_Selected
			Animation					=	ATNA
				AnimationName			=	GUGandalfG_SKL.GUGandalfG_ATNA
				AnimationMode			=	ONCE
			End
		End
		TransitionState					=	TRANS_Selected_To_Idle
			Animation					=	ATNE
				AnimationName			=	GUGandalfG_SKL.gugandalfN_atne
				AnimationMode			=	ONCE
			End
		End
		AnimationState				=	SELECTED USER_1
			StateName				=	Selected
			SimilarRestart			=   Yes
			Animation				=	ATNB
				AnimationName		=	GUGandalfG_SKL.GUGandalfG_ATNB
				AnimationMode		=	LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") end
			EndScript
		End
		AnimationState        = RAISING_FLAG
			Animation
				AnimationName           = GUGandalfG_SKL.GUGandalfG_LVLA
				AnimationMode       = LOOP
			End
		End
		AnimationState        = EMOTION_CELEBRATING
			Animation
				AnimationName           = GUGandalfG_SKL.GUGandalfG_LVLA
				AnimationMode       = LOOP
			End
		End
		AnimationState        = EMOTION_TAUNTING
			Animation
				AnimationName           = GUGandalfG_SKL.GUGandalfG_LVLA
				AnimationMode       = LOOP
			End
		End
		AnimationState				=	SELECTED
			StateName				=	Selected
			SimilarRestart			=   Yes
			Animation				=	ATNB
				AnimationName		=	GUGandalfG_SKL.GUGandalfG_ATNB
				AnimationMode		=	LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") end
				CurDrawableHideSubObject("STAFF_LIGHT")
			EndScript
		End
		
		AnimationState = HIT_REACTION HIT_LEVEL_1
			Animation = Hit_Level_1_a
				AnimationName = GUGandalfG_SKL.GUGandalfG_HITA
				AnimationMode = ONCE
			End
		End
	
		AnimationState        =  USER_1
			StateName = user_1_idle
			Animation = Foot_IDLB
				AnimationName       = GUGandalfG_SKL.gugandalfN_idlb
				AnimationMode       = ONCE
				AnimationPriority   = 2
			End
			Animation = Foot_IDLC
				AnimationName       = GUGandalfG_SKL.gugandalfN_idlc
				AnimationMode       = ONCE
				AnimationPriority   = 2
			End
			; Animation = Foot_IDLD
				; AnimationName       = GUGandalfG_SKL.GUGandalfG_IDLD
				; AnimationMode       = ONCE
				; AnimationPriority   = 1
			; End
			; Animation = Foot_IDLE
				; AnimationName       = GUGandalfG_SKL.GUGandalfG_IDLE
				; AnimationMode       = ONCE
				; AnimationPriority   = 2
			; End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Selected" then CurDrawableSetTransitionAnimState("TRANS_Selected_To_Idle") end
				CurDrawableShowSubObject("STAFF_LIGHT")
			EndScript
		End
	End
    #include "..\..\..\includes\StunDrawModuleSmall.inc"
	
	Draw = W3DScriptedModelDraw DustEffects
	    DefaultModelConditionState
	      Model = None
	    End
	    IdleAnimationState
	    End
	    AnimationState = MOUNTED MOVING WADING
			ParticleSysBone = None FootstepSlash
	    End
	    AnimationState = MOUNTED MOVING ACCELERATE
			ParticleSysBone = None InfantryDustTrails
	    End
	    AnimationState = MOUNTED MOVING
			ParticleSysBone = None InfantryDustTrails
	    End
	    AnimationState = MOVING
	    End
	End
	Side			= Mordor
	EditorSorting	= UNIT
	ThreatLevel		= GANDALF_THREAT_LEVEL
	ThingClass		= CHARACTER_UNIT
	HeroSortOrder = 10
	LiveCameraOffset = X:-112 Y:81 Z:57
	LiveCameraPitch = 25.0
	IsTrainable			= Yes
	BuildCost			= 1700 ;GANDALF_THE_WHITE_BUILDCOST
	BuildTime			= HERO_BUILDTIME_TIER_3
	ShockwaveResistance = SHOCKWAVE_RESISTANCE_STRONG
	TransportSlotCount	= TRANSPORTSLOTCOUNT_HERO
	CommandSet			= RhunRazariCommandSet
	CommandPoints		= 0 ;HERO_COMMAND_POINTS_TIER_5
;	;CommandPointBonus	= 100
	WeaponSet
		Conditions = None
		Weapon = PRIMARY RazariSickle
	End
	ArmorSet
		Conditions      = None
		Armor           = HeroArmor
		DamageFX        = NormalDamageFX
	End
    ArmorSet
        Conditions      = MOUNTED
        Armor           = HeroArmorMounted
        DamageFX        = NormalDamageFX
    End
	VisionRange					= VISION_HERO_STANDARD
	ShroudClearingRange			= SHROUD_CLEAR_HERO
	MaxVisionBonusPercent		= 300%
	VisionBonusTestRadius		= 200
	VisionBonusPercentPerFoot	= 1.0%
	BountyValue				= 500
	DisplayName				= OBJECT:RhunRazari
	RecruitText				= CONTROLBAR:RhunRazariRecruit
	ReviveText				= CONTROLBAR:RhunRazariRevive
	Hotkey					= CONTROLBAR:RhunRazariHotkey
	CrusherLevel			= 0
	MountedCrusherLevel		= 1
	CrushableLevel			= 2
	MountedCrushableLevel	= 2
	CrushWeapon				= ShadowfaxCrush
	MinCrushVelocityPercent = 56
	CrushDecelerationPercent = 5
	CrushKnockback			= 50
	CrushZFactor			= 1.2
	AutoResolveUnitType = AutoResolveUnit_Hero
	AutoResolveCombatChain = AutoResolve_HeroCombatChain
	AutoResolveBody = AutoResolve_BoromirBody; AutoResolve_FaramirBody
	AutoResolveArmor
		Armor = AutoResolve_GandalfArmor ;AutoResolve_FaramirArmor
	End
	AutoResolveWeapon
		Weapon = AutoResolve_LeaderHeroStrongWeapon ;AutoResolve_FaramirWeapon
	End
	AutoResolveLeadership = AutoResolve_GandalfBonus
	VoiceAttack							= RazariVoiceAttack
	VoiceEnterStateAttack				= RazariVoiceEnterStateAttack
	VoiceAttackMachine					= RazariVoiceAttackBuilding
	VoiceEnterStateAttackMachine        = RazariVoiceEnterStateAttackBuilding
	VoiceAttackStructure				= RazariVoiceAttackBuilding
	VoiceEnterStateAttackStructure		= RazariVoiceEnterStateAttackBuilding
	VoiceAttackCharge					= RazariVoiceAttackCharge
	VoiceEnterStateAttackCharge			= RazariVoiceEnterStateAttackCharge
	VoiceSelect							= RazariVoiceSelect
	VoiceSelectBattle					= RazariVoiceSelectBattle
	VoiceMove							= RazariVoiceMove
	VoiceEnterStateMove					= RazariVoiceEnterStateMove
	VoicePriority						= 92
	VoiceMoveToCamp						= RazariVoiceMoveCamp
	VoiceMoveWhileAttacking				= RazariVoiceDisengage
	VoiceRetreatToCastle				= RazariVoiceRetreat
	VoiceFear							= RazariVoiceHelpMe
	SoundImpact							= ImpactHorse

	UnitSpecificSounds
		VoiceEnterUnitEvilMenTransportShip	= RazariVoiceMoveGarrison
		VoiceEnterUnitMordorMumakil			= RazariVoiceMoveGarrison
		VoiceEnterUnitSlaughterHouse		= RazariVoiceMoveGarrison
		VoiceGarrison						= RazariVoiceMoveGarrison
		VoiceInitiateCaptureBuilding		= RazariVoiceMove
	End
	; ClientBehavior = ModelConditionSoundSelectorClientBehavior ModuleTag_MCSoundSelector
	; 	SoundState = MOUNTED
	; 		VoiceMove		= GandalfVoiceMoveMounted
	; 		VoiceSelect		= GandalfVoiceSelectMountedMS
	; 	End
	; End
	CrowdResponseKey = GoodMen
    #include "..\..\..\includes\StandardUnitEvaEvents.inc"
	EvaEventDieOwner		= GandalfDie
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key = Humanoid_Male Man Man_Male Unit Infantry Hero
	End
	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound:FootstepDirtA			Animation:GUGandalfG_SKL.GUGandalfG_RUNA		Frames:10 20
		AnimationSound = Sound:FootstepDirtA			Animation:GUGandalfG_SKL.GUGandalfG_RUNB		Frames:10 22 33 45
		AnimationSound = Sound:BodyFallGenericNoArmor		Animation:GUGandalfG_SKL.GUGandalfG_DIEB		Frames:63
		AnimationSound = Sound:BodyFallGenericNoArmor		Animation:GUGandalfG_SKL.GUGandalfG_LNDA		Frames:2
		AnimationSound = Sound:HorseMoveFootsteps			Animation:GUGdfHrs_SKL.GUGdfHrs_ACCL		Frames:15 32
		AnimationSound = Sound:HorseMoveFootsteps			Animation:GUGdfHrs_SKL.GUGdfHrs_RUNA		Frames:0
		AnimationSound = Sound:HorseMoveFootsteps			Animation:GUGdfHrs_SKL.GUGdfHrs_TNL1		Frames:0
		AnimationSound = Sound:HorseMoveFootsteps			Animation:GUGdfHrs_SKL.GUGdfHrs_TNR1		Frames:0
		AnimationSound = Sound:HorseWhinny50Percent		Animation:GUGdfHrs_SKL.GUGdfHrs_IDLC		Frames:0
		AnimationSound = Sound:HorseWhinnyForEowynSmite		Animation:GUGdfHrs_SKL.GUGdfHrs_LVLA		Frames:64
		AnimationSound = Sound:HorseWhinnyForEowynSmite		Animation:GUGdfHrs_SKL.GUGdfHrs_SPLA		Frames:74
		AnimationSound = Sound:BodyFallGenericNoArmor		Animation:GUGdfHrs_SKL.GUGdfHrs_DIEA		Frames:2 42
		AnimationSound = Sound:HorseDieForHero			Animation:GUGdfHrs_SKL.GUGdfHrs_DIEA		Frames:1
	End
	RadarPriority		= UNIT
	KindOf				= HERO HEAVY_MELEE_HITTER PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE ATTACK_NEEDS_LINE_OF_SIGHT NOTIFY_OF_PREATTACK ARMY_SUMMARY
	PathfindDiameter = 25 ;	= 40.0
	; Behavior = AutoHealBehavior ModuleTag_ElvenGiftHealing
	; 	StartsActive				= No
	; 	TriggeredBy					= Upgrade_ElvenGift
	; 	HealingAmount				= ELVEN_GIFT_REGEN_AMOUNT
	; 	HealingDelay				= ELVEN_GIFT_REGEN_DELAY
	; 	StartHealingDelay = HERO_HEAL_DELAY
	; 	HealOnlyIfNotInCombat = Yes
	; End

	Body = RespawnBody ModuleTag_RespawnBody
		CheerRadius 			= EMOTION_CHEER_RADIUS
		MaxHealth         		= 2100 ;GANDALF_THE_WHITE_HEALTH
		MaxHealthReallyDamaged = 1200
		PermanentlyKilledByFilter	= NONE
   		DodgePercent      		= HERO_DODGE_PERCENT
	End
	Behavior = RespawnUpdate ModuleTag_RespawnUpdate
		DeathAnim				= DYING
		DeathFX				= FX_RazariDieToRespawn
		DeathAnimationTime		= 5367
		InitialSpawnFX			= FX_RazariInitialSpawn
		RespawnAnim				= LEVELED
		RespawnFX				= FX_RazariRespawn
		RespawnAnimationTime		= 2000
		AutoRespawnAtObjectFilter	= NONE +CASTLE_KEEP
		ButtonImage				= uirazarires
		RespawnRules =			AutoSpawn:No	Cost:1360		Time:HERO_RESPAWNTIME_TIER_3		Health:100% ;Cost:1200
		RespawnEntry =	Level:2				Cost:1445		Time:HERO_RESPAWNTIME_TIER_3
		RespawnEntry =	Level:3				Cost:1530		Time:HERO_RESPAWNTIME_TIER_3
		RespawnEntry =	Level:4				Cost:1615		Time:HERO_RESPAWNTIME_TIER_3
		RespawnEntry =	Level:5				Cost:1700		Time:HERO_RESPAWNTIME_TIER_3
		RespawnEntry =	Level:6				Cost:1785		Time:HERO_RESPAWNTIME_TIER_3
		RespawnEntry =	Level:7				Cost:1870		Time:HERO_RESPAWNTIME_TIER_3
		RespawnEntry =	Level:8				Cost:1955		Time:HERO_RESPAWNTIME_TIER_3
		RespawnEntry =	Level:9				Cost:2040		Time:HERO_RESPAWNTIME_TIER_3
		RespawnEntry =	Level:10			Cost:2125		Time:HERO_RESPAWNTIME_TIER_3
	End
	Behavior = AutoHealBehavior ModuleTag_GandalfHealing
		StartsActive = Yes
		HealingAmount = HERO_HEAL_AMOUNT
		HealingDelay = 1000
		StartHealingDelay = HERO_HEAL_DELAY
		HealOnlyIfNotInCombat = Yes
	End
	Behavior = NotifyTargetsOfImminentProbableCrushingUpdate ModuleTag_NotifyCrushScan
	End
	Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End
	#include "..\..\..\includes\CaptureBuilding.inc"
	Behavior = AIUpdateInterface ModuleTag_04
		AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
		AILuaEventsList				=	RazariFunctions
	End

	; AI Auto-Retreat Behavior
		#include "..\..\..\aicoding\autoretreat6.inc"

	Behavior = EmotionTrackerUpdate	Module_EmotionTracker
		TauntAndPointDistance				= 300
		TauntAndPointUpdateDelay			= 10000
		AddEmotion			=	Doom_Base
		//	AddEmotion			=   BraceForBeingCrushed_Base
		//	AddEmotion			=	FearIdle_Base
		//	AddEmotion			=	FearBusy_Base
		AddEmotion			=	Point_Base
		AddEmotion			=	Taunt_Base
 		AddEmotion			=	CheerIdle_Base
		AddEmotion			=	CheerBusy_Base
		//	AddEmotion			=	HeroCheerIdle_Base
		//	AddEmotion			=	HeroCheerBusy_Base
		AddEmotion			=	Alert_Base
		AddEmotion			=	CheerForAboutToCrush_Base
	End
	LocomotorSet
		Locomotor = HeroHumanLocomotor
		Condition = SET_NORMAL
		Speed     = NORMAL_GOOD_HERO_SPEED
	End
	LocomotorSet
		Locomotor = HeroHorseLocomotor
		Condition = SET_MOUNTED
		Speed     = NORMAL_MOUNTED_FAST_HORDE_SPEED
	End
	Behavior = PhysicsBehavior ModuleTag_05
		GravityMult = 1.0
		ShockStandingTime = 3800
	End
	Behavior = SlowDeathBehavior ModuleTag_06
		DeathTypes = ALL -KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.40
		DestructionDelay = 8000
		Sound = INITIAL RazariVoiceDie
	End
	Behavior = SquishCollide ModuleTag_07
	End
	Behavior = SlowDeathBehavior ModuleTag_08
		DeathTypes = NONE +KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.40
		DestructionDelay = 8000
	End

	Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
		HitReactionLifeTimer1 = 2000
		HitReactionThreshold1 = 5.0
	End

	;------------------------------------------------------------
 		;------------------- MANIFESTED TERROR ------------------
	;------------------------------------------------------------
	Behavior = SpecialPowerModule ModuleTag_WordStarter       
		SpecialPowerTemplate      = SpecialAbilityRazariManifestedTerror
		UpdateModuleStartsAttack  = Yes
		StartsPaused		  	  = No
	End

	Behavior = ActivateModuleSpecialPower ModuleTag_ManifestedTerrorCaster
		SpecialPowerTemplate		= SpecialAbilityRazariManifestedTerror
		;StartAbilityRange		= ANGMAR_NECRO_WELL_OF_SOULS_START_RANGE
	;	TriggerSpecialPower		= ModuleTag_TotemActivator ; OBJECTPOS
		TriggerSpecialPower		= ModuleTag_ManifestedTerrorWeaponActivator  ; OBJECTPOS
	End
	Behavior = SpecialPowerModule ModuleTag_ManifestedTerrorWeaponActivator     
		SpecialPowerTemplate      = SpecialAbilityActivateeDummy2
		UpdateModuleStartsAttack  = Yes
		StartsPaused		  	  = No
	End
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_ManifestedTerrorWeaponFireUpdate   
		SpecialPowerTemplate    = SpecialAbilityActivateeDummy2
		WhichSpecialWeapon		= 1
		SkipContinue			= Yes
		UnpackTime              = 1700 
		PackTime                = 1	
		FreezeAfterTriggerDuration = 2500
		AwardXPForTriggering    = 0		
		StartAbilityRange		= 80.0
		SpecialWeapon			= RazariManifestedTerror
	End
	; Behavior = SpecialPowerModule ModuleTag_TotemActivator
	; 	SpecialPowerTemplate			= SpecialAbilityActivateeDummy3
	; 	AttributeModifier				= RazariManifestedTerrorTrigger
	; 	AttributeModifierRange			= 9999999
	; 	AttributeModifierAffects		= NONE +RazariBalefulWard SAME_PLAYER
	; End
	Behavior = AutoAbilityBehavior ModuleTag_WoPAutoAbility
		SpecialAbility				= SpecialAbilityRazariManifestedTerror
		ForbiddenStatus = INSIDE_GARRISON
		MaxScanRange				= 100 ; GANDALF_WORD_OF_POWER_RANGE
		Query						= 5 ALL ENEMIES -WALL_UPGRADE -WALL_HUB -WALL_SEGMENT -DEFENSIVE_WALL -FS_BASE_DEFENSE
	End
	;-----------------------------------------------------------------------------
	;	FEAST OF SOULS
	;-----------------------------------------------------------------------------
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_NecroWellOfSoulsEnabler
		SpecialPowerTemplate = SpecialAbilityRazariFeastOfSouls
		TriggeredBy = Upgrade_ObjectLevel4
	End
	Behavior = SpecialPowerModule ModuleTag_NecroWellOfSoulsStarter
		SpecialPowerTemplate		= SpecialAbilityRazariFeastOfSouls
		StartsPaused			= Yes
 		UpdateModuleStartsAttack	= Yes
	End
	Behavior = ActivateModuleSpecialPower ModuleTag_NecroWellOfSoulsMover
		SpecialPowerTemplate		= SpecialAbilityRazariFeastOfSouls
		StartAbilityRange		= ANGMAR_NECRO_WELL_OF_SOULS_START_RANGE
		TriggerSpecialPower		= ModuleTag_NecroBlastStarter TARGETPOS
		TriggerSpecialPower		= ModuleTag_NecroWellOfSoulsBlastTrigger TARGETPOS
		TriggerSpecialPower		= ModuleTag_NecroBuffHeal OBJECTPOS
	End
	Behavior = SpecialPowerModule ModuleTag_NecroWellOfSoulsBlastTrigger
		SpecialPowerTemplate		= SpecialAbilityRazariFeastOfSouls
		TriggerFX			= FX_RazariFeastOfSoulsWeapon
		UpdateModuleStartsAttack	= No
		StartsPaused			= Yes
   	End
   	Behavior = PlayerHealSpecialPower ModuleTag_NecroBuffHeal
		SpecialPowerTemplate		= SpecialAbilityActivateeDummy
		HealAmount			= 400 ;ANGMAR_NECRO_WELL_OF_SOULS_HEAL_AMT
		HealAsPercent			= No ;;,;; Yes
;;,;;		HealAffects			= INFANTRY CAVALRY HERO DOZER MONSTER
		HealAffects			= INFANTRY CAVALRY DOZER	;;,;;
		HealRadius			= ANGMAR_NECRO_WELL_OF_SOULS_BUFF_RADIUS
		HealFX				= FX_SpellHealUnitHealBuff
		InitiateSound			= DainMightyRage
		TriggerFX			= FX_RazariFeastOfSoulsCast
	End
	Behavior = SpecialPowerModule ModuleTag_NecroBlastStarter
		SpecialPowerTemplate      	= SpecialAbilityWellOfSoulsBlast
		UpdateModuleStartsAttack  	= Yes
		StartsPaused			= No
	End
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_NecroBlastWeaponFireUpdate
		SpecialPowerTemplate		= SpecialAbilityWellOfSoulsBlast
		WhichSpecialWeapon		= 2
		SkipContinue			= Yes
		UnpackTime					= 700
		PreparationTime				= 1
		;PersistentPrepTime			= 1000
		PackTime					= 100
		;UnpackTime			= 10
		;PackTime			= 10
		FreezeAfterTriggerDuration 	= 100 ; Hold AI for this long after we fire.
		AwardXPForTriggering    	= ANGMAR_NECRO_WELL_OF_SOULS_XP_AWARD ;;.;; 0
		StartAbilityRange		= ANGMAR_NECRO_WELL_OF_SOULS_START_RANGE
        	;TriggerSound = NecroVoiceModeWellofSouls
		SpecialWeapon			= RazariFeastOfSoulsAttack ;Necro202WellOfSoulsAttack ;;.;; NecroWellOfSoulsAttack
		;PreparationTime		= 1	//Quick	shot
	End
	Behavior = AutoAbilityBehavior ModuleTag_WellOfSoulsAutoAbility ;;,;; (;;;)
		SpecialAbility				= SpecialAbilityRazariFeastOfSouls
		ForbiddenStatus = INSIDE_GARRISON ;;,;; This seems to prevent the ability from being used inside a tower
		MaxScanRange				= ANGMAR_NECRO_WELL_OF_SOULS_START_RANGE
		Query					= 1 ALL ENEMIES -STRUCTURE -WALL_UPGRADE -WALL_HUB -WALL_SEGMENT -DEFENSIVE_WALL -FS_BASE_DEFENSE -GondorGwaihir -Drogoth -MordorFellBeastInterface -SpellBookDragonStrikeDragon ;,; Added -GondorGwaihir -Drogoth -MordorFellBeastInterface -SpellBookDragonStrikeDragon in v5.1
	End
;----------------------------------------------
	;-----------------------------------------------------------------------------
	;	FEAST OF SOULS RANK 8
	;-----------------------------------------------------------------------------
	;--------------------------------------------------------------------------------------------
		;           Commandset change
	;-------------------------------------------------------------------------------------------
	Behavior = CommandSetUpgrade ModueTag_CommandSetLvl8
        TriggeredBy              	= Upgrade_ObjectLevel8
        CommandSet               	= RhunRazariCommandSetLevel8
    End
	;------------------------------------------------------------------------------------------
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_NecroWellOfSoulsEnabler2
		SpecialPowerTemplate = SpecialAbilityRazariFeastOfSoulsLvl8
		TriggeredBy = Upgrade_ObjectLevel8
	End
	Behavior = SpecialPowerModule ModuleTag_NecroWellOfSoulsStarter2
		SpecialPowerTemplate		= SpecialAbilityRazariFeastOfSoulsLvl8
		StartsPaused			= Yes
 		UpdateModuleStartsAttack	= Yes
	End
	Behavior = ActivateModuleSpecialPower ModuleTag_NecroWellOfSoulsMover2
		SpecialPowerTemplate		= SpecialAbilityRazariFeastOfSoulsLvl8
		StartAbilityRange		= ANGMAR_NECRO_WELL_OF_SOULS_START_RANGE
		TriggerSpecialPower		= ModuleTag_NecroBlastStarter2 TARGETPOS
		TriggerSpecialPower		= ModuleTag_NecroWellOfSoulsBlastTrigger2 TARGETPOS
		TriggerSpecialPower		= ModuleTag_NecroBuffHeal2 OBJECTPOS
	End
	Behavior = SpecialPowerModule ModuleTag_NecroWellOfSoulsBlastTrigger2
		SpecialPowerTemplate		= SpecialAbilityRazariFeastOfSoulsLvl8
		TriggerFX			= FX_RazariFeastOfSoulsWeapon
		UpdateModuleStartsAttack	= No
		StartsPaused			= Yes
   	End
   	Behavior = PlayerHealSpecialPower ModuleTag_NecroBuffHeal2
		SpecialPowerTemplate		= SpecialAbilityActivateeDummy
		HealAmount			= 800 ;ANGMAR_NECRO_WELL_OF_SOULS_HEAL_AMT
		HealAsPercent			= No ;;,;; Yes
;;,;;		HealAffects			= INFANTRY CAVALRY HERO DOZER MONSTER
		HealAffects			= INFANTRY CAVALRY DOZER	;;,;;
		HealRadius			= ANGMAR_NECRO_WELL_OF_SOULS_BUFF_RADIUS
		HealFX				= FX_SpellHealUnitHealBuff
		InitiateSound			= DainMightyRage
		TriggerFX			= FX_RazariFeastOfSoulsCast
	End
	Behavior = SpecialPowerModule ModuleTag_NecroBlastStarter2
		SpecialPowerTemplate      	= SpecialAbilityWellOfSoulsBlast
		UpdateModuleStartsAttack  	= Yes
		StartsPaused			= No
	End
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_NecroBlastWeaponFireUpdate2
		SpecialPowerTemplate		= SpecialAbilityWellOfSoulsBlast
		WhichSpecialWeapon		= 2
		SkipContinue			= Yes
		UnpackTime					= 700
		PreparationTime				= 1
		;PersistentPrepTime			= 1000
		PackTime					= 100
		;UnpackTime			= 10
		;PackTime			= 10
		FreezeAfterTriggerDuration 	= 100 ; Hold AI for this long after we fire.
		AwardXPForTriggering    	= ANGMAR_NECRO_WELL_OF_SOULS_XP_AWARD ;;.;; 0
		StartAbilityRange		= ANGMAR_NECRO_WELL_OF_SOULS_START_RANGE
        	;TriggerSound = NecroVoiceModeWellofSouls
		SpecialWeapon			= RazariFeastOfSoulsAttack ;Necro202WellOfSoulsAttack ;;.;; NecroWellOfSoulsAttack
		;PreparationTime		= 1	//Quick	shot
	End
	Behavior = AutoAbilityBehavior ModuleTag_WellOfSoulsAutoAbility2 ;;,;; (;;;)
		SpecialAbility				= SpecialAbilityRazariFeastOfSoulsLvl8
		ForbiddenStatus = INSIDE_GARRISON ;;,;; This seems to prevent the ability from being used inside a tower
		MaxScanRange				= ANGMAR_NECRO_WELL_OF_SOULS_START_RANGE
		Query					= 1 ALL ENEMIES -STRUCTURE -WALL_UPGRADE -WALL_HUB -WALL_SEGMENT -DEFENSIVE_WALL -FS_BASE_DEFENSE -GondorGwaihir -Drogoth -MordorFellBeastInterface -SpellBookDragonStrikeDragon ;,; Added -GondorGwaihir -Drogoth -MordorFellBeastInterface -SpellBookDragonStrikeDragon in v5.1
	End

	;---------------------------------------------------------------------------------------------------------------------------------
	;--------- FELL OMEN--------------------------------------------------------------------------------------------------------
	;---------------------------------------------------------------------------------------------------------------------------------
	; 
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_RazariFellOmenEnabler
		SpecialPowerTemplate = SpecialAbilityRazariWarriorSummon
		TriggeredBy = Upgrade_ObjectLevel2
	End
	Behavior = OCLSpecialPower ModuleTag_WarriorReinforcements_OCL
		SpecialPowerTemplate 	= SpecialAbilityRazariWarriorSummon
		OCL                  	= OCL_SpawnBalefulWardEgg
		TriggerFX			 	= FX_RazariFellOmenSummon ;FX_GenericHaradSummon ;FX_DunedainSummon
		CreateLocation       	= CREATE_AT_LOCATION
		UpdateModuleStartsAttack = No
		StartsPaused		 	= Yes
	End
	Behavior = AutoAbilityBehavior ModuleTag_WarriorReinforcementsAutoAbility
		SpecialAbility	= SpecialAbilityRazariWarriorSummon
		ForbiddenStatus = INSIDE_GARRISON
		MaxScanRange	= 300
		Query			= 30 ANY ENEMIES +INFANTRY +CAVALRY -STRUCTURE -WALL_UPGRADE -WALL_HUB -WALL_SEGMENT -DEFENSIVE_WALL -FS_BASE_DEFENSE
	End
	;-----------------------------------------------------------------------------
	;	WHISPERS OF THE VOID
	;-----------------------------------------------------------------------------
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_MouthOfSauronDissentEnabler
		SpecialPowerTemplate 	= SpecialAbilitySaenathraWebofLies
		TriggeredBy 			= Upgrade_ObjectLevel7
	End
	Behavior = SpecialPowerModule ModuleTag_MouthOfSauronDissentStarter
		SpecialPowerTemplate		= SpecialAbilitySaenathraWebofLies
		StartsPaused				= Yes
 		UpdateModuleStartsAttack	= Yes
		; InitiateSound				= LurtzVoiceAttackCripplingStrike
	End
	Behavior = ActivateModuleSpecialPower ModuleTag_MouthOfSauronDissentMover
		SpecialPowerTemplate		= SpecialAbilitySaenathraWebofLies
		StartAbilityRange			= 300
		TriggerSpecialPower			= ModuleTag_MouthOfSauronDissentTrigger TARGETPOS
		TriggerSpecialPower         = ModuleTag_TotemActivator TARGETPOS
	End
	Behavior = SpecialPowerModule ModuleTag_MouthOfSauronDissentTrigger
		SpecialPowerTemplate		= SpecialAbilitySaenathraWebofLies
		AttributeModifier			= GalionBadBatchModifier
		AttributeModifierRange		= 100 ;MOUTH_OF_SAURON_DISSENT_RADIUS
		AttributeModifierAffects	= ANY +INFANTRY +CAVALRY -MONSTER -HERO ENEMIES NEUTRAL
		TriggerFX					= FX_RazariWhispersOfTheVoid
		UpdateModuleStartsAttack	= No
		StartsPaused				= Yes
		TargetAllSides				= Yes
	End
	Behavior = SpecialPowerModule ModuleTag_TotemActivator
		SpecialPowerTemplate			= SpecialAbilityActivateeDummy3
		AttributeModifier				= RazariManifestedTerrorTrigger
		AttributeModifierRange			= 100
		AttributeModifierAffects		= NONE +RazariBalefulWard SAME_PLAYER
	End
	Behavior = AutoAbilityBehavior ModuleTag_StarlightAutoAbilityBehavior2
		SpecialAbility				= SpecialAbilitySaenathraWebofLies
		ForbiddenStatus 			= INSIDE_GARRISON
		MaxScanRange				= 300
		Query						= 15 ANY ENEMIES +INFANTRY +CAVALRY -STRUCTURE -WALL_UPGRADE -WALL_HUB -WALL_SEGMENT -DEFENSIVE_WALL -FS_BASE_DEFENSE
	End
	;-----------------------------------------------------------------------------
	; WRATH OF THE BALCHOTH
	;-----------------------------------------------------------------------------
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_DominateCasterEnabler
		SpecialPowerTemplate		= SpecialAbilityWhispersOfVoidCaster
		TriggeredBy					= Upgrade_ObjectLevel10
	End
	Behavior = SpecialPowerModule ModuleTag_DominateEnemyCaster
		SpecialPowerTemplate		= SpecialAbilityWhispersOfVoidCaster
		StartsPaused				= Yes
		UpdateModuleStartsAttack	= Yes
		;InitiateSound				= SarumanVoiceDominate
	End
	Behavior = ActivateModuleSpecialPower ModuleTag_CloseTheGap
		SpecialPowerTemplate		= SpecialAbilityWhispersOfVoidCaster
		StartAbilityRange		= 275.0
		TriggerSpecialPower		= ModuleTag_HillOfSorcery TARGETPOS
		TriggerSpecialPower		= ModuleTag_DominateEnemySpecialPowerModule TARGETPOS
	;	TriggerSpecialPower		= ModuleTag_NecroFellStrengthBuffStarter TARGETPOS
	End
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_HillOfSorceryEnabler
		SpecialPowerTemplate	= SpecialAbilityWhispersOfVoidWeapon
		TriggeredBy				= Upgrade_ObjectLevel7
	End
	Behavior = OCLSpecialPower ModuleTag_HillOfSorcery
		SpecialPowerTemplate = SpecialAbilityWhispersOfVoidWeapon
		OCL                  = OCL_WhispersOfVoid
		StartsPaused		 = Yes
		CreateLocation       = CREATE_AT_LOCATION
	End
 	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_DominateEnabler
		SpecialPowerTemplate		= SpecialAbilityDominateEnemy
		TriggeredBy					= Upgrade_ObjectLevel7
	End
	Behavior = SpecialPowerModule ModuleTag_DominateEnemySpecialPowerModule
		SpecialPowerTemplate		= SpecialAbilityDominateEnemy
		StartsPaused				= Yes
		UpdateModuleStartsAttack	= No
		;InitiateSound				= SarumanVoiceDominate
	End
 	Behavior = DominateEnemySpecialPower ModuleTag_DominateEnemySpecialPower
        SpecialPowerTemplate		= SpecialAbilityDominateEnemy
		StartAbilityRange			= 275.0
		AttributeModifierAffects	= ALL -DOZER -HERO -STRUCTURE -ARMY_OF_DEAD -MOVE_ONLY AOTR_NOT_HEROIC_UNITS -SUMMONED -SummonedDragon -WatcherHead -WatcherHittingArm -ElvenTransportShip -ElvenShip_Interface -InternalShipGoodArcher -EvilMenTransportShip -EvilShip_Interface -InternalShipEvilArcher ENEMIES NEUTRAL
		DominateRadius				= 50 ;100 ;;,;; 60 ;100 ;150
		DominatedFX					= FX_RazariWrathOfTheBalchothDominated
		TriggerFX					= FX_SarumanDominateTrigger
		UnpackTime					= 1 ;;,;; 2000
		FreezeAfterTriggerDuration	= 0
    End
		Behavior = AutoAbilityBehavior ModuleTag_GimmeDat
			SpecialAbility = SpecialAbilityWhispersOfVoidCaster
		ForbiddenStatus = INSIDE_GARRISON ;;,;; This seems to prevent the ability from being used inside a tower
		MaxScanRange				= 200
		Query						= 10 ALL ENEMIES -STRUCTURE -WALL_UPGRADE -WALL_HUB -WALL_SEGMENT -DEFENSIVE_WALL -FS_BASE_DEFENSE ;;,;;
		End	
	;---------------------------------------------------------------------------------------------------------------------------------
	
	Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
		CommandButtonName = Command_SetStanceBattle
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
	End
	Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive
		CommandButtonName = Command_SetStanceAggressive
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
	End
	Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
		CommandButtonName = Command_SetStanceHoldGround
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
	End
	Behavior = AISpecialPowerUpdate ArwenFloodPowerAI
		CommandButtonName = Command_ManifestedTerror
		;;,;; SpecialPowerAIType = AI_SPECIAL_POWER_RANGED_AOE_ATTACK
		;;,;; SpecialPowerAIType = AI_SPELLBOOK_STRUCTURE_BREAKER ;;,;; Added for 2.4 ;;,;; Removed for 3.0.1
		SpecialPowerAIType = AI_SPECIAL_POWER_ENEMY_TYPE_KILLER_STRUCTURES ;;,;; Added for 3.0.1
		SpecialPowerAIType = AI_SPECIAL_POWER_GANDALF_WIZARD_BLAST ;;,;; Added for 3.0.1
		SpecialPowerRadius = 150.0 ;;,;; Added for 3.0.1
	End
	Behavior = AISpecialPowerUpdate FellOmenAI
		CommandButtonName = Command_RazariFellOmen
		SpecialPowerAIType = AI_SPECIAL_POWER_ENEMY_TYPE_KILLER_RANGED  ; AI_SPELLBOOK_ASSIST_BATTLE_DEBUFF
;		SpecialPowerRadius = 150
	End
	Behavior = AISpecialPowerUpdate SummonGuardAI
		CommandButtonName = Command_SpecialAbilityWrathoftheBalchoth
		SpecialPowerAIType = AI_SPECIAL_POWER_TARGETAOE_SUMMON
	End


	Geometry			= CYLINDER
	GeometryMajorRadius = 8.0
	GeometryHeight		= 25
	GeometryIsSmall		= Yes
	Shadow				= SHADOW_DECAL
	ShadowSizeX			= 20
	ShadowSizeY			= 20
	ShadowTexture		= ShadowI
End

Object RazariBalefulWard
	SelectPortrait = BPGCamp_Plot
	PlacementViewAngle  = 90
	Scale = 1.3
	Draw = W3DScriptedModelDraw ModuleTag_Draw
		DefaultModelConditionState
			Model               = mublwrd_skn
			Texture = mublwrd.tga
			ParticleSysBone = None FellOmenPing HouseColor:no
			ParticleSysBone  = WARDBONE FellOmenGlow FollowBone:Yes
		;	ParticleSysBone = None MistLorien FollowBone:Yes ;HouseColor:yes
		; 	ParticleSysBone = None GoblinKingTaint
		; 		Shadow =  SHADOW_ALPHA_DECAL_DYNAMIC
		; 		ShadowSizeX = 200
		; 		ShadowSizeY = 200
		; 		ShadowTexture = EXTaint
		; 		ShadowOpacityStart = 0
		; 		ShadowOpacityFadeInTime = 1000
		; 		ShadowOpacityPeak = 175
		; 		ShadowOpacityFadeOutTime = 1000
		; 		ShadowOpacityEnd = 0
		; 		ShadowOverrideLODVisibility = YES
		; End
		End

		
	End
	; Draw = W3DFloorDraw ModuleTag_DrawFloor
	; 	StaticModelLODMode 	= Yes		; THIS NEEDS TO BE COMMENTED OUT WHEN ENGINEERING ENABLES LOD'S IN THE FLOOR DRAW
	; 	ModelName 		= kbhillman_bib
	; 	WeatherTexture		= SNOWY kbhillman_bib_snow.tga
  	; 	HideIfModelConditions	=	AWAITING_CONSTRUCTION
  	; 	HideIfModelConditions	=	PARTIALLY_CONSTRUCTED
	; End
	DisplayName			= OBJECT:SkullTotem
	EditorSorting		= MISC_MAN_MADE
	Side				= Mordor
	ShroudClearingRange	= SHROUD_CLEAR_SKULL_TOTEM
	KindOf				= STRUCTURE IMMOBILE SELECTABLE IGNORE_FOR_VICTORY ; NOT_AUTOACQUIRABLE
	RadarPriority		= UNIT
	Body            = ActiveBody ModuleTag_Body
		MaxHealth	= SKULL_TOTEM_HEALTH
	End
	MaxSimultaneousOfType	= 3
	; Behavior = DestroyDie ModuleTagDeath_Die
	; 	DeathTypes = ALL
	; End
	CommandSet = GenericDestoryCommandSet
	Behavior = AIUpdateInterface ModuleTag_AIUpdate
		AutoAcquireEnemiesWhenIdle = No
		AILuaEventsList				= BalefulWardFunctions
	End
	; Behavior = StealthDetectorUpdate ModuleTag_DetectStealth
	; 	DetectionRate	= SKULL_TOTEM_STEALTH_DETECT_RATE
	; 	DetectionRange	= SKULL_TOTEM_STEALTH_DETECT_RADIUS
	; End
	Behavior = AttributeModifierAuraUpdate ModuleTag_Leadership
		StartsActive	= Yes
		BonusName		= BalefulWardDebuff
		TargetEnemy = Yes
		RefreshDelay	= 2000
		Range			= 200
		ObjectFilter	= AOTR_GENERIC_BUFF_RECIPIENT_WITH_HORDES_OBJECT_FILTER
	End

	Behavior = AttributeModifierAuraUpdate ModuleTag_RazariCooldownBuff
		StartsActive	= Yes
		BonusName		= RazariFellOmenSelfLeadership
		TargetEnemy = No
		RefreshDelay	= 2000
		Range			= 150
		ObjectFilter	= NONE +RhunRazari SAME_PLAYER
	End

	;==========================================================
	;  MANIFESTED TERROR - TOTEM EDITION
	;==========================================================
	Behavior = SpecialPowerModule ModuleTag_WordStarter       
		SpecialPowerTemplate      = SpecialAbilityRazariManifestedTerrorTotem
		UpdateModuleStartsAttack  = Yes
		StartsPaused		  	  = No
	End
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_WordWeaponFireUpdate   
		SpecialPowerTemplate    = SpecialAbilityRazariManifestedTerrorTotem
		WhichSpecialWeapon		= 1
		SkipContinue			= Yes
		UnpackTime              = 1700 
		PackTime                = 1	
		FreezeAfterTriggerDuration = 2500
		AwardXPForTriggering    = 0		
		StartAbilityRange		= 80.0
		SpecialWeapon			= RazariWhispersTotemWeapon
	End
	;/////////////////////////////////////////////////////////
	Behavior = FireWeaponUpdate ModuleTag_SuicideWeapon
		FireWeaponNugget
			WeaponName = RazariManifestedTerrorTotemKiller
			FireDelay = 0
			OneShot = No
		End
	End
	;/////////////////////////////////////////////////////////
	Behavior = SlowDeathBehavior ModuleTag_FadeDeath
		DeathTypes			= ALL
		FadeDelay			= 0
		FadeTime			= 1000
		DestructionDelay	= 1000
	End

	Geometry				= CYLINDER
  	GeometryMajorRadius		= 5.0
	GeometryHeight			= 20.0
	GeometryIsSmall			= No
	BuildCompletion			= PLACED_BY_PLAYER
	GeometryContactPoint = X:0.0	Y:0.0		Z:0
	GeometryContactPoint = X:0.0	Y:0.0		Z:20.0		Swoop
End

ChildObject RazariBalefulWardLvl5 RazariBalefulWard
MaxSimultaneousOfType = 3
EquivalentTo = RazariBalefulWard
PlacementViewAngle  = 90
Draw = W3DScriptedModelDraw ModuleTag_Draw
		DefaultModelConditionState
			Model               = mublwrd_skn
			Texture = mublwrd.tga
			ParticleSysBone = None FellOmenPing HouseColor:no
			ParticleSysBone  = WARDBONE FellOmenGlow FollowBone:Yes
		;	ParticleSysBone = None MistLorien FollowBone:Yes ;HouseColor:yes
		; 	ParticleSysBone = None GoblinKingTaint
		; 		Shadow =  SHADOW_ALPHA_DECAL_DYNAMIC
		; 		ShadowSizeX = 200
		; 		ShadowSizeY = 200
		; 		ShadowTexture = EXTaint
		; 		ShadowOpacityStart = 0
		; 		ShadowOpacityFadeInTime = 1000
		; 		ShadowOpacityPeak = 175
		; 		ShadowOpacityFadeOutTime = 1000
		; 		ShadowOpacityEnd = 0
		; 		ShadowOverrideLODVisibility = YES
		; End
		End
	End
	;==========================================================
	;  Baleful Ward lvl 5
	;==========================================================
	Behavior = FireWeaponUpdate ModuleTag_KhamulField
			FireWeaponNugget
				WeaponName = BalefulWardlvl5Weapon
				FireDelay = 0
				OneShot = No
			End
	End
End

Object BalefulWardEgg

	Draw = W3DScriptedModelDraw ModuleTag_Draw
		DefaultModelConditionState
			Model = None
		End
	End

	KindOf = IMMOBILE UNATTACKABLE

	Body = ActiveBody ModuleTag_MakesKillWork
		MaxHealth = 1
	End

	Behavior = LifetimeUpdate ModuleTag_HatchTrigger
		MinLifetime = 1800
		MaxLifetime = 1800
	End

	Behavior = SlowDeathBehavior ModuleTag_HatchProcess
		DestructionDelay = 0
	;	FX		= INITIAL FX_RazariFellOmenSummon ; FX_BurodapanGiveNothingBack
	;	Weapon	= INITIAL KhrenTakSupplicationWeapon
		OCL = FINAL OCL_SpawnBalefulWard
	End

End

Object BalefulWardEggLvl5

	Draw = W3DScriptedModelDraw ModuleTag_Draw
		DefaultModelConditionState
			Model = None
		End
	End

	KindOf = IMMOBILE UNATTACKABLE

	Body = ActiveBody ModuleTag_MakesKillWork
		MaxHealth = 1
	End

	Behavior = LifetimeUpdate ModuleTag_HatchTrigger
		MinLifetime = 1800
		MaxLifetime = 1800
	End

	Behavior = SlowDeathBehavior ModuleTag_HatchProcess
		DestructionDelay = 0
	;	FX		= INITIAL FX_RazariFellOmenSummon ; FX_BurodapanGiveNothingBack
	;	Weapon	= INITIAL KhrenTakSupplicationWeapon
		OCL = FINAL OCL_SpawnBalefulWardLvl5
	End

End




;------------------------------------------------------------------------------
