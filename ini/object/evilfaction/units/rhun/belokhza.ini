Object RhunBelokhZa
	ButtonImage = uibelokhza
	SelectPortrait         = UPBelokhZa
	DescriptionStrategic = CONTROLBAR:LW_ToolTip_Haldir
	
	Scale = 1.01
	
	Draw = W3DScriptedModelDraw ModuleTag_DRAW
	OkToChangeModelColor = Yes
 	StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD

	ExtraPublicBone = arrow
	ExtraPublicBone = PASSENGERBONE
		
	 DependencySharedModelFlags = TURN_LEFT_HIGH_SPEED TURN_RIGHT_HIGH_SPEED MOVING ACCELERATE DECELERATE TURN_LEFT TURN_RIGHT ATTACKING BACKING_UP

;;====================== MODELS ================================================================
		DefaultModelConditionState
			Model               = mubelk_skn
			WeaponLaunchBone    = PRIMARY arrow
		End

		ModelConditionState		= MOUNTED
			Model               = mubelkmt_skn
			WeaponLaunchBone    = PRIMARY FIREAROWTIP		
		End
		


//================== ANIMATIONS ==============================================================	

		AnimationState        = PACKING_TYPE_2 MOUNTED
			StateName		  =	STATE_CaptainMounted
			Animation           = GUFaramir_IDLC
				AnimationName     = RURhrmArch_SKL.RURhrmArch_IDLB
				AnimationMode     = ONCE
				AnimationSpeedFactorRange = 0.5 0.5
			End
		End	
		
		AnimationState				=	PASSENGER MOUNTED
			Animation				=	grabbed
				AnimationName		=	RURhrmArch_SKL.RURhrmArch_GBDA
				AnimationMode		=	LOOP
			End
			Flags					=	RANDOMSTART
		End
		AnimationState				=	FREEFALL MOUNTED
			Animation				=	free fall
				AnimationName		=	RURhrmArch_SKL.RURhrmArch_FLYA
				AnimationMode		=	LOOP
			End
			Flags					=	RANDOMSTART
		End
		AnimationState				=	STUNNED_FLAILING MOUNTED
			Animation				=	JustDie
				AnimationName		=	RURhrmArch_SKL.RURhrmArch_FLYC
				AnimationMode		=	LOOP
			End
			Flags					=	RANDOMSTART
		End

		AnimationState				=	DYING SPLATTED MOUNTED
			Animation				=	splatted
				AnimationName		=	RURhrmArch_SKL.RURhrmArch_LNDA
				AnimationMode		=	ONCE
				AnimationBlendTime  =   2
			End
			FXEvent	= Frame:2 Name:FX_SplatDust
		End
		AnimationState				=	DYING MOUNTED
			Animation				=	JustDie
				AnimationName		=	RURhrmArch_SKL.RURhrmArch_DIEA
				AnimationMode		=	ONCE
			End
		End
		AnimationState				=	STUNNED_STANDING_UP MOUNTED
			Animation				=	StandUp
				AnimationName		=	RURhrmArch_SKL.RURhrmArch_GTPA
				AnimationMode		=	ONCE
				AnimationSpeedFactorRange = 1.5 1.5
			End
		End
		AnimationState				=	STUNNED MOUNTED
			Animation				=	Land
				AnimationName		=	RURhrmArch_SKL.RURhrmArch_LNDA
				AnimationMode		=	ONCE
			End
		End

		AnimationState        =  SPECIAL_WEAPON_ONE MOUNTED
			StateName = STATE_Bow
			Animation
				AnimationName           = RURhrmArch_SKL.RURhrmArch_ATKB
				AnimationMode       = ONCE
				AnimationSpeedFactorRange = 0.5 0.5
			End
			;Flags					= MAINTAIN_FRAME_ACROSS_STATES
			FrameForPristineBonePositions = 59 ; 20
			BeginScript
				CurDrawableShowSubObject("arrow")
			EndScript
		End

		AnimationState				=	FIRING_OR_PREATTACK_A MOVING TURRET_ANGLE_90 MOUNTED
			Animation				=	MoveAndFireBow
				AnimationName		=	RURhrmArch_SKL.RURhrmArch_ATKF
				AnimationMode		=	ONCE
				AnimationBlendTime		=	15
			End
			Flags					= MAINTAIN_FRAME_ACROSS_STATES
			FrameForPristineBonePositions = 20
		End
		AnimationState				=	FIRING_OR_PREATTACK_A MOVING TURRET_ANGLE_180 MOUNTED
			Animation				=	MoveAndFireBow
				AnimationName		=	RURhrmArch_SKL.RURhrmArch_ATKH
				AnimationMode		=	ONCE
				AnimationBlendTime		=	15
			End
			Flags					= MAINTAIN_FRAME_ACROSS_STATES
			FrameForPristineBonePositions = 20
		End
		AnimationState				=	FIRING_OR_PREATTACK_A MOVING TURRET_ANGLE_270 MOUNTED
			Animation				=	MoveAndFireBow
				AnimationName		=	RURhrmArch_SKL.RURhrmArch_ATKJ
				AnimationMode		=	ONCE
				AnimationBlendTime		=	15
			End
			Flags					= MAINTAIN_FRAME_ACROSS_STATES
			FrameForPristineBonePositions = 20
		End
		AnimationState				=	FIRING_OR_PREATTACK_A MOVING MOUNTED
			Animation				=	MoveAndFireBow
				AnimationName		=	RURhrmArch_SKL.RURhrmArch_ATKD
				AnimationMode		=	ONCE
				AnimationBlendTime		=	15
			End
			Flags					= MAINTAIN_FRAME_ACROSS_STATES
			FrameForPristineBonePositions = 20
		End
		AnimationState					= MOVING BACKING_UP MOUNTED
			Animation					= BACKING UP
				AnimationName			= RURhrmArch_SKL.RURhrmArch_BAKA
				AnimationMode			= LOOP
			End
		End
		AnimationState					=	MOVING TURN_LEFT_HIGH_SPEED MOUNTED
			Animation					=	TurnLeft
				AnimationName			=	RURhrmArch_SKL.RURhrmArch_TNL1
				AnimationMode			=	LOOP
				AnimationBlendTime		=	20
			End
		End

		AnimationState					=	MOVING TURN_RIGHT_HIGH_SPEED MOUNTED
			Animation					=	TurnRight
				AnimationName			=	RURhrmArch_SKL.RURhrmArch_TNR1
				AnimationMode			=	LOOP
				AnimationBlendTime		=	20
			End
		End
		AnimationState					= MOVING WANDER MOUNTED
			Animation					= WLKA
				AnimationName			= RURhrmArch_SKL.RURhrmArch_WLKA
				AnimationMode			= LOOP
			End
		End
		AnimationState					=	MOVING TURN_LEFT MOUNTED
			Animation					=	TurnLeft
				AnimationName			=	RURhrmArch_SKL.RURhrmArch_TRNL
				AnimationMode			=	LOOP
			End
		End
		AnimationState					=	MOVING TURN_RIGHT MOUNTED
			Animation					=	TurnRight
				AnimationName			=	RURhrmArch_SKL.RURhrmArch_TRNR
				AnimationMode			=	LOOP
			End
		End
		AnimationState					= MOVING ENGAGED MOUNTED
			Animation					= Moving_Engaged
				AnimationName			= RURhrmArch_SKL.RURhrmArch_RUNC
				AnimationMode			= LOOP
			End
			Flags						= RANDOMSTART
		End
		AnimationState					=	MOVING ACCELERATE MOUNTED
			Animation					=	RunA
				AnimationName			=	RURhrmArch_SKL.RURhrmArch_ACCL
				AnimationMode			=	LOOP
			End
			Flags						=	RANDOMSTART
		End

		AnimationState					=	MOVING DECELERATE MOUNTED
			Animation					=	RunA
				AnimationName			=	RURhrmArch_SKL.RURhrmArch_DECL
				AnimationMode			=	LOOP
				AnimationSpeedFactorRange = 0.55 0.55
			End
			Flags						=	RANDOMSTART
		End
		AnimationState					=	MOVING MOUNTED
			Animation					=	RunA
				AnimationName			=	RURhrmArch_SKL.RURhrmArch_RUNA
				AnimationMode			=	LOOP
				Distance				=   40
			End
			Flags						=	RANDOMSTART
		End
		AnimationState					=	FIRING_OR_PREATTACK_A WEAPONSET_PLAYER_UPGRADE USER_2 TURRET_ANGLE_90 MOUNTED
			Animation					=	AttackA1
				AnimationName			=	RURhrmArch_SKL.RURhrmArch_ATKL
				AnimationMode			=	ONCE
				AnimationBlendTime		=	15
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES
			FrameForPristineBonePositions = 20
		End
		AnimationState					=	FIRING_OR_PREATTACK_A WEAPONSET_PLAYER_UPGRADE USER_2 TURRET_ANGLE_180 MOUNTED
			Animation					=	AttackA1
				AnimationName			=	RURhrmArch_SKL.RURhrmArch_ATKN
				AnimationMode			=	ONCE
				AnimationBlendTime		=	15
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES
			FrameForPristineBonePositions = 20
		End
		AnimationState					=	FIRING_OR_PREATTACK_A WEAPONSET_PLAYER_UPGRADE USER_2 TURRET_ANGLE_270 MOUNTED
			Animation					=	AttackA1
				AnimationName			=	RURhrmArch_SKL.RURhrmArch_ATKP
				AnimationMode			=	ONCE
				AnimationBlendTime		=	15
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES
			FrameForPristineBonePositions = 20
		End
		AnimationState					=	FIRING_OR_PREATTACK_A WEAPONSET_PLAYER_UPGRADE USER_2 MOUNTED
			Animation					=	AttackA1
				AnimationName			=	RURhrmArch_SKL.RURhrmArch_ATKB
				AnimationMode			=	ONCE
				AnimationBlendTime		=	15
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES
			FrameForPristineBonePositions = 20
		End

		AnimationState					=	FIRING_OR_PREATTACK_A TURRET_ANGLE_90 MOUNTED
			Animation					=	AttackA1
				AnimationName			=	RURhrmArch_SKL.RURhrmArch_ATKL
				AnimationMode			=	ONCE
				AnimationBlendTime		=	15
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES
			FrameForPristineBonePositions = 20
		End
		AnimationState					=	FIRING_OR_PREATTACK_A TURRET_ANGLE_180 MOUNTED
			Animation					=	AttackA1
				AnimationName			=	RURhrmArch_SKL.RURhrmArch_ATKN
				AnimationMode			=	ONCE
				AnimationBlendTime		=	15
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES
			FrameForPristineBonePositions = 20
		End
		AnimationState					=	FIRING_OR_PREATTACK_A TURRET_ANGLE_270 MOUNTED
			Animation					=	AttackA1
				AnimationName			=	RURhrmArch_SKL.RURhrmArch_ATKP
				AnimationMode			=	ONCE
				AnimationBlendTime		=	15
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES
			FrameForPristineBonePositions = 20
		End
		AnimationState					=	FIRING_OR_PREATTACK_A MOUNTED
			Animation					=	AttackA1
				AnimationName			=	RURhrmArch_SKL.RURhrmArch_ATKB
				AnimationMode			=	ONCE
				AnimationBlendTime		=	15
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES
			FrameForPristineBonePositions = 20
		End
		AnimationState					=	BETWEEN_FIRING_SHOTS_B MOUNTED
			Animation					=	BetweenFiringShots
				AnimationName			=	RURhrmArch_SKL.RURhrmArch_IDLA
				AnimationMode			=	LOOP
				AnimationBlendTime		=   15
			End
		End
		AnimationState					= MOVING EMOTION_TERROR EMOTION_LOOK_TO_SKY MOUNTED
			Animation					= TerrorFromTheSky
				AnimationName			= RURhrmArch_SKL.RURhrmArch_RUNB
				AnimationMode			= LOOP
			End
		End

		AnimationState					= MOVING EMOTION_TERROR MOUNTED
			Animation					= TerrorFromTheSky
				AnimationName			= RURhrmArch_SKL.RURhrmArch_RUNB
				AnimationMode			= LOOP
			End
		End
		AnimationState					=	EMOTION_ALERT EMOTION_AFRAID MOUNTED
			Animation					=	Apprehensive
				AnimationName			=	RURhrmArch_SKL.RURhrmArch_APPA
				AnimationMode			=	LOOP
			End
		End
		AnimationState					= EMOTION_AFRAID MOUNTED
			Animation					= FERA
				AnimationName			= RURhrmArch_SKL.RURhrmArch_FERA
				AnimationMode			= LOOP
			End 
		End
		AnimationState					=	EMOTION_CELEBRATING MOUNTED
			Animation					=	CheerA
				AnimationName			=	RURhrmArch_SKL.RURhrmArch_CHRA
				AnimationMode			=	ONCE
			End
			Animation					=	CheerB
				AnimationName			=	RURhrmArch_SKL.RURhrmArch_CHRB
				AnimationMode			=	ONCE
			End
			Animation					=	CheerD
				AnimationName			=	RURhrmArch_SKL.RURhrmArch_CHRD
				AnimationMode			=	ONCE
			End
			Animation					=	Salute
				AnimationName			=	RURhrmArch_SKL.RURhrmArch_SLTA
				AnimationMode			=	ONCE
			End
			Flags						= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
		End
		AnimationState					= EMOTION_TAUNTING MOUNTED
			Animation					= Taunting
				AnimationName			= RURhrmArch_SKL.RURhrmArch_TNTA
				AnimationMode			= ONCE
			End
			Animation					= Taunting2
				AnimationName			= RURhrmArch_SKL.RURhrmArch_TNTB
				AnimationMode			= ONCE
			End
			Flags						= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
		End

		AnimationState					= EMOTION_POINTING MOUNTED
			Animation					= Pointing1
				AnimationName			= RURhrmArch_SKL.RURhrmArch_PNTA
				AnimationMode			= LOOP
			End
		End
		AnimationState					= EMOTION_ALERT MOUNTED
			Animation					= IDLA
				AnimationName			= RURhrmArch_SKL.RURhrmArch_IDLA
				AnimationMode			= LOOP
			End
		End
		AnimationState					=	ATTACKING MOUNTED
			Animation					=	Reloading
				AnimationName			=	RURhrmArch_SKL.RURhrmArch_IDLA
				AnimationMode			=	LOOP
			End
		End				
		AnimationState					= SWAPPING_TO_WEAPONSET_1 MOUNTED
			StateName					= State_PuttingSpearAway
			Animation
				AnimationName			= RURohrm_SKL.RURohrm_WPNB
				AnimationMode			= ONCE_BACKWARDS
				AnimationSpeedFactorRange = 0.5 0.7
			End
			Flags						= START_FRAME_LAST
		End
		AnimationState					=	RAISING_FLAG MOUNTED
			Animation					=	CheerA
				AnimationName			=	RURhrmArch_SKL.RURhrmArch_CHRA
				AnimationMode			=	ONCE
				AnimationSpeedFactorRange = 0.9 1.1
			End
			Animation					=	CheerB
				AnimationName			=	RURhrmArch_SKL.RURhrmArch_CHRB
				AnimationMode			=	ONCE
				AnimationSpeedFactorRange = 0.9 1.1
			End
			Animation					=	CheerD
				AnimationName			=	RURhrmArch_SKL.RURhrmArch_CHRD
				AnimationMode			=	ONCE
				AnimationSpeedFactorRange = 0.9 1.1
			End
			Animation					=	Salute
				AnimationName			=	RURhrmArch_SKL.RURhrmArch_SLTA
				AnimationMode			=	ONCE
				AnimationSpeedFactorRange = 0.9 1.1
			End
			Flags						= RESTART_ANIM_WHEN_COMPLETE
		End

		AnimationState					= SELECTED MOUNTED
			StateName					= State_Selected
			SimilarRestart				= Yes
			Animation					= AtAttention
				AnimationName			= RURhrmArch_SKL.RURhrmArch_ATNB
				AnimationMode			= LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Idle" then
					CurDrawableSetTransitionAnimState("TRANS_Idle_to_SelectedMounted")
				elseif Prev == "State_PuttingSpearAway" then
					CurDrawableSetTransitionAnimState("TRANS_SpearAway_To_SelectedWEAPONSET1")
				end
			EndScript	
		End

		AnimationState					=  MOUNTED
			StateName					=	Idle
			Animation					=	IDLB
				AnimationName			=	RURhrmArch_SKL.RURhrmArch_IDLB
				AnimationMode			=	LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "State_Selected" then
					CurDrawableSetTransitionAnimState("TRANS_Selected_to_IdleMounted")
				elseif Prev == "State_PuttingSpearAway" then
					CurDrawableSetTransitionAnimState("TRANS_SpearAway_To_IdleWEAPONSET1")
				end
			EndScript
		End

		TransitionState					=	TRANS_Idle_to_SelectedMounted
			Animation					=	ATNA
				AnimationName			=	RURhrmArch_SKL.RURhrmArch_ATNA
				AnimationMode			=	ONCE
				AnimationSpeedFactorRange = 0.8 1.2
			End
		End

		TransitionState					=	TRANS_Selected_to_IdleMounted
			Animation					=	ATNC
				AnimationName			=	RURhrmArch_SKL.RURhrmArch_ATNA
				AnimationMode			=	ONCE_BACKWARDS
				AnimationSpeedFactorRange = 0.8 1.2
			End
			Flags						= START_FRAME_LAST
		End

		;//////////
		; ON FOOT
		;//////////
	
		AnimationState        = STUNNED_FLAILING
			StateName           = STATE_Bow
			Animation           = GUFaramir_FLYA
				AnimationName     = GUFaramir_SKL.GUFaramir_FLYA
				AnimationMode     = LOOP
				AnimationSpeedFactorRange	= 0.4 0.6
			End
			Flags               = RANDOMSTART
		End
	
		AnimationState        = DYING SPLATTED
			StateName           = STATE_Bow
			Animation           = GUFaramir_LNDA
				AnimationName     = GUFaramir_SKL.GUFaramir_LNDA
				AnimationMode     = ONCE
			End
		End
		
		AnimationState        = DYING
			StateName           = STATE_Bow
			Animation           = GUFaramir_DIEC
				AnimationName     = GUFaramir_SKL.GUFaramir_DIEC
				AnimationMode     = ONCE
			End
		End
		AnimationState						= PARALYZED
			Animation
				AnimationName				= GUFaramir_IDLC
				AnimationMode				= LOOP
			End
		End
		
		AnimationState        = STUNNED_STANDING_UP
			StateName           = STATE_Bow
			Animation           = GUFaramir_GTPA
				AnimationName     = GUFaramir_SKL.GUFaramir_GTPA
				AnimationMode     = ONCE
				AnimationSpeedFactorRange = 1.5 1.5
			End
		End
		
		AnimationState        = STUNNED
			StateName           = STATE_Bow
			Animation           = GUFaramir_LNDA
				AnimationName     = GUFaramir_SKL.GUFaramir_LNDA
				AnimationMode     = ONCE
			End
		End
		AnimationState        = USER_1
			Animation           = GUFaramir_POSA
				AnimationName     = GUFaramir_SKL.GUFaramir_POSA
				AnimationMode     = ONCE
			End
		End
		AnimationState        =  SPECIAL_WEAPON_ONE
			StateName = STATE_Bow
			Animation
				AnimationName           = GUFaramir_SKL.GUFaramir_ATKC
				AnimationMode       = ONCE
			End
			FrameForPristineBonePositions = 59
			BeginScript
				CurDrawableShowSubObject("arrow")
			EndScript
		End
		AnimationState        =  SPECIAL_WEAPON_TWO
			StateName = Attacking
			Animation
				AnimationName       = GUFaramir_SKL.GUFaramir_CHRD
				AnimationMode       = ONCE
			End
		End
		
		AnimationState        = MOVING USER_4
			StateName           = Slaughter
			Flags               = RANDOMSTART
			Animation           = GUFaramir_ATKE
				AnimationName     = GUFaramir_SKL.GUFaramir_ATKE
				AnimationMode     = LOOP
			End
			StateName           = NoSword
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow") end
			EndScript
		End
		
		AnimationState			= MOVING
			StateName           = STATE_RunningBow
			Flags               = RANDOMSTART
			Animation           = GUFaramir_RUNA
				AnimationName   = GUFaramir_SKL.guithil_runa
				AnimationSpeedFactorRange = 1 1
				;Distance = 28
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow") end
				if Prev == "STATE_RunningSword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Running") end
			EndScript
		End
        AnimationState                    =    PREATTACK_A
            StateName                    =    STATE_Firing
            Animation                    =    ReadyToDrawn
                AnimationName            =    GUFaramir_SKL.guithil_atka1
                AnimationMode            =    ONCE
            End
        End
        AnimationState                    =    FIRING_OR_RELOADING_A
            StateName                    =    STATE_Firing
            Animation                    =    LooseReloadDraw
                AnimationName            =    GUFaramir_SKL.guithil_atka2
                AnimationMode            =    ONCE
                AnimationSpeedFactorRange = 1.1 1.1
            End
        End
        AnimationState                    =    CONTINUOUS_FIRE_MEAN
            Animation                    =    HangFrameWhileCoasting
                AnimationName            =    GUFaramir_SKL.guithil_atka2
                AnimationMode            =    MANUAL
            End
        End
        AnimationState                        = CONTINUOUS_FIRE_SLOW
            Animation                        = PutAwayArrow
                AnimationName                = GUFaramir_SKL.guithil_atka3
                AnimationMode                = ONCE
            End
        End
		
		; AnimationState = HIT_REACTION
		; 	Animation = Hit_Level_1_c
		; 		AnimationName = GUFaramir_SKL.GUFaramir_HITC
		; 		AnimationMode = ONCE
		; 	End
		; End
		
		AnimationState				= LEVELED
			Animation				= LevelUp
				AnimationName		= GUFaramir_SKL.GUFaramir_CHRD
				AnimationMode		= ONCE
			End
		End
		
		AnimationState				=	EMOTION_CELEBRATING
			Animation
				AnimationName		=	GUFaramir_SKL.GUFaramir_CHRD
				AnimationMode		=	LOOP
			End
		End
		
		AnimationState				=	EMOTION_TAUNTING
			Animation
				AnimationName		=	GUFaramir_SKL.GUFaramir_CHRD
				AnimationMode		=	LOOP
			End
		End
		
		AnimationState				=	RAISING_FLAG
			Animation
				AnimationName		=	GUFaramir_SKL.GUFaramir_CHRD
				AnimationMode		=	LOOP
			End
		End
		AnimationState				=	SELECTED
			StateName				=	STATE_Selected_Bow
			Animation				=	ATNB
				AnimationName		=	GUFaramir_SKL.GUFaramir_ATNB
				AnimationMode		=	LOOP
				AnimationBlendTime  = 15
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Selected_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow") end
				if Prev == "STATE_Idle_Bow"	then CurDrawableSetTransitionAnimState("TRANS_BoredToSelectedBow") return end
				if Prev == "STATE_CaptainBow" then CurDrawableSetTransitionAnimState("TRANS_CaptainBowToSelectedBow") end
			EndScript
		End
			
		AnimationState				= PACKING_TYPE_1
			StateName				= OATH_KEEPERS
			Animation
				AnimationName       = GUFaramir_SKL.GUFaramir_CHRD
				AnimationMode       = ONCE
			End
;			FXEvent			= Frame:2 Name:FX_HalbaradBannerofArwenSelf
		End					
		IdleAnimationState
			StateName           = STATE_Idle_Bow		
			Animation           		= IdleBow
				AnimationName       	= GUFaramir_SKL.gufaramirB_idlc
				; AnimationMode       	= LOOP
				AnimationPriority	    = 20
				AnimationBlendTime  = 15
			End
			Animation           		= IdleBow2
				AnimationName       	= GUFaramir_SKL.gufaramirB_idld
				; AnimationMode       	= LOOP
				AnimationPriority	    = 1
			End
			Animation           		= IdleBow3
				AnimationName       	= GUFaramir_SKL.gufaramirB_idle
				; AnimationMode       	= LOOP
				AnimationPriority	    = 1
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow") end
				if Prev == "STATE_Selected_Bow" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBoredBow") end
			EndScript
		End
		
		TransitionState = TRANS_BoredToSelectedBow
			Animation = ATNC
				AnimationName		= GUFaramir_SKL.gufaramirB_atnc
				AnimationMode		= ONCE
			End
		End
		TransitionState = TRANS_CaptainBowToSelectedBow
			Animation = ATNC
				AnimationName		= GUFaramir_SKL.gufaramirB_atnc
				AnimationMode		= ONCE
				AnimationBlendTime	= 10
				AnimationSpeedFactorRange = 1.5 1.5
			End
		End
		TransitionState = TRANS_SelectedToBoredBow
			Animation			= ATNA
				AnimationName	= GUFaramir_SKL.gufaramirB_atnd
				AnimationMode	= ONCE
			End
		End
		
	End
	
    #include "..\..\..\includes\StunDrawModuleSmall.inc"
	Side = Mordor
	EditorSorting       = UNIT
	ThreatLevel         = LEGOLAS_THREAT_LEVEL
	ThingClass          = CHARACTER_UNIT
  	BuildCost           = 1200 ;LEGOLAS_BUILDCOST
 	 BuildTime           = HERO_BUILDTIME_TIER_1
  	ShockwaveResistance = SHOCKWAVE_RESISTANCE_STRONG
	TransportSlotCount = TRANSPORTSLOTCOUNT_HERO
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    BelokhZaBow
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions = MOUNTED 
		Weapon = PRIMARY    BelokhZaMountedBow
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	ArmorSet
		Conditions      = None
		Armor           = LegolasGreenwoodArmor
		DamageFX        = NormalDamageFX
	End
	ArmorSet
		Conditions      = MOUNTED
		Armor           = HeroArmorMounted
		DamageFX        = NormalDamageFX
	End
	VisionRange = VISION_HERO_RANGED
	ShroudClearingRange = SHROUD_CLEAR_RANGED_HERO
	MaxVisionBonusPercent = 300%
	VisionBonusTestRadius = 200
	VisionBonusPercentPerFoot = 1.0%
	BountyValue = 300 ;ROHAN_LEGOLAS_BOUNTY_VALUE
	DisplayName = OBJECT:RhunBelokhZa
	RecruitText			= CONTROLBAR:BelokhZaRecruit
	ReviveText			= CONTROLBAR:BelokhZaRevive
	Hotkey				= CONTROLBAR:BelokhZaHotkey
	CrusherLevel = 0
	MountedCrusherLevel = 1
	CrushableLevel = 2
	MountedCrushableLevel = 2
	CrushWeapon		= HeroCrush  
	MinCrushVelocityPercent = 65
	CrushDecelerationPercent = 30
	CrushKnockback = 40
	CrushZFactor = 1.0
	CommandSet = BelokhZaCommandSet
	CommandPoints = 0
	HeroSortOrder = 30
	AutoResolveUnitType = AutoResolveUnit_Hero
	AutoResolveCombatChain = AutoResolve_HeroCombatChain
	AutoResolveBody = Aotr_AutoResolve_LeaderMediumHeroBody
	AutoResolveArmor
		Armor = Aotr_AutoResolve_HeroLeaderArmor
	End
	AutoResolveWeapon
		Weapon = AutoResolve_LeaderHeroWeakWeapon
	End
			VoiceAttack 							= BelohkVoiceAttack
			VoiceAttackAir							= BelohkVoiceAttack
			VoiceAttackCharge 						= BelohkVoiceAttackCharge
			VoiceAttackMachine 						= BelohkVoiceAttackBuilding
			VoiceAttackStructure 					= BelohkVoiceAttackBuilding
			VoiceGuard								= BelohkVoiceMove
			VoiceMove 								= BelohkVoiceMove
			VoiceMoveToCamp 						= BelohkVoiceMoveCamp
			VoiceMoveWhileAttacking 				= BelohkVoiceDisengage
			VoicePriority							= 95
			VoiceRetreatToCastle 					= BelohkVoiceDisengage
			VoiceSelect 							= BelohkVoiceSelect
			VoiceSelectBattle  						= BelohkVoiceSelectBattle
		
			SoundImpact								= ImpactHorse
		
			UnitSpecificSounds
				VoiceEnterUnitElvenTransportShip	= BelohkVoiceMove
				VoiceEnterUnitMordorMumakil			= BelohkVoiceMove
				VoiceEnterUnitSlaughterHouse		= BelohkVoiceMove
				VoiceEnterUnitTransportShip			= BelohkVoiceMove
				VoiceGarrison						= BelohkVoiceMove
				VoiceInitiateCaptureBuilding		= BelohkVoiceMove
			End

			ClientBehavior = ModelConditionSoundSelectorClientBehavior ModuleTag_MCSoundSelector
		SoundState = MOUNTED
			VoiceAttack 							= BelohkVoiceAttack
			VoiceAttackAir							= BelohkVoiceAttack
			VoiceAttackCharge 						= BelohkVoiceAttackCharge
			VoiceAttackMachine 						= BelohkVoiceAttackBuilding
			VoiceAttackStructure 					= BelohkVoiceAttackBuilding
			VoiceGuard								= BelohkVoiceMove
			VoiceMove 								= BelohkVoiceMove
			VoiceMoveToCamp 						= BelohkVoiceMoveCamp
			VoiceMoveWhileAttacking 				= BelohkVoiceDisengage
			VoicePriority							= 95
			VoiceRetreatToCastle 					= BelohkVoiceDisengage
			VoiceSelect 							= BelohkVoiceSelect
			VoiceSelectBattle  						= BelohkVoiceSelectBattle
		
			SoundImpact								= ImpactHorse
			VoicePriority			= 82
			UnitSpecificSounds
				VoiceGarrison		= BelohkVoiceMove
			End
		End
	End

	CrowdResponseKey = EvilMen1

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"
;	EvaEventDieOwner			= ElrondDie		;Eva event to trigger on unit's death. NOTICE THAT this is only for permanent deaths

	; Tie into LargeGroupAudio system
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key	= Humanoid_Male Man Man_Male Easterling_Infantry			;Human
		;UnitWeight = 2
	End
	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800   
		AnimationSound = Sound:FootstepDirtA		Animation:GUFaramir_SKL.guithil_runa		Frames:2 12
		AnimationSound = Sound:FootstepDirtA		Animation:GUFaramir_SKL.GUFaramir_RUNB		Frames:2 12
		AnimationSound = Sound:FootstepDirtA		Animation:GUFaramir_SKL.gudundan_atra		Frames:2 12
		AnimationSound = Sound:FootstepDirtA		Animation:GUFaramir_SKL.gudundan_runb		Frames:2 12
		AnimationSound = Sound:FootstepDirtA		Animation:GUFaramir_SKL.gudundan_rund		Frames:2 12
		AnimationSound = Sound:FootstepDirtA		Animation:GUFaramir_SKL.gudundan_rune		Frames:2 12
		AnimationSound = Sound:WeaponSwitchBow		Animation:GUFaramir_SKL.GUFaramir_ATKC		Frames:18		;wounding arrow
		AnimationSound = Sound:SwordShingClean1		Animation:GUFaramir_SKL.GUFaramir_STHA		Frames:21
		AnimationSound = Sound:SwordIntoScabbard1		Animation:GUFaramir_SKL.GUFaramir_STHB		Frames:11
		AnimationSound = Sound:WeaponSwitchBow		Animation:GUFaramir_SKL.GUFaramir_STHB		Frames:28
		AnimationSound = Sound:SwordIntoScabbard1		Animation:GUFaramir_SKL.GUFaramir_STHC		Frames:2
		AnimationSound = Sound:WeaponSwitchBow		Animation:GUFaramir_SKL.GUFaramir_STHC		Frames:3
		AnimationSound = Sound:SwordShingClean1		Animation:GUFaramir_SKL.GUFaramir_STHD		Frames:6
		AnimationSound = Sound:BodyFallGenericNoArmor	Animation:GUFaramir_SKL.GUFaramirS_DIEA		Frames:88
		AnimationSound = Sound:BodyFallGenericNoArmor	Animation:GUFaramir_SKL.GUFaramir_DIEA		Frames:88
		AnimationSound = Sound:BodyFallGenericNoArmor	Animation:GUFaramir_SKL.GUFaramir_DIEB		Frames:85
		AnimationSound = Sound:BodyFallGenericNoArmor	Animation:GUFaramir_SKL.GUFaramir_DIEC		Frames:49
		AnimationSound = Sound:BodyFallSoldier		Animation:GUFaramir_SKL.GUFaramir_LNDA		Frames:3
		AnimationSound = Sound:BodyFallSoldier		Animation:GUFaramir_SKL.GUFaramir_LNDB		Frames:2
		AnimationSound = Sound: HorseMoveFootstepsLoose		Animation: RURhrmArch_SKL.RURhrmArch_ACCL	Frames: 8 30
		AnimationSound = Sound: HorseMoveFootstepsLoose		Animation: RURhrmArch_SKL.RURhrmArch_RUNA	Frames: 0
		AnimationSound = Sound: HorseMoveFootstepsLoose		Animation: RURhrmArch_SKL.RURhrmArch_RUNB	Frames: 0
		AnimationSound = Sound: HorseMoveFootstepsLoose		Animation: RURhrmArch_SKL.RURhrmArch_RUNC	Frames: 0
		AnimationSound = Sound: HorseMoveFootstepsLoose		Animation: RURhrmArch_SKL.RURhrmArch_TNL1	Frames: 0
		AnimationSound = Sound: HorseMoveFootstepsLoose		Animation: RURhrmArch_SKL.RURhrmArch_TNR1	Frames: 0
		AnimationSound = Sound: HorseMoveFootstepsLoose		Animation: RURhrmArch_SKL.RURhrmArch_TRNL	Frames: 0
		AnimationSound = Sound: HorseMoveFootstepsLoose		Animation: RURhrmArch_SKL.RURhrmArch_TRNR	Frames: 0
		AnimationSound = Sound: HorseMoveFootstepsLoose		Animation: RURhrmArch_SKL.RURhrmArch_ATKD	Frames: 0
		AnimationSound = Sound: HorseMoveFootstepsLoose		Animation: RURhrmArch_SKL.RURhrmArch_ATKF	Frames: 0
		AnimationSound = Sound: HorseMoveFootstepsLoose		Animation: RURhrmArch_SKL.RURhrmArch_ATKH	Frames: 0
		AnimationSound = Sound: HorseMoveFootstepsLoose		Animation: RURhrmArch_SKL.RURhrmArch_ATKJ	Frames: 0
		AnimationSound = Sound: HorseWhinny			Animation: RURhrmArch_SKL.RURhrmArch_CHRB	Frames: 8
		AnimationSound = Sound: HorseWhinny			Animation: RURhrmArch_SKL.RURhrmArch_CHRC	Frames: 15
		AnimationSound = Sound: HorseWhinny			Animation: RURhrmArch_SKL.RURhrmArch_DIEA	Frames: 0
		AnimationSound = Sound: HorseWhinny			Animation: RURhrmArch_SKL.RURhrmArch_DIEB	Frames: 0
		AnimationSound = Sound: BodyFallGeneric1		Animation: RURhrmArch_SKL.RURhrmArch_DIEA	Frames: 10 46
		AnimationSound = Sound: BodyFallGeneric1		Animation: RURhrmArch_SKL.RURhrmArch_DIEB	Frames: 11
		AnimationSound = Sound: BodyFallGeneric1		Animation: RURhrmArch_SKL.RURhrmArch_LNDA	Frames: 3 11
	End
	RadarPriority = UNIT
	KindOf = HERO PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT ARMY_SUMMARY ATTACK_NEEDS_LINE_OF_SIGHT SPAWNS_ARE_THE_WEAPONS ;HEAVY_MELEE_HITTER
	PathfindDiameter = 25 ; = 40.0
	Body = RespawnBody ModuleTag_RespawnBody
		CheerRadius 			= EMOTION_CHEER_RADIUS
		MaxHealth         		= LEGOLAS_HEALTH
		PermanentlyKilledByFilter	= NONE
   		DodgePercent      		= HERO_DODGE_PERCENT
	End
		Behavior = RespawnUpdate ModuleTag_RespawnUpdate
		DeathAnim				= DYING
		DeathFX						= FX_VahRusDieToRespawn
		DeathAnimationTime			= 3000
		InitialSpawnFX				= FX_BelohkInitialSpawn
		RespawnAnim					= LEVELED
		RespawnFX					= FX_BelohkRespawn
		RespawnAnimationTime		= 2000
		AutoRespawnAtObjectFilter	= NONE +CASTLE_KEEP
		ButtonImage				= uibelokhzares
		RespawnRules =			AutoSpawn:No	Cost:960		Time:HERO_RESPAWNTIME_TIER_1		Health:100% ;Cost:1200
		RespawnEntry =	Level:2				Cost:1020		Time:HERO_RESPAWNTIME_TIER_1
		RespawnEntry =	Level:3				Cost:1080		Time:HERO_RESPAWNTIME_TIER_1
		RespawnEntry =	Level:4				Cost:1140		Time:HERO_RESPAWNTIME_TIER_1
		RespawnEntry =	Level:5				Cost:1200		Time:HERO_RESPAWNTIME_TIER_1
		RespawnEntry =	Level:6				Cost:1260		Time:HERO_RESPAWNTIME_TIER_1
		RespawnEntry =	Level:7				Cost:1320		Time:HERO_RESPAWNTIME_TIER_1
		RespawnEntry =	Level:8				Cost:1380		Time:HERO_RESPAWNTIME_TIER_1
		RespawnEntry =	Level:9				Cost:1440		Time:HERO_RESPAWNTIME_TIER_1
		RespawnEntry =	Level:10			Cost:1500		Time:HERO_RESPAWNTIME_TIER_1
	End
	Behavior = AutoHealBehavior ModuleTag_LegolasHealing
		StartsActive = Yes
		HealingAmount = HERO_HEAL_AMOUNT
		HealingDelay = 1000
		StartHealingDelay = HERO_HEAL_DELAY
		HealOnlyIfNotInCombat = Yes
	End
	Behavior = NotifyTargetsOfImminentProbableCrushingUpdate ModuleTag_NotifyCrushScan
	End
	Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End
	#include "..\..\..\includes\CaptureBuilding.inc"
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle		= Yes ATTACK_BUILDINGS
		MoodAttackCheckRate				= 200
		AILuaEventsList					= BelohkFunctions ; LegolasFunctions ; ForlongFunctions for Upgrade_EvilBoyos to unlock ze dogs
		CanAttackWhileContained			= Yes
	End
	Behavior = EmotionTrackerUpdate	Module_EmotionTracker
		TauntAndPointDistance				= 300
		TauntAndPointUpdateDelay			= 10000
		AddEmotion			=	Doom_Base
		//	AddEmotion			=   BraceForBeingCrushed_Base
		//	AddEmotion			=	FearIdle_Base
		//	AddEmotion			=	FearBusy_Base
		AddEmotion			=	Point_Base
		AddEmotion			=	Taunt_Base
 		AddEmotion			=	CheerIdle_Base
		AddEmotion			=	CheerBusy_Base
		//	AddEmotion			=	HeroCheerIdle_Base
		//	AddEmotion			=	HeroCheerBusy_Base
		AddEmotion			=	Alert_Base
		AddEmotion			=	CheerForAboutToCrush_Base
	End
	LocomotorSet
		Locomotor = RohanLegolasLocomotor
		Condition = SET_NORMAL
		Speed     = NORMAL_ELVEN_FAST_MEMBER_SPEED
	End
	LocomotorSet
		Locomotor = HeroHorseLocomotor
		Condition = SET_MOUNTED 
		Speed     = NORMAL_MOUNTED_MED_MEMBER_SPEED
	End
	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -KNOCKBACK -FADED
		SinkDelay = 3000
		SinkRate = 0.40
		DestructionDelay = 8000
		Sound = INITIAL BelohkVoiceDie
	End
	Behavior = SquishCollide ModuleTag_06
	End
	Behavior = SlowDeathBehavior ModuleTag_07
		DeathTypes = NONE +KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.40
		DestructionDelay = 8000
	End
	Behavior = BezierProjectileBehavior ModuleTag_08
		FirstHeight = 24
		SecondHeight = 24
		FirstPercentIndent = 30%
		SecondPercentIndent = 70%
		TumbleRandomly = Yes
		CrushStyle = Yes
		DieOnImpact = Yes
		BounceCount = 1
		BounceDistance = 40
		BounceFirstHeight = 24
		BounceSecondHeight = 24
		BounceFirstPercentIndent = 20%
		BounceSecondPercentIndent = 80%
		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End

;===========================
;		The Houndmaster
;===========================
		Behavior = ProductionUpdate ProductionUpdateModuleTag
		GiveNoXP = Yes
	End
	Behavior = QueueProductionExitUpdate ModuleTag_11
		PlacementViewAngle  = 45
		UnitCreatePoint			= X:10.0 Y:0.0 Z:0.0
		NaturalRallyPoint		= X:20.0 Y:-20.0 Z:0.0
		ExitDelay			= 100 ;STANDARD_HORDE_EXIT_DELAY
	End
	Behavior = SpawnBehavior ModuleTag_SpawnFighters
		SpawnNumber = 3 ;2
		InitialBurst = 3 ;2
		SpawnTemplateName = RhunWardog_Slaved
		SpawnReplaceDelay = 35000
		FadeInTime = 3000
		OneShot = No
		SpawnInsideBuilding = No
		CanReclaimOrphans	= Yes
	End
	
	Behavior = FireWeaponUpdate ModuleTag_GobboFollowersAttack
			FireWeaponNugget
				WeaponName = SlavedUnitAttackOrder_LongRange
				FireDelay = 0
				OneShot = No
			End
	End
;-------------
	; Behavior = UnpauseSpecialPowerUpgrade ModuleTag_HaldirLeadership
		; SpecialPowerTemplate				= SpecialAbilityFakeLeadership
		; TriggeredBy							= Upgrade_ObjectLevel1 ;Upgrade_HaldirLeadership
	; End

	Behavior = SpecialPowerModule ModuleTag_HaldirLeadershipUpdate
		SpecialPowerTemplate				= SpecialAbilityFakeLeadership
		UpdateModuleStartsAttack			= No
		StartsPaused						= No ;Yes
	End
	; Behavior = AttributeModifierAuraUpdate ModuleTag_Leadership
		; StartsActive						= No
		; BonusName							= BeastmasterLeadership
		; TriggeredBy							= Upgrade_ObjectLevel1 ;Upgrade_HaldirLeadership
		; RefreshDelay						= 2000
		; Range								= 600
		; ObjectFilter						= NONE +HaradJungleWarg +HaradJungleWarg_Summoned +HaradJungleWarg_Slaved +HaradGiantScorpion +HaradVulture +HaradKaradd
; ;		ObjectFilter						= AOTR_GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
	; End
;===========================
;		Active part
;===========================
		Behavior = UnpauseSpecialPowerUpgrade ModuleTag_DainSummonEnabler
		SpecialPowerTemplate = SpecialAbilityHoundmaster
		TriggeredBy = Upgrade_ObjectLevel1
	End

	Behavior = OCLSpecialPower ModuleTag_OCLSpecialPower
		SpecialPowerTemplate	= SpecialAbilityHoundmaster
		OCL						= OCL_HoundmasterSummon
		CreateLocation			= USE_OWNER_OBJECT ; CREATE_AT_LOCATION
	    TriggerFX	 		= FX_SummonHoundmasterWargs
		StartsPaused			= Yes
		SetModelCondition		= ModelConditionState:RAISING_FLAG
		SetModelConditionTime	= 3
	End
	Behavior = AutoAbilityBehavior ModuleTag_AotDAutoAbility ;;,;;
		SpecialAbility	= SpecialAbilityHoundmaster
		ForbiddenStatus = INSIDE_GARRISON ;;,;; This seems to prevent the ability from being used inside a tower
		MaxScanRange	= 300
		Query	= 30 ANY ENEMIES +INFANTRY +CAVALRY +STRUCTURE -WALL_UPGRADE -WALL_HUB -WALL_SEGMENT -DEFENSIVE_WALL
		Query	= 1 ANY ENEMIES +INFANTRY +CAVALRY +MONSTER +STRUCTURE -WALL_UPGRADE -WALL_HUB -WALL_SEGMENT -DEFENSIVE_WALL -UNATTACKABLE
	End
;===========================
;		MASTER OF THE KHANDISH STEPPES
;===========================
	Behavior = AttributeModifierAuraUpdate ModuleTag_Leadership
		StartsActive						= No
		BonusName							= HoundmasterLeadership
		TriggeredBy							= Upgrade_ObjectLevel3 ;Upgrade_HaldirLeadership
		RefreshDelay						= 2000
		Range								= 600
		ObjectFilter						= NONE +RhunWardog +RhunWardogAlpha +RhunWardog_Slaved +RhunWardog_Summoned +AuxillaryArcher +RhunVariagHorseArcher +MordorVariag +TribalAuxillary +MordorVariag_Rhun
;		ObjectFilter						= AOTR_GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
	End

	;//MOUNT TOGGLE

	Behavior = SpecialPowerModule ModuleTag_HorseToggleStarter                      
 		SpecialPowerTemplate		= SpecialAbilityToggleMounted
 		UpdateModuleStartsAttack	= Yes
 		StartsPaused				= No
 	End
	Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_HorseToggle
 		SpecialPowerTemplate		= SpecialAbilityToggleMounted
 		TriggerInstantlyOnCreate 	= No
 		UnpackTime					= 2000
 		PreparationTime				= 1  
 		PersistentPrepTime			= 250
 		PackTime					= 2000
 		OpacityTarget				= .3
 		AwardXPForTriggering		= 0
	End
;--------------------------------------------------------------------------
; WARMONGER'S SHOT
;--------------------------------------------------------------------------
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_UnpauseSlamArrow
		SpecialPowerTemplate		= SpecialAbilityDaleSlamArrow
		TriggeredBy			= Upgrade_ObjectLevel4
	End
	Behavior = SpecialPowerModule ModuleTag_SlamArrow
		SpecialPowerTemplate		= SpecialAbilityDaleSlamArrow
		UpdateModuleStartsAttack	= Yes
;    	InitiateSound				= BardVoiceBlackArrow
    	StartsPaused				= Yes
	End
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_SlamArrowUpdate
		SpecialPowerTemplate		= SpecialAbilityDaleSlamArrow
		SkipContinue			= Yes
		UnpackTime			= 1200 ;;,;; 2000
		PreparationTime			= 1
		PersistentPrepTime		= 1000
		PackTime			= 1
		AwardXPForTriggering		= 0
		StartAbilityRange		= #SUBTRACT( FARAMIR_WOUNDING_ARROW_RANGE 25 )
		ApproachRequiresLOS		= Yes
		SpecialWeapon			= WarmongerShot
		WhichSpecialWeapon		= 1
	End
	Behavior = AutoAbilityBehavior ModuleTag_SlamArrowAutoAbility
		SpecialAbility			= SpecialAbilityDaleSlamArrow
		ForbiddenStatus = INSIDE_GARRISON ;;,;; This seems to prevent the ability from being used inside a tower
		MaxScanRange			= #SUBTRACT( FARAMIR_WOUNDING_ARROW_RANGE 25 )
;;,;;		Query						= 1 ALL ENEMIES -STRUCTURE
		Query						= 10 ALL ENEMIES -STRUCTURE -WALL_UPGRADE -WALL_HUB -WALL_SEGMENT -DEFENSIVE_WALL -FS_BASE_DEFENSE ;;,;; ;;;
		Query                       = 1 ANY ENEMIES +HERO ;,;
	End
	;---------------------------------------------------------
	;              FURY OF THE BEASTS
	;-------------------------------------------------------
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_TheodenGloriousChargeEnabler
		SpecialPowerTemplate = SpecialAbilityNotTheodenGloriousChargeEvil
		TriggeredBy = Upgrade_ObjectLevel8
	End
	Behavior = SpecialPowerModule ModuleTag_TheodenGloriousChargeUpdate
		SpecialPowerTemplate      = SpecialAbilityNotTheodenGloriousChargeEvil
		UpdateModuleStartsAttack  = Yes
		StartsPaused = Yes
		AttributeModifier = FuryoftheBeasts
		AttributeModifierRange = 1000
		AttributeModifierAffectsSelf = No ;Yes
		AttributeModifierAffects = NONE +RhunWardogsHorde +RhunWardog +RhunWardogAlpha +MordorVariag_Rhun +MordorVariagHorde_Rhun +MordorVariagBanner +RhunVariagHorseArcher +RhunVariagHorseArcherHorde +RhunWardog_Slaved +RhunWardog_Summoned SAME_PLAYER
		;AttributeModifierAffects = ANY +CAVALRY
		AttributeModifierFX = FX_BelohkFuryFX ;FX_TheodenGloriousChargeFX
	End
	Behavior = AutoAbilityBehavior ModuleTag_GloriousChargeAutoAbility
		SpecialAbility	= SpecialAbilityNotTheodenGloriousChargeEvil
		ForbiddenStatus = INSIDE_GARRISON
		MaxScanRange	= 200
		Query		= 20 ANY +CAVALRY -MordorBlackRiderHorde -MordorBlackRider -GondorKnightsofDolHorde -GondorKnightsofDol -WildBabyDrakeHorde -WildBabyDrake ALLIES
	End

	Behavior = SpecialAbilityUpdate ModuleTag_GloriousChargeAnimation
		UnpackTime              = 1000
		UnpackingVariation		= 1

		SpecialPowerTemplate	= SpecialAbilityNotTheodenGloriousChargeEvil
 		PreparationTime         = 0
 		PersistentPrepTime      = 0
 		PackTime                = 1330
 	End
	;--------------------------------------------------------------------------------------------
		;           Commandset change
	;-------------------------------------------------------------------------------------------
	Behavior = CommandSetUpgrade ModueTag_CommandSetLvl10
        TriggeredBy              	= Upgrade_ObjectLevel10
        CommandSet               	= BelokhZaCommandSetLvl10
    End
	;-----------------------------------------------------------------------------
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_TheodenGloriousChargeEnablerLvl10
		SpecialPowerTemplate = SpecialAbilityFuryoftheBeastsLvl10
		TriggeredBy = Upgrade_ObjectLevel8
	End
	Behavior = SpecialPowerModule ModuleTag_TheodenGloriousChargeUpdateLvl10
		SpecialPowerTemplate      = SpecialAbilityFuryoftheBeastsLvl10
		UpdateModuleStartsAttack  = Yes
		StartsPaused = Yes
		AttributeModifier = FuryoftheBeastsLvl10
		AttributeModifierRange = 200
		AttributeModifierAffectsSelf = No ;Yes
		AttributeModifierAffects = NONE +RhunWardogsHorde +RhunWardog +MordorVariag_Rhun +MordorVariagHorde_Rhun +MordorVariagBanner +RhunVariagHorseArcher +RhunVariagHorseArcherHorde +RhunWardog_Slaved +RhunWardog_Summoned SAME_PLAYER
		;AttributeModifierAffects = ANY +CAVALRY
		AttributeModifierFX = FX_GolfimbulHatredFX ;FX_TheodenGloriousChargeFX
	End
	Behavior = AutoAbilityBehavior ModuleTag_GloriousChargeAutoAbilityLvl10
		SpecialAbility	= SpecialAbilityFuryoftheBeastsLvl10
		ForbiddenStatus = INSIDE_GARRISON
		MaxScanRange	= 200
		Query		= 20 ANY +CAVALRY -MordorBlackRiderHorde -MordorBlackRider -GondorKnightsofDolHorde -GondorKnightsofDol -WildBabyDrakeHorde -WildBabyDrake ALLIES
	End

	Behavior = SpecialAbilityUpdate ModuleTag_GloriousChargeAnimationLvl10
		UnpackTime              = 1000
		UnpackingVariation		= 1

		SpecialPowerTemplate	= SpecialAbilityFuryoftheBeastsLvl10
 		PreparationTime         = 0
 		PersistentPrepTime      = 0
 		PackTime                = 1330
 	End
	; ;-----------------------------------------------------------------------------
	; ;	Shadowstrike
	; ;-----------------------------------------------------------------------------
	; Behavior = UnpauseSpecialPowerUpgrade ModuleTag_TeleportEnabler
		; SpecialPowerTemplate = SpecialAbilityTaurielForestDaughter
		; TriggeredBy			 = Upgrade_ObjectLevel2 ;Upgrade_BlinkTrigger
	; End

	; Behavior = SpecialPowerModule ModuleTag_TeleportStarter
		; SpecialPowerTemplate	 = SpecialAbilityTaurielForestDaughter
		; UpdateModuleStartsAttack = Yes
		; TriggerFX		= FX_Blink
		; StartsPaused		= Yes
	; End
	; Behavior = TeleportSpecialAbilityUpdate ModuleTag_TeleportUpdate
		; SpecialPowerTemplate  =	SpecialAbilityTaurielForestDaughter

		; ;UnpackingVariation	  =	2
		; ;UnpackTime		 =	1800
		; ;PackTime		=	1800

		; ApproachRequiresLOS	  =	No
		; BusyForDuration		  =	1800 ;// don't accept	any	AI for this	long...	ai commands	will be	queued (should be at least PackTime)

		; DestinationWeaponName =	BelokhZaBlinkDestination ;CreateaHeroBlinkDestination	// Fires	at point of	teleport to	push people	away and down.
	; End
	; ;----------------------------------------------------------------
	; ;		Dragon's Talon
	; ;----------------------------------------------------------------
		; Behavior = UnpauseSpecialPowerUpgrade ModuleTag_UnpauseWoundArrow
		; SpecialPowerTemplate		= SpecialAbilityWoundArrow
		; TriggeredBy					= Upgrade_ObjectLevel3
	; End
	; Behavior = SpecialPowerModule ModuleTag_WoundArrow
		; SpecialPowerTemplate		= SpecialAbilityWoundArrow
		; UpdateModuleStartsAttack	= Yes
; ;    	InitiateSound				= FaramirRangerVoiceWoundingArrow
    	; StartsPaused				= Yes
	; End
	; Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_WoundArrowUpdate
		; SpecialPowerTemplate		= SpecialAbilityWoundArrow
		; SkipContinue				= Yes
		; UnpackTime					= 2000
		; PreparationTime				= 1
		; PersistentPrepTime			= 1000
		; PackTime					= 1
		; AwardXPForTriggering		= 0
		; StartAbilityRange			= FARAMIR_WOUNDING_ARROW_RANGE
		; ApproachRequiresLOS			= Yes
		; SpecialWeapon				= DragonTalonArrow
		; WhichSpecialWeapon			= 1
	; End
	; Behavior = AutoAbilityBehavior ModuleTag_WoundArrowAutoAbility
		; SpecialAbility				= SpecialAbilityWoundArrow
		; ForbiddenStatus = INSIDE_GARRISON
		; MaxScanRange				= FARAMIR_WOUNDING_ARROW_RANGE
		; Query						= 1 ANY ENEMIES +MONSTER +HERO +AngmarThrallMaster +AngmarThrallMasterInn +AngmarThrallMasterBanner +AngmarThrallMasterSpearmenBanner +AngmarThrallMasterAxeBanner +AngmarThrallMasterSlingerBanner +AngmarThrallMasterOrcBanner +AngmarThrallMasterWolfBanner +AngmarThrallMasterHillmenBanner +AngmarNecromancerBanner +MordorFellBeast +MordorWitchKingOnFellBeast +GondorGwaihir +ElvenGwaihir_Summoned +GondorGwaihir_Summoned +ElvenFortressEagle +KhamulFellBeast +MorgomirFellBeast +Drogoth
	; End
	; ;-----------------------------------------------------------------------
	; ;		Deathmark
	; ;------------------------------------------------------------------------
	; Behavior = UnpauseSpecialPowerUpgrade ModuleTag_CreateAHeroAttachSpyEnabler_Level1 ;;.;;
		; SpecialPowerTemplate = SpecialAbilityLeaderoftheHunt
		; TriggeredBy = Upgrade_ObjectLevel6
		; RequiresAllTriggers = Yes
	; End

	; Behavior = SpecialPowerModule ModuleTag_CreateAHeroAttachSpyStarter_Level1
		; SpecialPowerTemplate		= SpecialAbilityLeaderoftheHunt
		; UpdateModuleStartsAttack	= Yes
		; StartsPaused			= Yes
		; TriggerFX = FX_AttachSpy
	; End

	; Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_CreateAHeroAttachSpyUpdate_Level1
		; SpecialPowerTemplate    = SpecialAbilityLeaderoftheHunt

		; ; UnpackTime              = 2000
		; ; PackTime                = 2000

		; UnpackTime				= 1100	; Pull out arrow
		; ; PreparationTime			= 1		; Quick shot
		; ; PersistentPrepTime		= 500	; looping the quick shot
		; PackTime				= 500	; back to idle
		; ; MustFinishAbility		= Yes
		; AwardXPForTriggering    = 0
		; StartAbilityRange		= CREATE_A_HERO_SPY_DO_POWER_RANGE_L1
		; ApproachRequiresLOS		= Yes
		; SpecialWeapon = DeathmarkWeapon
		; WhichSpecialWeapon = 2
	; End

	; Behavior = AutoAbilityBehavior ModuleTag_AttachSpyAutoAbility
		; SpecialAbility				= SpecialAbilityLeaderoftheHunt
		; ForbiddenStatus = INSIDE_GARRISON
		; MaxScanRange				= 275
		; Query = 1 ANY +HERO ENEMIES -STRUCTURE -WALL_UPGRADE -WALL_HUB -WALL_SEGMENT -DEFENSIVE_WALL -FS_BASE_DEFENSE
	; End

	; ;----------------------------------
	; ;		Fan of Knives
	; ;----------------------------------
	; Behavior = UnpauseSpecialPowerUpgrade ModuleTag_ArrowWindEnabler
		; SpecialPowerTemplate = SpecialAbilityArrowStorm
		; TriggeredBy = Upgrade_ObjectLevel8 ;Upgrade_LegolasArrowWind
	; End
	; Behavior = SpecialPowerModule ModuleTag_ArrowWindStarter
		; SpecialPowerTemplate		= SpecialAbilityArrowStorm
		; UpdateModuleStartsAttack	= Yes
		; StartsPaused			= Yes
	; End
	; Behavior = ArrowStormUpdate ModuleTag_ArrowWindUpdate
		; SpecialPowerTemplate    = SpecialAbilityArrowStorm
		; StartAbilityRange       = 320.0
		; UnpackTime              = 1000
		; PreparationTime         = 200
		; PersistentPrepTime      = 600
		; PackTime                = 1200
		; UnpackingVariation		= 1
		; ParalyzeDurationWhenCompleted = 600
		; ParalyzeDurationWhenAborted = 800
		; ApproachRequiresLOS     = Yes
		; AwardXPForTriggering    = 0
		; WeaponTemplate  = FanofKnivesWeapon
		; TargetRadius    = 200
		; ShotsPerTarget  = 1
		; ShotsPerBurst   = 7
		; MaxShots        = 70
  		; CanShootEmptyGround = Yes
	; End


	Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
		CommandButtonName = Command_SetStanceBattle
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
	End
	Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive
		CommandButtonName = Command_AttackMove
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
	End
	Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
		CommandButtonName = Command_SetStanceHoldGround
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
	End
	Behavior = AISpecialPowerUpdate HaradBeasmasterWargTamerAI
		CommandButtonName = Command_SpecialAbilityHoundmaster
		SpecialPowerAIType = AI_SPECIAL_POWER_TARGETAOE_SUMMON
	End
	
	Behavior = AISpecialPowerUpdate SpecialSlamArrowAoE
		CommandButtonName = Command_SpecialAbilityWarmongerShot
		SpecialPowerAIType = AI_SPECIAL_POWER_ENEMY_TYPE_KILLER_RANGED ;;,;; AI_SPECIAL_POWER_ENEMY_TYPE_KILLER ;;,;; Changed for 2.5
		SpecialPowerAIType	= AI_SPECIAL_POWER_MORGUL_BLADE ;;,;; AI_SPECIAL_POWER_GANDALF_WIZARD_BLAST ;;,;; Changed for 2.5
	End
	
	Behavior = AISpecialPowerUpdate SpecialPowerTheodenGloriousCharge
		CommandButtonName = Command_FuryoftheBeasts
		SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
	End
	Behavior = AISpecialPowerUpdate SpecialPowerTheodenGloriousCharge2
		CommandButtonName = Command_FuryoftheBeastsLvl10
		SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
	End
	
	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = Yes
	Shadow = SHADOW_DECAL
	ShadowSizeX = 19
	ShadowSizeY = 19
	ShadowTexture = ShadowI
End

ChildObject RhunBelokhZa_WOTR RhunBelokhZa
	Behavior = GrantUpgradeCreate ModuleTag_GiveUpgrade
		UpgradeToGrant			= Upgrade_WOTRHero9
	End
	Behavior = AttributeModifierAuraUpdate ModuleTag_SerfActivation
		StartsActive	= No
		BonusName		= VahRusSerfActivation
		TriggeredBy		= Upgrade_ObjectLevel1
		RefreshDelay	= 2000
		Range			= 999999999
		ObjectFilter	= ANY +MordorOrcPit_WotR +MordorOrcPitFoundation_WotR +MordorTrollCage_WotR +MordorTrollCageFoundation_WotR +MordorSiegeWorks_WotR +MordorSiegeWorksFoundation_WotR SAME_PLAYER
	End
End