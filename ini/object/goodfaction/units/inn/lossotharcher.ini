
//------------------------------------------------------------------------------
Object LossothArchers
	// *** ART Parameters ***

  SelectPortrait  =  UPLossothArchers
  ButtonImage = UILossothArchers
  Scale = 0.96

	Draw = W3DHordeModelDraw ModuleTag_01
		OkToChangeModelColor = Yes
		StaticModelLODMode = No
		ParticlesAttachedToAnimatedBones = Yes
		RandomTextureFixedRandomIndex	= Yes
//=================== MODELS ============================================================
		DefaultModelConditionState
			Model							= nuNloss_skn
			WeaponLaunchBone				= PRIMARY ARROW
			WeaponLaunchBone				= SECONDARY ARROW
			WeaponLaunchBone				= TERTIARY ARROW
			WeaponLaunchBone				= QUINARY ARROW
		End
//================== ANIMATIONS ==============================================================
//--- Long Shot ----------------------------------------------------------------------------
//---------------------------------------------------
		;AnimationState						= PREATTACK_E
		;	StateName						= STATE_Firing
		;	Animation						= ReadyToDrawn
		;		AnimationName				= EUThrndl_SKL.EUThrndl_ATA1
		;		AnimationMode				= ONCE
		;		UseWeaponTiming				= Yes
		;		AnimationSpeedFactorRange	= 1.5 1.5
		;		AnimationBlendTime			= 10
		;	End
		;	BeginScript
		;		CurDrawableShowSubObject("arrow")
		;		CurDrawableShowSubObject("arrownock")
		;	EndScript
		;End
		AnimationState			= FIRING_E
			Animation
				AnimationName	= EUThrndl_SKL.EUThrndl_ATA2
				AnimationMode   = LOOP								// loop it, because this looks better than just stopping immediately after.
				AnimationSpeedFactorRange	= 2.0 2.5
				AnimationBlendTime = 30
			End
		End
		;AnimationState					= FIRING_OR_RELOADING_E
		;	StateName						= STATE_Firing
		;	Animation						= OneFrameOfShooting
		;		AnimationName				= EUThrndl_SKL.EUThrndl_ATA2
		;		AnimationMode				= ONCE
		;		AnimationSpeedFactorRange	= 1.25 1.25
		;		AnimationBlendTime			= 0
		;	End
		;	BeginScript
		;		CurDrawableShowSubObject("arrow")
		;		CurDrawableShowSubObject("arrownock")
		;	EndScript
		;End
//--- Black Arrow ----------------------------------------------------------------------------
//---------------------------------------------------
		AnimationState						= PREATTACK_B
			StateName						= STATE_Firing
			Animation						= ReadyToDrawn
				AnimationName				= EUThrndl_SKL.EUThrndl_ATA1
				AnimationMode				= ONCE
				UseWeaponTiming				= Yes
				AnimationSpeedFactorRange	= 1.5 1.5
				AnimationBlendTime			= 10
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
			EndScript
		End
		AnimationState					= FIRING_OR_RELOADING_B
			StateName						= STATE_Firing
			Animation						= OneFrameOfShooting
				AnimationName				= EUThrndl_SKL.EUThrndl_ATA2
				AnimationMode				= ONCE
				AnimationSpeedFactorRange	= 1.0 1.0 ;1.25 1.25
				AnimationBlendTime			= 0
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
			EndScript
		End
//----------- Flying through air -------
		AnimationState						= THROWN_PROJECTILE
			Animation						= FLYA
				AnimationName				= EUThrndl_SKL.EUThrndl_FLYA
				AnimationMode				= LOOP
			End
		End
		AnimationState						= PASSENGER FREEFALL
		Animation						= FLLA
				AnimationName				= EUThrndl_SKL.EUThrndl_FLYA
				AnimationMode				= LOOP
			End
			StateName						= Bow
		End
		AnimationState						= FREEFALL
			SimilarRestart					= Yes
			StateName						= STATE_Freefall
			Animation						= FLYA
				AnimationName				= EUThrndl_SKL.EUThrndl_FLYA
				AnimationMode				= LOOP
				AnimationBlendTime			= 10
				AnimationSpeedFactorRange	= 0.65	0.65
			End
		End
		AnimationState					=	STUNNED_FLAILING
			Animation					=	StunFlail
				AnimationName			=	EUThrndl_SKL.EUThrndl_FLYA
				AnimationMode			=	LOOP
			End
			Flags						=	RANDOMSTART
		End
//----------- Dying -------
		AnimationState						= DYING DEATH_2
			Animation
				AnimationName				= EUThrndl_SKL.EUThrndl_ATNB
				AnimationMode				= LOOP
				AnimationBlendTime			= 10
			End
		End
		AnimationState						= DYING BURNINGDEATH
			Animation
				AnimationName				= EUThrndl_SKL.EUThrndl_DTHA
				AnimationMode				= ONCE
				AnimationBlendTime			= 10
			End
		End
		AnimationState						= DYING SPLATTED
			Animation						= Splattered
				AnimationName				= EUThrndl_SKL.EUThrndl_LNDA
				AnimationMode				= ONCE
			End
		End
		AnimationState						= DYING
			Animation						= Die
				AnimationName				= EUThrndl_SKL.EUThrndl_DTHA
				AnimationMode				= ONCE
			End
		End
		AnimationState						= BURNINGDEATH
			Animation
				AnimationName				= EUThrndl_SKL.EUThrndl_RUNA
				AnimationMode				= LOOP
			End
		End
		AnimationState						= PARALYZED
			Animation
				AnimationName				= EUThrndl_SKL.EUThrndl_IDLA
				AnimationMode				= LOOP
			End
		End
//------ Stunned anims -----------
		AnimationState						= STUNNED_STANDING_UP
			Animation						= GTPA
				AnimationName				= EUThrndl_SKL.EUThrndl_GTPA
				AnimationMode				= ONCE
				AnimationSpeedFactorRange	= 1.5 1.5
			End
		End
		AnimationState						= STUNNED
			Animation						= Stun
				AnimationName				= EUThrndl_SKL.EUThrndl_LNDA
				AnimationMode				= ONCE
			End
		End

		AnimationState						= FIRING_OR_PREATTACK_A
			StateName						= Attacking_Bow
			Animation
				AnimationName				= EUThrndl_SKL.EUThrndl_ATA2
				AnimationMode				= ONCE
				UseWeaponTiming				= Yes
				AnimationBlendTime			= 20
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("ArrowNock")
			EndScript
		End

;============================================CONTINUOUS FIRING VANILLA=============================
//---------------------------------------------------
		AnimationState						= PREATTACK_A
			StateName						= STATE_Firing
			Animation						= ReadyToDrawn
				AnimationName				= EUThrndl_SKL.EUThrndl_ATA1
				AnimationMode				= ONCE
				UseWeaponTiming				= Yes
				AnimationSpeedFactorRange	= 1.5 1.5
				AnimationBlendTime			= 15
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
			EndScript
		End
		AnimationState						= FIRING_OR_RELOADING_A
			StateName						= STATE_Firing
			Animation						= OneFrameOfShooting
				AnimationName				= EUThrndl_SKL.EUThrndl_ATA2
				AnimationMode				= ONCE
				AnimationSpeedFactorRange	= 1.25 1.25
				AnimationBlendTime			= 15
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
			EndScript
		End
;============================================CONTINUOUS FIRING VANILLA=============================
;----Keep PreAttack_C after _A. Thats what fixes the strange shooting
		AnimationState						= PREATTACK_C
			StateName						= STATE_Firing
			Animation						= ReadyToDrawn
				AnimationName				= EUThrndl_SKL.EUThrndl_ATA1
				AnimationMode				= ONCE
//				UseWeaponTiming				= Yes			// UseWeaponTiming plus random weapon field equals desync.  Leaving as warning
				AnimationSpeedFactorRange	= 1.5 1.5		// Therefore, this is all you get.  A slight speed up so that the animation can always finish before any possible random value Design sets the range for
				AnimationBlendTime			= 10
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
			EndScript
		End
		AnimationState						= FIRING_OR_RELOADING_C
			StateName						= STATE_Firing
			Animation						= OneFrameOfShooting
				AnimationName				= EUThrndl_SKL.EUThrndl_ATA2
				AnimationMode				= ONCE
				AnimationSpeedFactorRange	= 1.0 1.0 ;1.25 1.25
				AnimationBlendTime			= 0
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
			EndScript
		End
;============================================CONTINUOUS FIRING VANILLA=============================
//---------------------------------------------------
//---------------------------------------------------
// --------- MOVING ------------
		AnimationState					= MOVING EMOTION_TERROR
			Animation					= Terror
				AnimationName			= EUThrndl_SKL.EUThrndl_RUNA
				AnimationMode			= LOOP
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
			EndScript
		End
		AnimationState						= MOVING
			StateName						= STATE_Bow
			Animation						= RunWithSword
				AnimationName				= EUThrndl_SKL.EUThrndl_RUNA
				AnimationSpeedFactorRange = 1.0 1.3
				AnimationMode				= LOOP
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
			EndScript
		End

;============================================CONTINUOUS FIRING VANILLA=============================
//-------- Persistant firing (keep bow drawn ) ------------
		AnimationState					=	CONTINUOUS_FIRE_MEAN
			Animation					=	HangFrameWhileCoasting
				AnimationName			=	EUThrndl_SKL.EUThrndl_ATA2
				AnimationMode			=	MANUAL
				UseWeaponTiming			= Yes
				AnimationBlendTime			= 10
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
			EndScript
		End
		AnimationState                        = CONTINUOUS_FIRE_SLOW
            Animation                        = PutAwayArrow
                AnimationName                = EUThrndl_SKL.EUThrndl_ATA3
                AnimationMode                = ONCE
            End
        End
;============================================CONTINUOUS FIRING VANILLA=============================
// --------- Click and Hit Reactions ------------
//------------- EMOTIONS ------------------------------------------------
		AnimationState						= EMOTION_AFRAID
			ShareAnimation					= Yes
			StateName						= STATE_Bow
			Animation						= FERA
				AnimationName				= EUThrndl_SKL.EUThrndl_IDLA
				AnimationMode				= LOOP
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
			EndScript
		End
		AnimationState				= LEVELED
			Animation				= LevelUp
				AnimationName		= EUThrndl_SKL.EUThrndl_CHRA
				AnimationMode		= ONCE
			End
		End
		AnimationState				=	EMOTION_TAUNTING
			Animation
				AnimationName		=	EUThrndl_SKL.EUThrndl_CHRA
				AnimationMode		=	LOOP
			End
		End
		AnimationState				=	EMOTION_CELEBRATING
				Animation           =	CHRD
					AnimationName   =	EUThrndl_SKL.EUThrndl_CHRA
					AnimationMode   =	LOOP
				End
			End
		AnimationState				=	RAISING_FLAG
				Animation           =	CHRD
					AnimationName   =	EUThrndl_SKL.EUThrndl_CHRA
					AnimationMode   =	LOOP
				End
		End
		AnimationState				=	SELECTED
			StateName				=	STATE_Selected_Bow
			Animation				=	ATNB
				AnimationName		=	EUThrndl_SKL.EUThrndl_ATNB
				AnimationMode		=	LOOP
				AnimationBlendTime  = 15
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Bow_Idle"	then CurDrawableSetTransitionAnimState("TRANS_IdleToAttentionBow") return end
			EndScript
		End
		AnimationState						= SELECTED
			StateName						= STATE_Selected
			Animation						= Selected
				AnimationName				= EUThrndl_SKL.EUThrndl_ATNB
				AnimationMode				= LOOP
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Bow_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdleToAttentionBow") end
			EndScript
		End
;---------- Black Arrows ----------------------
		AnimationState        =  UNPACKING SPECIAL_WEAPON_ONE
			Animation
				AnimationName           = EUThrndl_SKL.EUThrndl_ATA1
				AnimationMode       = ONCE
				UseWeaponTiming	= Yes
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
			EndScript
		End
		IdleAnimationState
			StateName						= STATE_Bow_Idle
			Animation						= IdleBowC
				AnimationName				= EUThrndl_SKL.EUThrndl_IDLB
				AnimationMode				= ONCE
				AnimationPriority			= 6
			End
			Animation
				AnimationName				= EUThrndl_SKL.EUThrndl_IDLC
				AnimationMode				= ONCE
				AnimationPriority			= 6
			End
			Animation
				AnimationName				= EUThrndl_SKL.EUThrndl_IDLE
				AnimationMode				= ONCE
				AnimationPriority			= 1
			End
;			Animation
;				AnimationName				= EUThrndl_SKL.EUThrndl_IDLA
;				AnimationMode				= ONCE
;				AnimationPriority			= 3
;			End
			Animation
				AnimationName				= EUThrndl_SKL.EUThrndl_IDLD
				AnimationMode				= ONCE
				AnimationPriority			= 1
			End
			Flags							= RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_AttentionToIdleBow") end
			EndScript
		End
		TransitionState = TRANS_IdleToAttentionBow
			Animation = ATNC
				AnimationName		= EUThrndl_SKL.EUThrndl_ATNA
				AnimationMode		= ONCE
				AnimationSpeedFactorRange	= 0.6 0.6
			End
		End
		TransitionState = TRANS_AttentionToIdleBow
			Animation			= ATNA
				AnimationName	= EUThrndl_SKL.EUThrndl_ATNC
				AnimationMode	= ONCE
				AnimationSpeedFactorRange	= 0.9 0.9
			End
		End
	End

    #include "..\..\..\includes\StunDrawModuleSmall.inc"


	// ***DESIGN parameters ***
	Side = Neutral
	EditorSorting = UNIT
	ThreatLevel = 1.0
	ThingClass = HORDE_UNIT
	CommandPoints = 6 ;3 ;;,;; 0
	BountyValue = 10

	TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT

	WeaponSet
		Conditions = None
		Weapon = PRIMARY LossothBow
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End

	ArmorSet
		Conditions      = None
		Armor           = ArcherEliteArmor
		DamageFX        = NormalDamageFX
	End

	VisionRange = ELVEN_LORIENARCHER_VISION_RANGE
	ShroudClearingRange = SHROUD_CLEAR_STANDARD

	VisionSide = 35%
	VisionRear = 25%

	MaxVisionBonusPercent = 300%
	VisionBonusTestRadius = 200
	VisionBonusPercentPerFoot = 2.0%

	DisplayName = OBJECT:LossothArcher
	CrushableLevel = 0  //What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

	CrushRevengeWeapon = RangedInfantryCrushRevenge

	CommandSet = AngmarWildSpearCommandSet



;	// *** AUDIO Parameters ***//

	VoiceAttack 				= LossothVoiceAttack
	VoiceAttackCharge 			= LossothVoiceAttackCharge
	VoiceAttackStructure 		= LossothVoiceAttackBuilding
	VoiceAttackMachine 			= LossothVoiceAttackBuilding
	VoiceCreated 				= LossothVoiceSalute
	VoiceFullyCreated 			= LossothVoiceSalute
	VoiceGuard					= LossothVoiceMove
	VoiceMove 					= LossothVoiceMove
	VoiceMoveToCamp 			= LossothVoiceMoveCamp
	VoiceMoveWhileAttacking 	= LossothVoiceDisengage
	VoicePriority				= 25
	VoiceRetreatToCastle 			= LossothVoiceRetreat
	VoiceSelect 				= LossothVoiceSelectMS
	VoiceSelectBattle  			= LossothVoiceSelectBattle

	VoiceEnterStateAttack				= LossothVoiceEnterStateAttack
	VoiceEnterStateAttackCharge			= LossothVoiceEnterStateAttackCharge
	VoiceEnterStateAttackMachine			= LossothVoiceEnterStateAttackBuilding
	VoiceEnterStateAttackStructure			= LossothVoiceEnterStateAttackBuilding
	VoiceEnterStateMove				= LossothVoiceEnterStateMove
	VoiceEnterStateMoveToCamp			= LossothVoiceEnterStateMoveCamp
	VoiceEnterStateMoveWhileAttacking		= LossothVoiceEnterStateRetreat
	VoiceEnterStateRetreatToCastle			= LossothVoiceEnterStateMoveCamp
	
	SoundImpact				= ImpactHorse
	CrowdResponseKey = EvilMen2
	
	UnitSpecificSounds
		VoiceGarrison			= LossothVoiceGarrison
		VoiceEnterUnitElvenTransportShip = LossothVoiceGarrison
		VoiceEnterUnitEvilMenTransportShip = LossothVoiceGarrison
		VoiceEnterUnitMordorMumakil = LossothVoiceGarrison
		VoiceEnterUnitSlaughterHouse = LossothVoiceGarrison
		VoiceInitiateCaptureBuilding = LossothVoiceMove
		VoiceExit					= LossothVoiceExit
	End
	

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound:FootstepDirtA 			Animation:EUThrndl_SKL.EUThrndl_RUNA	Frames:17 29
		AnimationSound = Sound:BodyFallSoldier			Animation:EUThrndl_SKL.RUThrndl_LNDA	Frames:3
		AnimationSound = Sound:BodyFallSoldier			Animation:EUThrndl_SKL.EUThrndl_DTHA	Frames:31
		AnimationSound = Sound:SwordIntoGroundQuiet		Animation:EUTHRNDL_SKL.EUTHRNDL_ATKB	Frames:32	;hit bow on ground
	End

	ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
		ModelCondition = Required:EMOTION_CELEBRATING	Excluded:DYING ENGAGED	Sound:EmotionHaradrimVoxCheerLoop	;MOVING ATTACKING
		ModelCondition = Required:EMOTION_TAUNTING		Excluded:DYING ENGAGED	Sound:EmotionHaradrimVoxTauntLoop	;MOVING ATTACKING
		ModelCondition = Required:EMOTION_POINTING		Excluded:DYING ENGAGED	Sound:EmotionHaradrimVoxTauntLoop
		ModelCondition = Required:RAISING_FLAG			Excluded:DYING ENGAGED	Sound:EmotionHaradrimVoxTauntLoop
	End

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU	;Tie into LargeGroupAudio system
		Key = Humanoid_Male Man Man_Male Haradrim_Lancer
	End

	// *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER CAN_USE_SIEGE_TOWER SCORE THROWN_OBJECT ARCHER ATTACK_NEEDS_LINE_OF_SIGHT GRAB_AND_DROP
	CamouflageDetectionMultiplier = CAMOUFLAGE_DETECTION_DISTANCE_SHORT


	Body = ActiveBody ModuleTag_02
		MaxHealth         = 220
		MaxHealthDamaged  = 110
		BurningDeathBehavior = Yes
		BurningDeathFX		 = FX_InfantryBurningFlame
	End

	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
		MoodAttackCheckRate        = 500
		CanAttackWhileContained		=	Yes
		AILuaEventsList			   =	LossothHunterFunctions
		BurningDeathTime			=	BURNINGDEATH_DURATION_INFANTRY
	End

	LocomotorSet
		Locomotor     = HumanLocomotor
		Condition     = SET_NORMAL
		Speed         = NORMAL_FOOT_FAST_MEMBER_SPEED
	End

	LocomotorSet
		Locomotor = BurningDeathLocomotorInfantry
		Condition = SET_BURNINGDEATH
		Speed	  = BURNINGDEATH_WANDERSPEED_INFANTRY
	End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
		ShockStandingTime		= 2066
	End

	Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
		;
		FirstHeight				= 24  ; Height of Bezier control points above highest intervening terrain
		SecondHeight			= 24
		FirstPercentIndent		= 30% ; Percentage of shot distance control points are placed
		SecondPercentIndent		= 70%
		TumbleRandomly			= Yes

		CrushStyle				= Yes ; I don't detonate, I just hit
		DieOnImpact				= Yes
		BounceCount				= 1   ; When I hit the ground, I'll arc again
		BounceDistance			= 40 ; this far
		BounceFirstHeight		= 24  ; Height of Bezier control points above highest intervening terrain
		BounceSecondHeight		= 24
		BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
		BounceSecondPercentIndent = 80%

		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End

	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -FADED -SUICIDED
		SinkDelay = 2000
		SinkRate = 0.50     ; in Dist/Sec
		DestructionDelay = 10000
		Sound = INITIAL ManEvilGenericVoiceDie
	End

	Behavior = SlowDeathBehavior ModuleTag_SuicideDeath ; Used for "Submit!" so that we can play an FX when the unit is killed
	DeathTypes = NONE +SUICIDED
	SinkDelay = 3000
	SinkRate = 0.60     ; in Dist/Sec
	DestructionDelay	= 10000
;	DeathFlags			= BURNINGDEATH ; DEATH_2
	FX = INITIAL FX_WarlordSubmitDeath
;	Sound = INITIAL SpellGenericUnsummonFasterMS
End

  	Behavior = SlowDeathBehavior ModuleTag_FadeDeath
		DeathTypes = NONE +FADED
		FadeDelay			= 0
		FadeTime			= 3000
		DestructionDelay	= 3000
		DeathFlags			= DEATH_2
		Sound = INITIAL SpellGenericUnsummonFasterMS
	End

	Behavior = SquishCollide ModuleTag_06
		;nothing
	End

	Behavior = HordeMemberCollide ModuleTag_HMC
		;nothing
	End

  	;;; Pillage ;;;
;	Behavior = PillageModule ModuleTag_Test1
;		PillageAmount				= ANGMAR_RHUDAURSPEAR_PILLAGE_AMOUNT
;		NumDamageEventsPerPillage	= ANGMAR_RHUDAURSPEAR_PILLAGE_NUM_DAMAGES
;		PillageFilter				= ANGMAR_RHUDAURSPEAR_PILLAGE_FILTER
;	End





  Geometry = CYLINDER
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight = 19.2
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 19;
  ShadowSizeY = 19;
  ShadowTexture = ShadowI;
End



;------------------------------------------
Object LossothDog
	Scale = .8
	; *** ART Parameters ***
    
	; This is required for garrisoned objects - please put in all objects.
	ButtonImage = BIWargSentry_Warg
	SelectPortrait        = KUDireWolfPortrait


	Draw = W3DHordeModelDraw ModuleTag_01

		WadingParticleSys = EntRipples

		OkToChangeModelColor = Yes
		RandomTexture = KUDireWolf2.tga 0 KUDireWolf2.tga
		RandomTexture = KUDireWolf3.tga 0 KUDireWolf2.tga
		  
		StaticModelLODMode = Yes
		; specify options for static LODs
		LodOptions	= LOW
			AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_LOW
			MaxRandomTextures		=	MAX_RANDOM_TEXTURES_LOW
			MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_LOW
			MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_LOW
		End
		
		LodOptions	= MEDIUM
			AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_MED
			MaxRandomTextures		=	MAX_RANDOM_TEXTURES_MED
			MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_MED
			MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_MED
		End
		
		LodOptions	= HIGH
			AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_HIGH
			MaxRandomTextures		=	MAX_RANDOM_TEXTURES_HIGH
			MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_HIGH
			MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_HIGH
		End
	

		DefaultModelConditionState
			Model					= nuhusky_skn
			Skeleton				= KUOrcRider_SKL
		End

;		ModelConditionState WEAPONSET_PLAYER_UPGRADE
;			Model					= KUOrcRider_SKN
;			Skeleton				= KUOrcRider_SKL
;		End

		ModelConditionState = COMING_OUT_OF_FACTORY
			Model					= nuhusky_skn
			Skeleton				= KUOrcRider_SKL
		End

		
;	    AnimationState  = JUST_BUILT
;			Animation = Being_Built
;				AnimationName		=	KUOrcRider_RUNA ;KUOrcRider_BLDB
;				AnimationMode		=	ONCE
;				AnimationBlendTime	=	0
;			End
;		End

		; -------------- STUNNED ANIMS ----------------
		AnimationState						= PASSENGER
			Animation						= Grabbed
				AnimationName				= KUOrcRider_GBDA
				AnimationMode				= LOOP
			End
		End
		
		AnimationState						= FREEFALL
			Animation						= freefall
				AnimationName				= KUOrcRider_FLYA
				AnimationMode				= LOOP
				AnimationBlendTime			= 10
			End
		End
		
		AnimationState				=	STUNNED_FLAILING 
			Animation				=	JustDie
				AnimationName       =	KUOrcRider_FLYA
				AnimationMode       =	LOOP
			End
		End

		AnimationState				=	DYING BURNINGDEATH
			Animation
				AnimationName		=	KUOrcRider_DIEA
				AnimationMode		=	ONCE
				AnimationBlendTime	=	10
			End
			Animation
				AnimationName		=	KUOrcRider_DIEB
				AnimationMode		=	ONCE
				AnimationBlendTime	=	10
			End
		End
		
		AnimationState				=	DYING SPLATTED
			Animation				=	splatted
				AnimationName		=	KUOrcRider_LNDA
				AnimationMode		=	ONCE
			End
		End
		
		

		AnimationState				=	DYING
			Animation				=	JustDie
				AnimationName		=	KUOrcRider_DIEA
				AnimationMode		=	ONCE
			End
			Animation				=	JustDie
				AnimationName		=	KUOrcRider_DIEB
				AnimationMode		=	ONCE
			End
		End		
		
		AnimationState				=	STUNNED_STANDING_UP
			Animation				=	StandUp
				AnimationName       =	KUOrcRider_GTPA
				AnimationMode       =	ONCE
				AnimationSpeedFactorRange = 1.5 1.5
			End
		End
		
		AnimationState				=	STUNNED 
			Animation				=	Land
				AnimationName       =	KUOrcRider_LNDA
				AnimationMode       =	ONCE
			End
		End
		
		AnimationState						= BURNINGDEATH
			Animation
				AnimationName				= KUOrcRider_MFDA
				AnimationMode				= ONCE
				Distance					= 50
			End
			Flags							= RESTART_ANIM_WHEN_COMPLETE
		End

		AnimationState						= PARALYZED
			Animation
				AnimationName				= KUOrcRider_IDLA
				AnimationMode				= LOOP
			End
		End

		; -------------- MOVING ANIMS ---------------
		

		AnimationState  = COMING_OUT_OF_FACTORY
			Animation = Being_Built
				AnimationName		= KUOrcRider_RUNA
				AnimationMode		= LOOP
				AnimationBlendTime	= 0
			End
		End		
		
		AnimationState = MOVING FIRING_OR_PREATTACK_A
			Animation = TrotAndFire
				AnimationName = KUOrcRider_RUNB
				AnimationMode = LOOP
			End
			;ParticleSysBone = None InfantryDustTrails
	    End
		
		AnimationState				=	TURN_LEFT_HIGH_SPEED  
			Animation				=	MTurnLeft
				AnimationName		=	KUOrcRider_TRNL
				AnimationMode		=	LOOP
			End
		End

		AnimationState				=	TURN_RIGHT_HIGH_SPEED
			Animation				=	MTurnRight
				AnimationName		=	KUOrcRider_TRNR
				AnimationMode		=	LOOP
			End
		End
		
		AnimationState				=	TURN_LEFT  
			Animation				=	TurnRight
				AnimationName		=	KUOrcRider_TRNL
				AnimationMode		=	LOOP
				AnimationSpeedFactorRange = 2.0 2.0
			End
		End

		AnimationState				=	TURN_RIGHT 
			Animation				=	TurnRight
				AnimationName		=	KUOrcRider_TRNR
				AnimationMode		=	LOOP
				AnimationSpeedFactorRange = 2.0 2.0
			End
		End

		AnimationState				=	MOVING ACCELERATE 
			Animation				=	Accelerate
				AnimationName		=	KUOrcRider_ACCL
				AnimationMode		=	ONCE
			End
;            ParticleSysBone				= None GenericSiegeTrailDust
		End
	
		AnimationState				=	DECELERATE
			Animation				=	Decelerate
				AnimationName		=	KUOrcRider_DECL
				AnimationMode		=	ONCE
				AnimationSpeedFactorRange = 0.4 0.4
			End
;            ParticleSysBone				= None GenericSiegeTrailDust
		End
		
		AnimationState				=	MOVING BACKING_UP
			Animation				=	BackingUpA
				AnimationName		=	KUOrcRider_BAKA
				AnimationMode		=	LOOP
				AnimationSpeedFactorRange = 3.0 3.0
			End
		End
		
		AnimationState				=	MOVING
			ShareAnimation			=	Yes
			Animation				=	RunA
				AnimationName		=	KUOrcRider_RUNA
				AnimationMode		=	LOOP
			End
			;ParticleSysBone			=	None CalvaryDustTrails  
		End
		
		; ----------- ATTACKING ANIMS --------------		
		AnimationState				=	BETWEEN_FIRING_SHOTS_A
			Animation				=	BetweenFiringShots
				AnimationName		=	KUOrcRider_IDLA
				AnimationMode		=	LOOP
				AnimationBlendTime	=   10
			End
		End

		AnimationState				=	FIRING_OR_PREATTACK_A
			Animation				
				AnimationName		=	KUOrcRider_ATKA
				AnimationMode		=	ONCE
				UseWeaponTiming		=	Yes
				AnimationBlendTime  =	10
			End
			Animation				
				AnimationName		=	KUOrcRider_ATKB
				AnimationMode		=	ONCE
				UseWeaponTiming		=	Yes
				AnimationBlendTime  =	10
			End
			Animation				
				AnimationName		=	KUOrcRider_ATKC
				AnimationMode		=	ONCE
				UseWeaponTiming		=	Yes
				AnimationBlendTime  =	10
			End
		End
		
		AnimationState					= EMOTION_UNCONTROLLABLY_AFRAID
			Animation					= FERA
				AnimationName			= KUOrcRider_FERA
				AnimationMode			= LOOP
			End
		End
				
		AnimationState				=	ATTACKING
			Animation				=	AttackA3
				AnimationName		=	KUOrcRider_IDLA ;KUOrcRider_ATKA
				AnimationMode		=	LOOP
				AnimationBlendTime  =	10
			End
			Animation				=	AttackA3
				AnimationName		=	KUOrcRider_IDLA ;KUOrcRider_ATKD
				AnimationMode		=	LOOP
				AnimationBlendTime  =	10
			End
		End

		; ----------- WAR CHANT ANIMS -------------
		AnimationState = WAR_CHANT
			Animation = Chant
				AnimationName = KUOrcRider_TNTA
				AnimationMode = LOOP
			End
		End

		; ----------- EMOTION ANIMS ---------------
		AnimationState					= EMOTION_ALERT EMOTION_AFRAID
			Animation					= Apprehensive
				AnimationName			= KUOrcRider_FERA
				AnimationMode			= LOOP	;Change this to ONCE if adding additional anims
			End
		End
		
		AnimationState					= EMOTION_AFRAID ;coming soon
			Animation					= FERA
				AnimationName			= KUOrcRider_FERA
				AnimationMode			= LOOP
			End
		End
				
		AnimationState					= EMOTION_TAUNTING
			Animation					= TNTA
				AnimationName			= KUOrcRider_TNTA
				AnimationMode			= LOOP
			End
			Animation					= TNTB
				AnimationName			= KUOrcRider_TNTB
				AnimationMode			= LOOP
			End
			Flags					= RANDOMSTART	
		End
		AnimationState					= EMOTION_POINTING
			Animation					= Pointing1A
				AnimationName			= KUOrcRider_PNTA
				AnimationMode			= LOOP
			End
			Animation					= Pointing1B
				AnimationName			= KUOrcRider_PNTB
				AnimationMode			= LOOP
			End
			Flags					= RANDOMSTART	
		End
		AnimationState					= EMOTION_CELEBRATING
			Animation                   = CHRA
				AnimationName			= KUOrcRider_CHRA
				AnimationMode			= ONCE
			End
			Animation                   = CHRB
				AnimationName			= KUOrcRider_CHRB
				AnimationMode			= ONCE
			End
			Flags					= RANDOMSTART
		End
		
		; ----------- IDLE ANIMS ---------------
		AnimationState							= EMOTION_ALERT
			StateName							= STATE_Ready 
			Animation							= ALERT
				AnimationName					= KUOrcRider_IDLA
				AnimationMode					= LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Selected" then CurDrawableSetTransitionAnimState("Selected_to_Ready") end
			EndScript	
		End
		
		AnimationState					= RAISING_FLAG
			Animation
				AnimationName			= KUOrcRider_CHRA
				AnimationMode			= LOOP
			End
			Animation
				AnimationName			= KUOrcRider_CHRB
				AnimationMode			= LOOP
			End
		End

		; ----------- SELECTED ANIMS --------------
		AnimationState				=	SELECTED
			SimilarRestart			=   Yes
			Animation				=	AtAttention
				AnimationName		=	KUOrcRider_ATNB
				AnimationMode		=	LOOP
			End
			StateName				= Selected
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Idle" then CurDrawableSetTransitionAnimState("Idle_to_Selected") end
				if Prev == "STATE_Ready" then CurDrawableSetTransitionAnimState("Ready_to_Selected") end
			EndScript
		End

		IdleAnimationState
			Animation
				AnimationName		=	KUOrcRider_IDLC
				AnimationMode		=	ONCE
				AnimationBlendTime	=	10
				AnimationPriority   =	20
			End
			Animation
				AnimationName		=	KUOrcRider_IDLD
				AnimationMode		=	ONCE
				AnimationBlendTime	=	10
				AnimationPriority   =	1
			End
			Animation
				AnimationName		=	KUOrcRider_IDLB
				AnimationMode		=	ONCE
				AnimationBlendTime	=	10
				AnimationPriority   =	1
			End
			StateName				= Idle 
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Selected" then CurDrawableSetTransitionAnimState("Selected_to_Idle") end
			EndScript
		End

		;------------ TRANSITION ANIMS ----------------
		TransitionState       = Selected_to_Idle
			Animation           = ATNE
				AnimationName		=	KUOrcRider_ATNC
				AnimationMode		=	ONCE
;				AnimationSpeedFactorRange = 0.7 1.3
			End
		End
		
		TransitionState       = Idle_to_Selected
			Animation           = ATND
				AnimationName     = KUOrcRider_ATNA
				AnimationMode   =	ONCE
;				AnimationSpeedFactorRange = 0.7 1.3
			End
		End

		TransitionState       = Ready_to_Selected
			Animation           = ATNC
				AnimationName     = KUOrcRider_ATNA
				AnimationMode   =	ONCE
;				AnimationSpeedFactorRange = 0.7 1.3
			End
		End

		TransitionState       = Selected_to_Ready
			Animation           = ATNCReverse
				AnimationName     = KUOrcRider_ATNC
				AnimationMode   =	ONCE
;				AnimationSpeedFactorRange = 0.7 1.3
			End
		End
		
	End
	
	Draw = W3DScriptedModelDraw DustEffects
	    DefaultModelConditionState
	      Model = None
	    End
	    IdleAnimationState
	    End
	    AnimationState = MOVING WADING
			ParticleSysBone = None FootstepSlash
	    End
	    ; AnimationState = MOVING ACCELERATE
			; ParticleSysBone = None GenericSiegeTrailDust
	    ; End
	    ;AnimationState = MOVING DECELERATE
		;	ParticleSysBone = None GenericSiegeTrailDust
	    ;End
	    AnimationState = MOVING
	    End
	End

    #include "..\..\..\includes\StunDrawModuleMedium.inc"

	; ***DESIGN parameters ***
	Side 			= Mirkwood
	EditorSorting 		= UNIT
	ThreatLevel 		= 2.0
	TransportSlotCount 	= TRANSPORTSLOTCOUNT_UNIT
	
	WeaponSet
		Conditions			= None 
		Weapon				= PRIMARY DogWeapon ;DireWolfWeapon
		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End

	ArmorSet
		Conditions      = PLAYER_UPGRADE
		Armor           = AngmarDireWolfHeavyArmor
		DamageFX        = NormalDamageFX
	End

	; This is required so that the build phase lasts as long as the anim.
	BuildFadeInOnCreateTime = 0
	
	VisionRange			= WILD_SPIDERLING_SLAVED_VISION_RANGE
	ShroudClearingRange = WILD_SPIDERLING_SLAVED_SHROUD_RANGE       	
	BountyValue			= 0 ;;,;; SHROUD_CLEAR_STANDARD //WILD_SPIDERLING_SLAVED_BOUNTY_VALUE
	
	MaxVisionBonusPercent 	= 300%
	VisionBonusTestRadius 	= 200
	VisionBonusPercentPerFoot = 2.0%

	DisplayName 		= OBJECT:WoodmenHound
	CrushableLevel 		= 0 ;2  		; What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CommandSet = AngmarDireWolfCommandSet
	VisionSide			= 100%
	VisionRear			= 100%
	CommandPoints		= 0

	; ******************************************* AUDIO Parameters ***********************************;
	VoiceSelect = DogVoiceSelectHusky ;DogVoiceSelect
	VoiceSelectBattle	= DogVoiceCombat
	VoiceMove = DogVoiceMoveHusky ;DogVoiceMove
	VoiceAttack = DogVoiceAttackHusky ;DogVoiceAttack
	;VoiceCreated = FarmerMaggotVoiceSummonHounds

	SoundAmbient				= DogAmbienceHuskyVOX ;DogAmbienceVOX
	SoundImpact				= ImpactHorse
	;SoundMoveLoop				= WargMoveFootsteps
	;SoundCrushing				= WargRiderCrushing 		; Sound made when crushing another unit underhoof
;
	#include "..\..\..\includes\StandardUnitEvaEvents.inc" ;;,;; Uncommented for 2.1 and added necessary ..\..
;
;  	EvaEnemyObjectSightedEvent 		= WargRiderCreepSighted 	; Special event for wargs showing up. Helps distinguish the real enemies from random creeps
;	EvaEnemyObjectSightedAfterRespawnEvent 	= WargRiderCreepSighted 	; Event to run after the Cave Troll Lair is respawned. WARNING: This INI field only works for "SlavedUpdate.UseSlaverAsControlForEvaObjectSightedEvents = Yes" units
;	;EvaEventDieOwner			= GroupWargRiderDie		; Eva event to trigger on unit's death. NOTICE THAT this is only for permanent deaths
;										; For deaths you can respawn from, use the DeathFX
;
	; ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		; MaxUpdateRangeCap = 800
		; AnimationSound = Sound:WargMoveFootsteps Animation:KUDireWolf_RUNA Frames:0
		; AnimationSound = Sound:WargMoveFootsteps Animation:KUDireWolf_TNL1 Frames:0
		; AnimationSound = Sound:WargMoveFootsteps Animation:KUDireWolf_TNR1 Frames:0
		; AnimationSound = Sound:WargMoveFootsteps Animation:KUDireWolf_TRNL Frames:0
		; AnimationSound = Sound:WargMoveFootsteps Animation:KUDireWolf_TRNR Frames:0
		; AnimationSound = Sound:WargMoveFootsteps Animation:KUDireWolf_ACCL Frames:0
; ;		AnimationSound = Sound:WargRiderTauntCallouts Animation:KUDireWolf_TNTA Frames:27
		; AnimationSound = Sound:DogVoiceAttack Animation:KUDireWolf_TNTA Frames:26 Animation:KUDireWolf_ATND Frames:7 Animation:KUDireWolf_HWLA Frames:17    ;NeutralWargVoxAttack
		; AnimationSound = Sound:WargTauntFootstep Animation:KUDireWolf_TNTA Frames:7 12 64 73
; ;		;AnimationSound = Sound:WargSaddleFoleySingles Animation:KUDireWolf_TNTA Frames:25 Animation:KUDireWolf_RUNA Frames:5 Animation:KUDireWolf_TNL1 Frames:5 Animation:KUDireWolf_TNR1 Frames:5 Animation:KUDireWolf_ACCL Frames:5 Animation:KUDireWolf_ATNA Frames:5 Animation:KUDireWolf_ATND Frames:5 Animation:KUDireWolf_GTPA Frames:5 101 Animation:KUDireWolf_HWLA Frames:15 Animation:KUDireWolf_RDYA Frames:5 Animation:KUDireWolf_RDYB Frames:5
	; End
	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound:WargMoveFootsteps 		Animation:KUOrcRider_RUNA 	Frames:0
		AnimationSound = Sound:WargMoveFootsteps 		Animation:KUOrcRider_TNL1 	Frames:0
		AnimationSound = Sound:WargMoveFootsteps 		Animation:KUOrcRider_TNR1 	Frames:0
		AnimationSound = Sound:WargMoveFootsteps 		Animation:KUOrcRider_TRNL 	Frames:0
		AnimationSound = Sound:WargMoveFootsteps 		Animation:KUOrcRider_TRNR 	Frames:0
		AnimationSound = Sound:WargMoveFootsteps 		Animation:KUOrcRider_ACCL 	Frames:0

		AnimationSound = Sound:DogVoiceAttack 	Animation:KUOrcRider_TNTA 	Frames:27

		AnimationSound = Sound:WargTauntCallouts 		Animation:KUOrcRider_TNTA 	Frames:26
		AnimationSound = Sound:WargTauntCallouts 		Animation:KUOrcRider_ATND 	Frames:7 
		AnimationSound = Sound:WargTauntCallouts 		Animation:KUOrcRider_HWLA 	Frames:17
		AnimationSound = Sound:WargTauntFootstep 		Animation:KUOrcRider_TNTA 	Frames:7 12 64 73

		AnimationSound = Sound:WargSaddleFoleySingles 	Animation:KUOrcRider_TNTA 	Frames:25 
		AnimationSound = Sound:WargSaddleFoleySingles 	Animation:KUOrcRider_RUNA 	Frames:5 
		AnimationSound = Sound:WargSaddleFoleySingles 	Animation:KUOrcRider_TNL1 	Frames:5 
		AnimationSound = Sound:WargSaddleFoleySingles 	Animation:KUOrcRider_TNR1 	Frames:5 
		AnimationSound = Sound:WargSaddleFoleySingles 	Animation:KUOrcRider_ACCL 	Frames:5 
		AnimationSound = Sound:WargSaddleFoleySingles 	Animation:KUOrcRider_ATNA 	Frames:5 
		AnimationSound = Sound:WargSaddleFoleySingles 	Animation:KUOrcRider_ATND 	Frames:5 
		AnimationSound = Sound:WargSaddleFoleySingles 	Animation:KUOrcRider_GTPA 	Frames:5 101 
		AnimationSound = Sound:WargSaddleFoleySingles 	Animation:KUOrcRider_HWLA 	Frames:15 
		AnimationSound = Sound:WargSaddleFoleySingles 	Animation:KUOrcRider_RDYA 	Frames:5 
		AnimationSound = Sound:WargSaddleFoleySingles 	Animation:KUOrcRider_RDYB 	Frames:5

		AnimationSound = Sound:BuildingWargPitRiderDrop	Animation:KUOrcRider_BLDB	Frames:44

		AnimationSound = Sound:BodyFallOrc		 		Animation:KUOrcRider_DIEB	Frames:10
		AnimationSound = Sound:BodyFallGenericNoArmor	Animation:KUOrcRider_DIEB	Frames:45
		AnimationSound = Sound:BodyFallOrc		 		Animation:KUOrcRider_LNDA	Frames:1 17

		AnimationSound = Sound:BodyFallGeneric1		Animation:KUOrcRider_DIEC	Frames:16				;rider falls
		AnimationSound = Sound:BodyFallGeneric1		Animation:KUOrcRider_DIEC	Frames:30				;warg falls
		;AnimationSound = Sound:	Animation:KUOrcRider_CHRB	Frames:37 43	;rears up, growls then drops back down
		AnimationSound = Sound:DogVoiceAttack	Animation:KUOrcRider_PNTC	Frames:7 22				;warg barks twice
		AnimationSound = Sound:DogVoiceAttack	Animation:KUOrcRider_TNTB	Frames:6 21 34 56 70	;barking
		AnimationSound = Sound:DogVoiceAttack	Animation:KUOrcRider_TNTC	Frames:7 44				;growling
	End
;
; ;	; Tie into LargeGroupAudio system
	; Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		; Key = Dog
	; End
;
	; *** ENGINEERING Parameters ***

	RadarPriority = UNIT
	ThingClass = HORDE_UNIT

    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS CAVALRY SCORE GRAB_AND_DROP PATH_THROUGH_EACH_OTHER NO_COLLIDE
	
	Body = ActiveBody ModuleTag_Body
		MaxHealth 			= 250
		MaxHealthDamaged 	= ANGMAR_DIREWOLF_HEALTH_DAMAGED
		BurningDeathBehavior = Yes
		BurningDeathFX       = FX_CavalryBurningFlame ;;,;; FX_InfantryBurningFlame
	End

	Behavior = AIUpdateInterface ModuleTag_03 ;;,;; Added for 2.1
		AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
		AILuaEventsList		=	KennelDireWolfFunctions ;WargRiderFunctions
		BurningDeathTime	= BURNINGDEATH_DURATION_CAVALRY
	End	
	
	LocomotorSet
		Locomotor = WargLocomotor
		Condition = SET_NORMAL 
		Speed     = NORMAL_MOUNTED_FAST_MEMBER_SPEED
	End

	;LocomotorSet
	;	Locomotor = BurningDeathLocomotorCavalry
	;	Condition = SET_BURNINGDEATH
	;	Speed	  = BURNINGDEATH_WANDERSPEED_CAVALRY
	;End
	
	Behavior = InvisibilityUpdate ModuleTag_ElvenCamouflage	;;,;; Added for 2.3
		InvisibilityNugget
			InvisibilityType	= CAMOUFLAGE
			DetectionRange		= CAMOUFLAGE_RADIUS
			ForbiddenConditions	= AWAY_FROM_TREES FIRING_ANY ; Hobbits are extra stealthy so they can remain invisible while moving in trees
		End
		UpdatePeriod			= 2000
		StartsActive			= Yes
		; This is the only way to get different move-to-trees voices on different units with this being
		; in an include file.
		UnitSpecificSoundNameToUseAsVoiceMoveToStealthyArea = VoiceMoveToTrees
		UnitSpecificSoundNameToUseAsVoiceEnterStateMoveToStealthyArea = VoiceEnterStateMoveToTrees
	End	

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
		ShockStandingTime = 2533	;msec
	End
	
	; IsengardWargRider
	Behavior = HordeMemberCollide ModuleTag_HMC
		;nothing
	End
	
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End

	Behavior = PickupStuffUpdate ModuleTag_PickupStuffUpdate
		SkirmishAIOnly = Yes
		StuffToPickUp = NONE +CRATE -TheDroppedRing
		ScanRange = 200
		ScanIntervalSeconds = 0.5
	End	
	
	Behavior = SlowDeathBehavior ModuleTag_08
		; Die and don't spawn horse
		DeathTypes = ALL 
		SinkDelay = 5000
		SinkRate = 1.50     ; in Dist/Sec
		DestructionDelay = 8000
		Sound = INITIAL DogVoiceDie
	End
	
	Behavior = SlavedUpdate ModuleTag_Slave
		GuardMaxRange					= 75
		GuardWanderRange				= 30
		UseSlaverAsControlForEvaObjectSightedEvents	= Yes
		DieOnMastersDeath				= Yes	//Die when my master dies!
		MarkUnselectable = Yes		
	End
	
	Geometry = CYLINDER
	GeometryMajorRadius = 8
	GeometryMinorRadius = 8
	GeometryHeight = 20.0
	GeometryIsSmall = Yes

	Shadow = SHADOW_DECAL
	ShadowSizeX = 30;
	ShadowSizeY = 20;
	ShadowTexture = ShadowI;

End

ChildObject LossothArcherCaptain LossothArchers
	CommandPoints = 0
	KindOf = +BANNER
	;/////////////////////////////////////////////////////////
	;// BannerCarrierUpdate module
	;/////////////////////////////////////////////////////////
	Behavior = BannerCarrierUpdate BannerCarrierUpdateModuleTag
		IdleSpawnRate			= 10000							; spawn a new member every n seconds when idle (in miliseconds)
		MeleeFreeUnitSpawnTime		= 20000							; n miliseconds units must not have been fighting to be able to spawn units when idle (in miliseconds)
		DiedRespawnTime			= 10000							; how much time must pass after Banner Carrier dies before horde can spawn another
		MeleeFreeBannerReSpawnTime	= 20000							; how much time since horde has been fighting before a new Banner Carrier can be respawned
		
		BannerMorphFX		= FX_BannerCarrierMorph					; name of particle FX to use when the BannerCarrier morphs into the dest unit type
		UnitSpawnFX			= FX_BannerCarrierSpawnUnit				; name of particle FX to use when the BannerCarrier spawns a new unit
	End	
End

ChildObject LossothArchers_Embassy LossothArchers
	CommandPoints = 0
	KindOf = +SUMMONED
	EquivalentTo = LossothArchers
		Behavior = LifetimeUpdate ModuleTag_LifetimeUpdate
		MinLifetime		= CREATE_A_HERO_REINFORCEMENT_LIFETIME
		MaxLifetime		= CREATE_A_HERO_REINFORCEMENT_LIFETIME
		DeathType		= FADED
	End
End	