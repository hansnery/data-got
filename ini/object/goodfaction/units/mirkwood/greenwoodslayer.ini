; Moved from ElvenInfantry.INI Aug 24 2005
; aka Lorien Warrior
	Object GreenwoodSlayer
	; ***ART Parameters ***

	UpgradeCameo1		=	Upgrade_RohanFireArrows	
	SelectPortrait         = UPGreenwoodSlayers
	ButtonImage		=	UIGreenwoodSlayer
	Draw = W3DHordeModelDraw ModuleTag_01

	  OkToChangeModelColor = Yes
	  
    StaticModelLODMode = no ; Will append M or L to the skin name depending on GameLOD

    
;;====================== MODELS ================================================================
;		DefaultModelConditionState
;			Model					= EULorWar_SKN
;			Skeleton				= EULorWar_SKL
;			WeaponLaunchBone			= PRIMARY ARROW
;			WeaponLaunchBone			= SECONDARY ARROWNOCK	; when upgraded to flaming arrow
;		End

; --------- With Sword ------------
;		ModelConditionState				= WEAPONSET_TOGGLE_1
;			Model					= EULorWar_SKN
;			Skeleton				= EULorWar_SKL
;		End

; --------- With Fire arrows Upgrade  ------------
;		ModelConditionState				= WEAPONSET_PLAYER_UPGRADE USER_4
;			Model					= EULorWar_SKN
;			Skeleton				= EULorWar_SKL
;			WeaponLaunchBone			= PRIMARY ARROW
;			WeaponLaunchBone			= SECONDARY ARROWNOCK	; when upgraded to flaming arrow
;		;	ParticleSysBone				= FireArowTip arrowFire FollowBone:Yes
;		;	ParticleSysBone				= FireArowTip arrowFire FollowBone:Yes
;		End

		DefaultModelConditionState
			Model				= tuslayer_skn
			Skeleton			= RUElfWar_SKL
;			Model     = eurivswrd_skna  ExtraMesh:Yes
;			Model     = eurivswrd_sknb  ExtraMesh:Yes
		End
		
		ModelConditionState = RIDER2		; This state is used for Noldor Armor
			Model               = eurivswrd_sknh
			Skeleton            = RUElfWar_SKL
		        Model     = eurivswrd_sknah  ExtraMesh:Yes
				Model     = eurivswrd_sknbh  ExtraMesh:Yes
		End

;;================== ANIMATIONS =================================================================

		; ------ Flying ------- ;
		
		AnimationState					= PASSENGER
			StateName				= STATE_Grabbed
			Animation           		= Sword
				AnimationName       	= RUElfWar_FLLA
				AnimationMode       	= LOOP
			End
		End
		
		
		AnimationState					= FREEFALL
			StateName				= STATE_Falling
			Animation           		= Sword
				AnimationName       	= RUElfWar_FLYB
				AnimationMode       	= LOOP
			End
		End
		
		AnimationState					= FREEFALL
			StateName				= STATE_Falling
			Animation           		= Sword
				AnimationName       	= RUElfWar_FLYB
				AnimationMode       	= LOOP
			End
		End
		
		AnimationState        				= STUNNED_FLAILING
			StateName				= STATE_Fly
			Animation           		= Sword
				AnimationName       	= RUElfWar_FLYB
				AnimationMode       	= LOOP
			End
			Flags					= MAINTAIN_FRAME_ACROSS_STATES2
		End

		AnimationState        				= STUNNED_FLAILING
			StateName				= STATE_Fly
			Animation           		= Sword
				AnimationName       	= RUElfWar_FLYB
				AnimationMode       	= LOOP
			End
			Flags					= MAINTAIN_FRAME_ACROSS_STATES2
		End
		
		AnimationState					= DYING BURNINGDEATH
			Animation           		= Sword1
				AnimationName       	= RUElfWar_DIESv5
				AnimationMode       	= ONCE
			End
			Animation           		= Sword2
				AnimationName       	= RUElfWar_DIESV4
				AnimationMode       	= ONCE
			End
		End
		
		AnimationState					= BURNINGDEATH
			Animation			= Terror
				AnimationName		= RUElfWar_RUNN
				AnimationMode		= LOOP
			End
		End

		AnimationState					= DYING DEATH_1 SPLATTED
			StateName				= STATE_Dead
			Animation				= Sword
				AnimationName			= RUElfWar_LNDB
				AnimationMode			= ONCE
			End
		End
		
		
				; ------ Dying ------- ;

		AnimationState        			= DYING DEATH_1
			Animation           		= Sword1
				AnimationName       	= RUElfWar_DIESv5
				AnimationMode       	= ONCE
			End
			Animation           		= Sword2
				AnimationName       	= RUElfWar_DIESV4
				AnimationMode       	= ONCE
			End
			
		End
		
		AnimationState        			= DYING DEATH_2
			Animation				= Alert_1
				AnimationName			= RUElfWar_IDLST1
				AnimationMode			= LOOP
			End
		End
		
		AnimationState				= PARALYZED
			Animation				= Alert_1
				AnimationName			= RUElfWar_IDLST1
				AnimationMode			= LOOP
			End
		End


		AnimationState        			= STUNNED_STANDING_UP
			StateName			= STATE_GetUp
			Animation           		= Sword
				AnimationName       	= RUElfWar_GTPSX1
				AnimationMode       	= ONCE
			End
			Flags				= MAINTAIN_FRAME_ACROSS_STATES4
		End

		AnimationState        			= STUNNED
			StateName			= STATE_Land
			Animation           		= Sword
				AnimationName       	= RUElfWar_LNDB
				AnimationMode       	= ONCE
			End
		End

				
;;======== TERROR

		AnimationState					= MOVING EMOTION_TERROR
			StateName				= Moving_Sword
			Animation			= Terror
				AnimationName		= RUElfWar_RUNN
				AnimationMode		= LOOP
			End
		End



		; ------ Attacking ------- ;
		
		AnimationState        			= FIRING_OR_PREATTACK_A
			StateName					= Ready_Sword
			Animation           		= AttackWithSwordA
				AnimationName       	= RUElfWar_ATKSV2
				AnimationMode       	= ONCE
				UseWeaponTiming			= Yes
			End
			Animation           		= AttackWithSwordB
				AnimationName       	= RUElfWar_ATKS
				AnimationMode       	= ONCE
				UseWeaponTiming		= Yes
			End
			Animation           		= AttackWithSwordD
				AnimationName       	= RUElfWar_ATKSV4
				AnimationMode       	= ONCE
				UseWeaponTiming		= Yes
			End
		End

		
;;------------------------- BACKUP --------------------------------------------------------------------


		AnimationState					= MOVING BACKING_UP
			StateName				= STATE_BackingUp
			Animation				= Sword
				AnimationName			= RUElfWar_BAKS
				AnimationMode			= LOOP
			End
			Flags					= MAINTAIN_FRAME_ACROSS_STATES4
		End

	
		; ------------ Moving ------------- ;

		AnimationState        				= MOVING ATTACKING
			StateName				= Moving_Sword
			SimilarRestart				= Yes
			Animation           		= run_s
				AnimationName       	= RUElfWar_RUNS
				AnimationMode       	= LOOP
			End
		End
				
		AnimationState        				= MOVING ALTERNATE_FORMATION
			StateName				= Moving_Sword
			SimilarRestart				= Yes
			Animation           		= run_s
				AnimationName       	= RUElfWar_RUNS
				AnimationMode       	= LOOP
			End
		End				
		
		AnimationState        				= MOVING
			StateName				= Moving_Sword
			SimilarRestart				= Yes
			Animation           		= run_s
				AnimationName       	= RUElfWar_RUNS
				AnimationMode       	= LOOP
			End
		End

		AnimationState					= EMOTION_UNCONTROLLABLY_AFRAID
			StateName				= STATE_Emotion_Sword
			Animation				= Sword
				AnimationName			= RUElfWar_FERS
				AnimationMode			= ONCE
			End
			Flags					= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
		End

		
	
		; -------- Alert ------- ;

		AnimationState					= EMOTION_AFRAID
			StateName					= STATE_Emotion_Sword
			Animation				= Sword
				AnimationName			= RUElfWar_FERS
				AnimationMode			= ONCE
			End
			Flags						= RANDOMSTART
		End
		
		AnimationState					= EMOTION_ALERT
			StateName					= Ready_Sword
			Animation				= Alert_1
				AnimationName			= RUElfWar_IDLST1
				AnimationMode			= LOOP
			End
			Flags						= RANDOMSTART
		End		
		
		AnimationState					= ALTERNATE_FORMATION
			StateName					= Ready_Sword
			Animation				= Alert_1
				AnimationName			= RUElfWar_IDLST1
				AnimationMode			= LOOP
			End
			Flags						= RANDOMSTART
		End

		AnimationState					= ENGAGED
			StateName					= Ready_Sword
			Animation				= Alert_1
				AnimationName			= RUElfWar_IDLST1
				AnimationMode			= LOOP
			End
		End

		AnimationState					= ATTACKING
			StateName					= Ready_Sword
			Animation				= Alert_1
				AnimationName			= RUElfWar_IDLST1
				AnimationMode			= LOOP
			End
		End
		
	
		
;;------------ EMOTIONS ------------------------------------------------------------------
;;======= AFRAID


		
;;====== CELEBRATING		

		AnimationState					= EMOTION_CELEBRATING
			StateName					= STATE_Emotion_Sword
			Animation					= Sword
				AnimationName			= RUElfWar_CHRST2
				AnimationMode			= ONCE
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
		End


;;====== TAUNTING

		AnimationState					= EMOTION_TAUNTING
			StateName					= STATE_Emotion_Sword
			Animation					= Sword
				AnimationName			= RUElfWar_TNTSV1
				AnimationMode			= ONCE
			End
			Animation					= Sword
				AnimationName			= RUElfWar_CHRST2
				AnimationMode			= ONCE
			End
			Flags						= RESTART_ANIM_WHEN_COMPLETE ;MAINTAIN_FRAME_ACROSS_STATES
		End


;;====== POINTING

		AnimationState					= EMOTION_POINTING
			StateName					= STATE_Emotion_Sword
			Animation					= Sword
				AnimationName			= RUElfWar_PNTB
				AnimationMode			= ONCE
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
		End
		
		AnimationState					= RAISING_FLAG
			StateName					= STATE_Emotion_Sword
			Animation					= Sword
				AnimationName			= RUElfWar_CHRST2
				AnimationMode			= ONCE
			End
			Flags						= RESTART_ANIM_WHEN_COMPLETE
		End
		; ------ Selected ------ ;

		AnimationState				=	SELECTED
			StateName				=	STATE_Selected
			Animation
				AnimationName		=	RUElfWar_ATNS
				AnimationMode		=	LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Idle" then
					CurDrawableSetTransitionAnimState("TRANS_IdleToSelected")
				end
			EndScript
		End

		
		; --------- Hit Reactions ---------- ;
		
;		AnimationState						= HIT_REACTION HIT_LEVEL_1
;			StateName						= Bored_Sword
;			Animation						= Hit_Level_1_a
;				AnimationName				= RUElfWar_HITE
;				AnimationMode				= ONCE
;			End
;		End
		
		
		; ------- Bored -------- ;
		
		IdleAnimationState
			StateName					= STATE_Idle
			Animation           		= Idle_Sword1
				AnimationName       	= RUElfWar_IDLG
				AnimationMode       	= ONCE
			End
			Animation           		= Idle_Sword2
				AnimationName       	= RUElfWar_IDLCT1
				AnimationMode       	= ONCE
			End
			Animation           		= Idle_Sword3
				AnimationName       	= RUElfWar_IDLCT3
				AnimationMode       	= ONCE
			End
			Animation			= IdleNoFidget
				AnimationName		= RUElfWar_IDLF
				AnimationMode		= ONCE
				AnimationPriority	= 20
			End
			Animation			= IdleNoFidget2
				AnimationName		= RUElfWar_IDLF
				AnimationMode		= ONCE
				AnimationPriority	= 0
			End
			Flags						= RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Selected" then
					CurDrawableSetTransitionAnimState("TRANS_SelectedToIdle")
				end
			EndScript
		End
		
		TransitionState = TRANS_IdleToSelected
			Animation
				AnimationName     = RUElfWar_ATNA
				AnimationMode     = ONCE
				AnimationSpeedFactorRange = 0.8 0.8
			End
		End
		TransitionState = TRANS_SelectedToIdle
			Flags = START_FRAME_LAST		
			Animation
				AnimationName	= RUElfWar_ATNA
				AnimationMode	= ONCE_BACKWARDS
				AnimationSpeedFactorRange = 0.8 0.8
			End
		End		
		
	End
	
    #include "..\..\..\includes\StunDrawModuleSmall.inc"


	; ***DESIGN parameters ***

	Side 		= Mirkwood
	EditorSorting 	= UNIT
	ThreatLevel 	= 1.0
	ThingClass 	= HORDE_UNIT
	CommandPoints 	= 8 ;5		; originally 4

	TransportSlotCount 	= TRANSPORTSLOTCOUNT_UNIT
;	WeaponSet
;		Conditions 		= None 
;		Weapon 			= PRIMARY    RohanElvenBow
;		AutoChooseSources 	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
;	End
;	;bow upgrade
;	WeaponSet
;		Conditions 		= PLAYER_UPGRADE
;		Weapon 			= PRIMARY	RohanElvenBow ; RohanElvenBowFireArrow
;		AutoChooseSources 	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
;	End
;	WeaponSet
;		Conditions 		= WEAPONSET_TOGGLE_1					; CONTESTING_BUILDING
;		Weapon 			= PRIMARY ElvenWarriorSword					;GondorRangerSword
;		AutoChooseSources 	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
;	End
;	; sword upgrade	
;	WeaponSet
;		Conditions 		= PLAYER_UPGRADE WEAPONSET_TOGGLE_1 CONTESTING_BUILDING
;		Weapon 			= PRIMARY	GondorRangerSword
;   	AutoChooseSources 		= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
;	End


	WeaponSet
		Conditions = None
		Weapon = PRIMARY GreenwoodSlayerWeapon
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions = WEAPONSET_TOGGLE_1 WEAPONSET_TOGGLE_2
		Weapon = PRIMARY    GreenwoodSlayerWeaponAlternateProwess
	End	
	WeaponSet
		Conditions = WEAPONSET_TOGGLE_2
		Weapon = PRIMARY GreenwoodSlayerWeaponAlternate
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End	
	WeaponSet
		Conditions = WEAPONSET_TOGGLE_1
		Weapon = PRIMARY    GreenwoodSlayerWeaponProwess
	End
	
;;,;;	WeaponSet
;;,;;		Conditions		= CONTAINED
;;,;;		Weapon			= PRIMARY GarrisonedUnitBow
;;,;;		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
;;,;;	End
	
	ArmorSet
		Conditions     	 	= None
		Armor           	= GreenwoodSlayerArmor	;RivendellGuardArmor
		DamageFX        	= NormalDamageFX
	End

	
	VisionRange = ELVEN_LORIENWARRIOR_VISION_RANGE
	VisionSide = 35%
	VisionRear = 25%
	VisionBonusPercentPerFoot = 5.0%
        ShroudClearingRange = SHROUD_CLEAR_STANDARD

	BountyValue = 15 		
	DisplayName = OBJECT:GreenwoodSlayer
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	;CrusherLevel = 1
	;CrushWeapon = RivendellInfantryCrush
	;MinCrushVelocityPercent = 65 ; Has to be moving at at least 50% of full speed.
	;CrushDecelerationPercent = 25 ; Lose 80 percent of max velocity when crushing.
	;RamPower = 25
	;RamZMult = 0.3
	CrushRevengeWeapon = BasicInfantryCrushRevenge
	CommandSet MirkwoodSlayerCommandSet
	

	; *** AUDIO Parameters ***;
 
	VoiceAttack									= WRElitesVoiceAttackPikes
	VoiceAttackCharge							= WRElitesVoiceAttackCharge
	VoiceAttackMachine							= WRElitesVoiceAttackPikes
	VoiceAttackStructure						= WRElitesVoiceAttackBuilding
	VoiceCreated								= WRElitesVoiceSalutePikes
	VoiceFullyCreated 							= WRElitesVoiceSalutePikes
	VoiceGuard									= WRElitesVoiceMove
	VoiceMove									= WRElitesVoiceMove
	VoiceMoveToCamp								= WRElitesVoiceMoveCamp
	VoiceMoveWhileAttacking						= WRElitesVoiceDisengage
	VoicePriority								= 38
	VoiceRetreatToCastle						= WRElitesVoiceMoveCamp
	VoiceSelect									= WRElitesVoiceSelectMS
	VoiceSelectBattle 							= WRElitesVoiceSelectBattle

	VoiceEnterStateAttack						= WRElitesVoiceEnterStateAttackPikes
	VoiceEnterStateAttackAir					= WRElitesVoiceEnterStateAttackPikes
	VoiceEnterStateAttackCharge					= WRElitesVoiceEnterStateAttackCharge
	VoiceEnterStateAttackMachine				= WRElitesVoiceEnterStateAttackPikes
	VoiceEnterStateAttackStructure				= WRElitesVoiceEnterStateAttackBuilding
	VoiceEnterStateMove							= WRElitesVoiceEnterStateMove
	VoiceEnterStateMoveToCamp					= WRElitesVoiceEnterStateMoveCamp
	VoiceEnterStateMoveWhileAttacking			= WRElitesVoiceEnterStateDisengage
	VoiceEnterStateRetreatToCastle				= WRElitesVoiceEnterStateMoveCamp

	SoundImpact 								= ImpactHorse

	UnitSpecificSounds
		VoiceEnterStateInitiateCaptureBuilding	= WRElitesVoiceMove
		VoiceEnterUnitElvenTransportShip		= WRElitesVoiceGarrison
		VoiceGarrison							= WRElitesVoiceGarrison   
		VoiceInitiateCaptureBuilding			= WRElitesVoiceMove	; From SpecialPower SpecialAbilityCaptureBuilding
	End

	CrowdResponseKey = Elf

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU					; Tie into LargeGroupAudio system
		Key = Humanoid_Male Elf Elf_Male Unit Infantry Elf_LorienWarrior
	End

	ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
		ModelCondition = Required:EMOTION_CELEBRATING	Excluded:DYING ENGAGED	Sound:EmotionElfCompilationVoxCheerSinglesLoop	;MOVING ATTACKING 
		ModelCondition = Required:EMOTION_TAUNTING		Excluded:DYING ENGAGED	Sound:EmotionElfCompilationVoxTauntSinglesLoop	;MOVING ATTACKING
		;ModelCondition = Required:EMOTION_POINTING		Excluded:DYING ENGAGED	Sound:EmotionElfCompilationVoxTauntSinglesLoop
		ModelCondition = Required:RAISING_FLAG			Excluded:DYING ENGAGED	Sound:EmotionElfCompilationVoxTauntSinglesLoop
	End

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound:ArrowDrawBow					Animation:RUElfWar_SKL.ruelfwar_atkaa1	Frames:6
		AnimationSound = Sound:ArrowDrawBow					Animation:RUElfWar_SKL.ruelfwar_atkaa2	Frames:18

		AnimationSound = Sound:SwordShingClean1ForHordes 		Animation:RUElfWar_SKL.RUElfWar_STHA 	Frames:24
		AnimationSound = Sound:SwordIntoScabbard1ForHordes		Animation:RUElfWar_SKL.RUElfWar_STHB 	Frames:9
		AnimationSound = Sound:WeaponSwitchBowForHordes		 	Animation:RUElfWar_SKL.RUElfWar_STHB 	Frames:15

		AnimationSound = Sound:SwordShingClean1ForHordes 		Animation:RUElfWar_SKL.RUElfWar_STHC 	Frames:20
		AnimationSound = Sound:SwordIntoScabbard1ForHordes		Animation:RUElfWar_SKL.RUElfWar_STHD 	Frames:5
		AnimationSound = Sound:WeaponSwitchBowForHordes 		Animation:RUElfWar_SKL.RUElfWar_STHD 	Frames:8

		AnimationSound = Sound:SwordShingClean1ForHordes 		Animation:RUElfWar_SKL.RUElfWar_RUNC 	Frames:14
		AnimationSound = Sound:SwordIntoScabbard1ForHordes 		Animation:RUElfWar_SKL.RUElfWar_RUNT 	Frames:4
		AnimationSound = Sound:WeaponSwitchBowForHordes 		Animation:RUElfWar_SKL.RUElfWar_RUNT 	Frames:16

		AnimationSound = Sound:BodyFallSoldier				Animation:RUElfWar_SKL.RUElfWar_LNDA	Frames:9
		AnimationSound = Sound:BodyFallSoldier				Animation:RUElfWar_SKL.RUElfWar_LNDB	Frames:1

		AnimationSound = Sound:BodyFallGenericNoArmor			Animation:RUElfWar_SKL.RUElfWar_DIEB 	Frames:82
		AnimationSound = Sound:BodyFallSoldier				Animation:RUElfWar_SKL.RUElfWar_DIEBV5 	Frames:25
		AnimationSound = Sound:BodyFallSoldier				Animation:RUElfWar_SKL.RUElfWar_DIESV4 	Frames:26
		AnimationSound = Sound:BodyFallGenericNoArmor			Animation:RUElfWar_SKL.RUElfWar_DIESV5	Frames:100
	End

	;------------------ AnimationAudio ---- ElvenWarriorVoice WeaponModes ---------------
	;
	;  This was the old hookup for ElvenWarriorVoice switch bow or sword; now it's in CommandButton.INI
	;
	;ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
	;	MaxUpdateRangeCap = 800
	;	AnimationSound = Sound: ElvenWarriorVoiceModeSword Animation: EULorWar_STHA Frames: 0
	;	AnimationSound = Sound: ElvenWarriorVoiceModeBow Animation: EULorWar_STHB Frames: 0
	;	AnimationSound = Sound: ElvenWarriorVoiceModeSword Animation: EULorWar_RUNC Frames: 0
	;	AnimationSound = Sound: ElvenWarriorVoiceModeBow Animation: EULorWar_RUNT Frames: 0
	;End


	; *** ENGINEERING Parameters ***

	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY SCORE THROWN_OBJECT PATH_THROUGH_EACH_OTHER ATTACK_NEEDS_LINE_OF_SIGHT GRAB_AND_DROP
	
	Body = ActiveBody ModuleTag_02
		CheerRadius 	  = EMOTION_CHEER_RADIUS
		MaxHealth         = 500   ;450 ;ELVEN_LORIENWARRIOR_HEALTH			;BALANCE RohanElvenWarrior
		MaxHealthDamaged  = 75 ;ELVEN_LORIENWARRIOR_HEALTH_DAMAGED		
		BurningDeathBehavior = Yes
		BurningDeathFX       = FX_InfantryBurningFlame
	End
	
	;Fire arrow upgrade
	;Behavior = WeaponSetUpgrade ModuleTag_WeaponSetUpgradeTag
	;	TriggeredBy = Upgrade_ElvenSilverthornArrows
	;	CustomAnimAndDuration   = AnimState:USER_4 AnimTime:0 TriggerTime:0 ;set flag forever
	;End
	
	;Switch arrows being displayed.
	;Behavior = SubObjectsUpgrade ModuleTag_FireArrowSwapUpgrade
	;	TriggeredBy		= Upgrade_ElvenSilverthornArrows
	;	ShowSubObjects	= FireArowTip
	;End	
		
	;-------- FORGED BLADES UPGRADE ------------------------------------------------------------
	
	Behavior = WeaponSetUpgrade WeaponSetUpgradeModuleTag
		TriggeredBy		= Upgrade_MirkwoodForgedBlades
	End
		Behavior = WeaponSetUpgrade ModuleTag_ElvenProwess
		TriggeredBy		= Upgrade_ObjectLevel2
		WeaponCondition		   = WEAPONSET_TOGGLE_1
	End
	
	Behavior = SubObjectsUpgrade ForgedBlades_Upgrade
		TriggeredBy	= Upgrade_MirkwoodForgedBlades   ;Upgrade_ElvenForgedBlades
		ShowSubObjects	= Forged_Blades
	End

	;-------- ARMOUR UPGRADE -------------------------------------------------------------------
	
	; Behavior = SubObjectsUpgrade Armor_Upgrade
		; TriggeredBy		= Upgrade_ArnorHeavyArmor
		; RecolorHouse			= Yes
		; ExcludeSubobjects		= Forged_Blade
	; End
	
	; Behavior = ArmorUpgrade ArmorUpgradeModuleTag
		; TriggeredBy = Upgrade_ArnorHeavyArmor
	; End
	
	; Behavior = AttributeModifierUpgrade ModuleTag_ModelSwap
		; TriggeredBy			= Upgrade_ArnorHeavyArmor
		; AttributeModifier	= RivendellElvenArmor
	; End
	
		Behavior = SubObjectsUpgrade Armor_Upgrade
		TriggeredBy		= Upgrade_SindarinHeavyArmor
		UpgradeTexture	= tugreenwood.tga 0 tugreenwood_HA.tga
		RecolorHouse			= Yes
		ExcludeSubobjects		= Forged_Blades
		ShowSubObjects	= HELMETHA
		HideSubObjects	= HELMET
	End
	
	Behavior = AttributeModifierUpgrade ModuleTag_ElvenGiftBonus
		TriggeredBy = Upgrade_SindarinHeavyArmor
		AttributeModifier = SilverandJewels
	End


	;-------------------------------------------------------------------------------------------
	;Wambly - Updated AI Preferences

	Behavior = AIUpdateInterface ModuleTag_03
	;	AutoAcquireEnemiesWhenIdle		= Yes ATTACK_BUILDINGS STEALTHED
	AutoAcquireEnemiesWhenIdle		= Yes 
		MoodAttackCheckRate				= 500
;;,;;		CanAttackWhileContained			= Yes		
;		HoldGroundCloseRangeDistance	= 41
		AILuaEventsList					= MirkwoodSlayerFunctions
		AttackPriority				= 	AttackPriority_ARCHER
		BurningDeathTime				= BURNINGDEATH_DURATION_INFANTRY
	End

	LocomotorSet
		Locomotor = HumanLocomotor
		Condition = SET_NORMAL 
		Speed     = NORMAL_FOOT_MED_MEMBER_SPEED
	End

	LocomotorSet
		Locomotor = HumanWanderLocomotor
		Condition = SET_WANDER
		Speed     = NORMAL_FOOT_MED_MEMBER_SPEED
	End

	LocomotorSet
		Locomotor = HumanPanicLocomotor
		Condition = SET_PANIC
		Speed	  = NORMAL_FOOT_MED_MEMBER_SPEED
	End
	
	LocomotorSet
		Locomotor = HumanScaredLocomotor
		Condition = SET_SCARED
		Speed	  = NORMAL_FOOT_MED_MEMBER_SPEED
	End
		
	LocomotorSet
		Locomotor = BurningDeathLocomotorInfantry
		Condition = SET_BURNINGDEATH
		Speed	  = BURNINGDEATH_WANDERSPEED_INFANTRY
	End

	; Fire arrow upgrade
	;Behavior = WeaponSetUpgrade ModuleTag_14
	;	TriggeredBy = Upgrade_ElvenSilverthornArrows
	;End
	
	;Behavior = DualWeaponBehavior ModuleTag_13
	;	SwitchWeaponOnCloseRangeDistance = 41
	;End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End
	
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -FADED
		SinkDelay = 3000
		SinkRate = 0.5     ; in Dist/Sec
		DestructionDelay = 15000
        Sound = INITIAL SindarElfGenericVoiceDie
        DeathFlags = DEATH_1
	End
	
  	Behavior = SlowDeathBehavior ModuleTag_FadeDeath
		DeathTypes = NONE +FADED
		FadeDelay = 0
		FadeTime = 5000
		DestructionDelay = 5000
        DeathFlags = DEATH_2
        FX = INITIAL FX_UnSummonElvenAllies
	End
  
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End

	Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
		; 
		FirstHeight = 25  ; Height of Bezier control points above highest intervening terrain
		SecondHeight = 25
		FirstPercentIndent = 30% ; Percentage of shot distance control points are placed
		SecondPercentIndent = 70%
		TumbleRandomly = Yes

		CrushStyle = Yes ; I don't detonate, I just hit
		DieOnImpact = Yes
		BounceCount = 1   ; When I hit the ground, I'll arc again
		BounceDistance = 41 ; this far
		BounceFirstHeight = 25  ; Height of Bezier control points above highest intervening terrain
		BounceSecondHeight = 25
		BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
		BounceSecondPercentIndent = 80%

		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End
	 ;------------------Prowess passives----------------------------------------------------
 	Behavior = LargeGroupBonusUpdate ModuleTag_HatredBuff1
		UpdateRate		= 1000
		HordeMemberFilter	= NONE +GreenwoodSlayerProwessEgg
		Count			= 2
		Radius			= 15
		RubOffRadius		= 1.0
		AlliesOnly		= Yes
		AttributeModifier	= TerrorOfTheMountainSelfBuff1
	End
	Behavior = LargeGroupBonusUpdate ModuleTag_HatredBuff2
		UpdateRate		= 1000
		HordeMemberFilter	= NONE +GreenwoodSlayerProwessEgg 
		Count			= 3
		Radius			= 15
		RubOffRadius		= 1.0
		AlliesOnly		= Yes
		AttributeModifier	= TerrorOfTheMountainSelfBuff2
	End
	Behavior = LargeGroupBonusUpdate ModuleTag_HatredBuff3
		UpdateRate		= 1000
		HordeMemberFilter	= NONE +GreenwoodSlayerProwessEgg
		Count			= 4
		Radius			= 15
		RubOffRadius		= 1.0
		AlliesOnly		= Yes
		AttributeModifier	= TerrorOfTheMountainSelfBuff3
	End
	Behavior = LargeGroupBonusUpdate ModuleTag_HatredBuff4
		UpdateRate		= 1000
		HordeMemberFilter	= NONE +GreenwoodSlayerProwessEgg
		Count			= 5
		Radius			= 15
		RubOffRadius		= 1.0
		AlliesOnly		= Yes
		AttributeModifier	= TerrorOfTheMountainSelfBuff4
	End
	Behavior = LargeGroupBonusUpdate ModuleTag_HatredBuff5
		UpdateRate		= 1000
		HordeMemberFilter	= NONE +GreenwoodSlayerProwessEgg 
		Count			= 6
		Radius			= 15
		RubOffRadius		= 1.0
		AlliesOnly		= Yes
		AttributeModifier	= TerrorOfTheMountainSelfBuff5
	End
	;-------------------------------------------------------------------------
	; ;-------------------------------------------------------------------------
	; ; Evenstar - Units
	; ;-------------------------------------------------------------------------
	; Behavior = WeaponSetUpgrade WeaponSetUpgradeModuleTag_Evenstar
		; TriggeredBy		= Upgrade_DwarvenForgedBlades
	; End
    ; Behavior = ObjectCreationUpgrade ModuleTag_RemoveUpgrades1
		; TriggeredBy = Upgrade_DwarvenForgedBlades
		; RemoveUpgrade = Upgrade_RohanForgedBlades
    ; End
    ; Behavior = ObjectCreationUpgrade ModuleTag_RemoveUpgrades2
		; TriggeredBy = Upgrade_RohanForgedBlades
		; RemoveUpgrade = Upgrade_DwarvenForgedBlades
    ; End
	;-------------------------------------------------------------------------	

	;-----------------
	
	Scale = 1.05

	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = Yes
	Shadow = SHADOW_DECAL
	ShadowSizeX = 14;
	ShadowSizeY = 14;
	ShadowTexture = ShadowI;
End
Object GreenwoodSlayerProwessEggHorde

    Draw = W3DScriptedModelDraw ModuleTag_W3DModelDraw
        DependencySharedModelFlags = EMOTION_ALERT EMOTION_MORALE_HIGH EMOTION_MORALE_LOW EMOTION_AFRAID EMOTION_COWER EMOTION_TERROR EMOTION_LOOK_TO_SKY EMOTION_TAUNTING EMOTION_POINTING SELECTED
        DefaultModelConditionState
            Model = None
        End

        ModelConditionState = HORDE_EMPTY
            Model = None
        End            
    End

   CommandPoints        = 0

    KindOf = UNATTACKABLE

    Body = ImmortalBody ModuleTag_ImmortalBody
        MaxHealth = 1
    End

    Behavior = HordeAIUpdate ModuleTag_HordeAIUpdate
		 AILuaEventsList             = InfantryFunctions
    End

    Behavior = HordeContain ModuleTag_HordeContain
        ObjectStatusOfContained =
        InitialPayload          = GreenwoodSlayerProwessEgg 1
        Slots                   = 1
        PassengerFilter         = NONE +CREEP
        RankInfo                = RankNumber:1 UnitType:GreenwoodSlayerProwessEgg Position:X:0 Y:0   
    End

	Behavior = SlavedUpdate ModuleTag_Slave
    LeashRange = 1
	GuardMaxRange = 1      ;How far away from master I'm allowed when master is idle (doesn't wander)
    GuardWanderRange = 0   ;How far away I'm allowed to wander from master while guarding.
	AttackRange = 1        ;How far away from master I'm allowed when master is attacking a target.
    AttackWanderRange = 0  ;How far I'm allowed to wander from target.
     ScoutRange = 1         ;How far away from master I'm allowed when master is moving.
     ScoutWanderRange = 0   ;How far I'm allowed to wander from scout point.
    DieOnMastersDeath = Yes
    UseSlaverAsControlForEvaObjectSightedEvents = Yes
    MarkUnselectable = Yes
	End
	
    LocomotorSet
        Locomotor     = InvisiblePingLocomotor
        Condition     = SET_NORMAL
        Speed         = 1000
    End 
	
     Behavior = DeletionUpdate ModuleTag_032 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me. 
        MinLifetime = 9000   
        MaxLifetime = 9000   
    End
End

Object GreenwoodSlayerProwessEgg

	Draw = W3DScriptedModelDraw ModuleTag_Draw
        DefaultModelConditionState
            Model = None
        End
    End

    CommandPoints = 10

    TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT
    KindOf    = PRELOAD PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT CREEP UNATTACKABLE
    ThreatLevel        = 0
   
    // *** ENGINEERING Parameters ***
    Body = ActiveBody ModuleTag_011
        MaxHealth        = 1000
        InitialHealth    = 1000
    End
	
	Behavior = AIUpdateInterface ModuleTag_03
    End
	
    LocomotorSet
        Locomotor     = InvisiblePingLocomotor
        Condition     = SET_NORMAL
        Speed         = 1000
    End 	

    Behavior = DeletionUpdate ModuleTag_032 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me. 
        MinLifetime = 9000   
        MaxLifetime = 9000   
    End

	Behavior = AttributeModifierAuraUpdate ModuleTag_GrimResolve
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= TerrorOfTheMountainSelfBuffVisual
		RefreshDelay	= 2000
		Range			= 15
		ObjectFilter	= NONE +GreenwoodSlayer
	End

End

ChildObject MirkwoodFerenSlayer_Summoned GreenwoodSlayer
	EquivalentTo					= GreenwoodSlayer
	IsTrainable						= No
	KindOf							= +SUMMONED
	CommandPoints = 0
	Behavior = LifetimeUpdate ModuleTag_LifetimeUpdate
	// This one does the work, but the one in the horde displays the timer
		MinLifetime		= CREATE_A_HERO_REINFORCEMENT_LIFETIME
		MaxLifetime		= CREATE_A_HERO_REINFORCEMENT_LIFETIME
		DeathType		= FADED
	End
  	Behavior = SlowDeathBehavior ModuleTag_SlowDeathFaded
		DeathTypes			= NONE +FADED
		FadeDelay			= 0
		FadeTime			= 5000
		DestructionDelay	= 5000
        DeathFlags			= DEATH_2
        FX					= INITIAL FX_UnSummonElvenAllies
		Sound				= INITIAL SpellGenericUnsummonFasterMS
	End
End

ChildObject GreenwoodSlayer_RhovanionAlliance GreenwoodSlayer
	EquivalentTo					= GreenwoodSlayer
	IsTrainable						= No
	KindOf							= +SUMMONED
	CommandPoints = 0
	Behavior = LifetimeUpdate ModuleTag_LifetimeUpdate
	// This one does the work, but the one in the horde displays the timer
		MinLifetime		= 60000
		MaxLifetime		= 60000
		DeathType		= FADED
	End
  	Behavior = SlowDeathBehavior ModuleTag_SlowDeathFaded
		DeathTypes			= NONE +FADED
		FadeDelay			= 0
		FadeTime			= 5000
		DestructionDelay	= 5000
        DeathFlags			= DEATH_2
        FX					= INITIAL FX_UnSummonElvenAllies
		Sound				= INITIAL SpellGenericUnsummonFasterMS
	End
End
;------------------------------------------------------------------------------------------------------------
;------------------------------------------------------------------------------------------------------------
ChildObject GreenwoodSlayer_Patrol GreenwoodSlayer
	CommandPoints = 0
	EquivalentTo = GreenwoodSlayer

	Draw = W3DHordeModelDraw ModuleTag_01

	  OkToChangeModelColor = Yes
	  
    StaticModelLODMode = no ; Will append M or L to the skin name depending on GameLOD

    
;;====================== MODELS ================================================================
;		DefaultModelConditionState
;			Model					= EULorWar_SKN
;			Skeleton				= EULorWar_SKL
;			WeaponLaunchBone			= PRIMARY ARROW
;			WeaponLaunchBone			= SECONDARY ARROWNOCK	; when upgraded to flaming arrow
;		End

; --------- With Sword ------------
;		ModelConditionState				= WEAPONSET_TOGGLE_1
;			Model					= EULorWar_SKN
;			Skeleton				= EULorWar_SKL
;		End

; --------- With Fire arrows Upgrade  ------------
;		ModelConditionState				= WEAPONSET_PLAYER_UPGRADE USER_4
;			Model					= EULorWar_SKN
;			Skeleton				= EULorWar_SKL
;			WeaponLaunchBone			= PRIMARY ARROW
;			WeaponLaunchBone			= SECONDARY ARROWNOCK	; when upgraded to flaming arrow
;		;	ParticleSysBone				= FireArowTip arrowFire FollowBone:Yes
;		;	ParticleSysBone				= FireArowTip arrowFire FollowBone:Yes
;		End

		DefaultModelConditionState
			Model				= tuslayer_skn
			Skeleton			= RUElfWar_SKL
;			Model     = eurivswrd_skna  ExtraMesh:Yes
;			Model     = eurivswrd_sknb  ExtraMesh:Yes
		End
		
		ModelConditionState = RIDER2		; This state is used for Noldor Armor
			Model               = eurivswrd_sknh
			Skeleton            = RUElfWar_SKL
		        Model     = eurivswrd_sknah  ExtraMesh:Yes
				Model     = eurivswrd_sknbh  ExtraMesh:Yes
		End

;;================== ANIMATIONS =================================================================

		; ------ Flying ------- ;
		
		AnimationState					= PASSENGER
			StateName				= STATE_Grabbed
			Animation           		= Sword
				AnimationName       	= RUElfWar_FLLA
				AnimationMode       	= LOOP
			End
		End
		
		
		AnimationState					= FREEFALL
			StateName				= STATE_Falling
			Animation           		= Sword
				AnimationName       	= RUElfWar_FLYB
				AnimationMode       	= LOOP
			End
		End
		
		AnimationState					= FREEFALL
			StateName				= STATE_Falling
			Animation           		= Sword
				AnimationName       	= RUElfWar_FLYB
				AnimationMode       	= LOOP
			End
		End
		
		AnimationState        				= STUNNED_FLAILING
			StateName				= STATE_Fly
			Animation           		= Sword
				AnimationName       	= RUElfWar_FLYB
				AnimationMode       	= LOOP
			End
			Flags					= MAINTAIN_FRAME_ACROSS_STATES2
		End

		AnimationState        				= STUNNED_FLAILING
			StateName				= STATE_Fly
			Animation           		= Sword
				AnimationName       	= RUElfWar_FLYB
				AnimationMode       	= LOOP
			End
			Flags					= MAINTAIN_FRAME_ACROSS_STATES2
		End
		
		AnimationState					= DYING BURNINGDEATH
			Animation           		= Sword1
				AnimationName       	= RUElfWar_DIESv5
				AnimationMode       	= ONCE
			End
			Animation           		= Sword2
				AnimationName       	= RUElfWar_DIESV4
				AnimationMode       	= ONCE
			End
		End
		
		AnimationState					= BURNINGDEATH
			Animation			= Terror
				AnimationName		= RUElfWar_RUNN
				AnimationMode		= LOOP
			End
		End

		AnimationState					= DYING DEATH_1 SPLATTED
			StateName				= STATE_Dead
			Animation				= Sword
				AnimationName			= RUElfWar_LNDB
				AnimationMode			= ONCE
			End
		End
		
		
				; ------ Dying ------- ;

		AnimationState        			= DYING DEATH_1
			Animation           		= Sword1
				AnimationName       	= RUElfWar_DIESv5
				AnimationMode       	= ONCE
			End
			Animation           		= Sword2
				AnimationName       	= RUElfWar_DIESV4
				AnimationMode       	= ONCE
			End
			
		End
		
		AnimationState        			= DYING DEATH_2
			Animation				= Alert_1
				AnimationName			= RUElfWar_IDLST1
				AnimationMode			= LOOP
			End
		End
		
		AnimationState				= PARALYZED
			Animation				= Alert_1
				AnimationName			= RUElfWar_IDLST1
				AnimationMode			= LOOP
			End
		End


		AnimationState        			= STUNNED_STANDING_UP
			StateName			= STATE_GetUp
			Animation           		= Sword
				AnimationName       	= RUElfWar_GTPSX1
				AnimationMode       	= ONCE
			End
			Flags				= MAINTAIN_FRAME_ACROSS_STATES4
		End

		AnimationState        			= STUNNED
			StateName			= STATE_Land
			Animation           		= Sword
				AnimationName       	= RUElfWar_LNDB
				AnimationMode       	= ONCE
			End
		End

				
;;======== TERROR

		AnimationState					= MOVING EMOTION_TERROR
			StateName				= Moving_Sword
			Animation			= Terror
				AnimationName		= RUElfWar_RUNN
				AnimationMode		= LOOP
			End
		End



		; ------ Attacking ------- ;
		
		AnimationState        			= FIRING_OR_PREATTACK_A
			StateName					= Ready_Sword
			Animation           		= AttackWithSwordA
				AnimationName       	= RUElfWar_ATKSV2
				AnimationMode       	= ONCE
				UseWeaponTiming			= Yes
			End
			Animation           		= AttackWithSwordB
				AnimationName       	= RUElfWar_ATKS
				AnimationMode       	= ONCE
				UseWeaponTiming		= Yes
			End
			Animation           		= AttackWithSwordD
				AnimationName       	= RUElfWar_ATKSV4
				AnimationMode       	= ONCE
				UseWeaponTiming		= Yes
			End
		End

		
;;------------------------- BACKUP --------------------------------------------------------------------


		AnimationState					= MOVING BACKING_UP
			StateName				= STATE_BackingUp
			Animation				= Sword
				AnimationName			= RUElfWar_BAKS
				AnimationMode			= LOOP
			End
			Flags					= MAINTAIN_FRAME_ACROSS_STATES4
		End

	
		; ------------ Moving ------------- ;

		AnimationState        				= MOVING ATTACKING
			StateName				= Moving_Sword
			SimilarRestart				= Yes
			Animation           		= run_s
				AnimationName       	= RUElfWar_RUNS
				AnimationMode       	= LOOP
			End
		End
				
		AnimationState        				= MOVING ALTERNATE_FORMATION
			StateName				= Moving_Sword
			SimilarRestart				= Yes
			Animation           		= run_s
				AnimationName       	= RUElfWar_RUNS
				AnimationMode       	= LOOP
			End
		End				
		
		AnimationState        				= MOVING
			StateName				= Moving_Sword
			SimilarRestart				= Yes
			Animation           		= run_s
				AnimationName       	= RUElfWar_WLKA
				AnimationMode       	= LOOP
				AnimationSpeedFactorRange = 1.2 1.2					
			End
		End

		AnimationState					= EMOTION_UNCONTROLLABLY_AFRAID
			StateName				= STATE_Emotion_Sword
			Animation				= Sword
				AnimationName			= RUElfWar_FERS
				AnimationMode			= ONCE
			End
			Flags					= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
		End

		
	
		; -------- Alert ------- ;

		AnimationState					= EMOTION_AFRAID
			StateName					= STATE_Emotion_Sword
			Animation				= Sword
				AnimationName			= RUElfWar_FERS
				AnimationMode			= ONCE
			End
			Flags						= RANDOMSTART
		End
		
		AnimationState					= EMOTION_ALERT
			StateName					= Ready_Sword
			Animation				= Alert_1
				AnimationName			= RUElfWar_IDLST1
				AnimationMode			= LOOP
			End
			Flags						= RANDOMSTART
		End		
		
		AnimationState					= ALTERNATE_FORMATION
			StateName					= Ready_Sword
			Animation				= Alert_1
				AnimationName			= RUElfWar_IDLST1
				AnimationMode			= LOOP
			End
			Flags						= RANDOMSTART
		End

		AnimationState					= ENGAGED
			StateName					= Ready_Sword
			Animation				= Alert_1
				AnimationName			= RUElfWar_IDLST1
				AnimationMode			= LOOP
			End
		End

		AnimationState					= ATTACKING
			StateName					= Ready_Sword
			Animation				= Alert_1
				AnimationName			= RUElfWar_IDLST1
				AnimationMode			= LOOP
			End
		End
		
	
		
;;------------ EMOTIONS ------------------------------------------------------------------
;;======= AFRAID


		
;;====== CELEBRATING		

		AnimationState					= EMOTION_CELEBRATING
			StateName					= STATE_Emotion_Sword
			Animation					= Sword
				AnimationName			= RUElfWar_CHRST2
				AnimationMode			= ONCE
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
		End


;;====== TAUNTING

		AnimationState					= EMOTION_TAUNTING
			StateName					= STATE_Emotion_Sword
			Animation					= Sword
				AnimationName			= RUElfWar_TNTSV1
				AnimationMode			= ONCE
			End
			Animation					= Sword
				AnimationName			= RUElfWar_CHRST2
				AnimationMode			= ONCE
			End
			Flags						= RESTART_ANIM_WHEN_COMPLETE ;MAINTAIN_FRAME_ACROSS_STATES
		End


;;====== POINTING

		AnimationState					= EMOTION_POINTING
			StateName					= STATE_Emotion_Sword
			Animation					= Sword
				AnimationName			= RUElfWar_PNTB
				AnimationMode			= ONCE
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
		End
		
		AnimationState					= RAISING_FLAG
			StateName					= STATE_Emotion_Sword
			Animation					= Sword
				AnimationName			= RUElfWar_CHRST2
				AnimationMode			= ONCE
			End
			Flags						= RESTART_ANIM_WHEN_COMPLETE
		End
		; ------ Selected ------ ;

		AnimationState				=	SELECTED
			StateName				=	STATE_Selected
			Animation
				AnimationName		=	RUElfWar_ATNS
				AnimationMode		=	LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev ~= "STATE_Selected" and Prev ~= "TRANS_IdleToSelected" then
					CurDrawableSetTransitionAnimState("TRANS_IdleToSelected")
				end
			EndScript
		End
		
		TransitionState = TRANS_IdleToSelected
			Animation
				AnimationName     = RUElfWar_ATNA
				AnimationMode     = ONCE
				AnimationSpeedFactorRange = 0.9 1.1
			End
		End
		TransitionState = TRANS_SelectedToIdle
			Animation
				AnimationName	= RUElfWar_ATNA
				AnimationMode	= ONCE_BACKWARDS
				AnimationSpeedFactorRange = 0.9 1.1
			End
		End

		
		; --------- Hit Reactions ---------- ;
		
;		AnimationState						= HIT_REACTION HIT_LEVEL_1
;			StateName						= Bored_Sword
;			Animation						= Hit_Level_1_a
;				AnimationName				= RUElfWar_HITE
;				AnimationMode				= ONCE
;			End
;		End
		
		
		; ------- Bored -------- ;
		
		IdleAnimationState
			StateName					= Bored_Sword
			Animation           		= Idle_Sword1
				AnimationName       	= RUElfWar_IDLG
				AnimationMode       	= ONCE
			End
			Animation           		= Idle_Sword2
				AnimationName       	= RUElfWar_IDLCT1
				AnimationMode       	= ONCE
			End
			Animation           		= Idle_Sword3
				AnimationName       	= RUElfWar_IDLCT3
				AnimationMode       	= ONCE
			End
			Animation			= IdleNoFidget
				AnimationName		= RUElfWar_IDLF
				AnimationMode		= ONCE
				AnimationPriority	= 20
			End
			Animation			= IdleNoFidget2
				AnimationName		= RUElfWar_IDLF
				AnimationMode		= ONCE
				AnimationPriority	= 0
			End
			Flags						= RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Selected" then
					CurDrawableSetTransitionAnimState("TRANS_SelectedToIdle")
				end
			EndScript
		End
		
	End

	Behavior = SlavedUpdate ModuleTag_Slave
		GuardMaxRange		= 200.0 ;100.0
		GuardWanderRange	= 100.0
		DieOnMastersDeath		= Yes
		MarkUnselectable		= Yes
	End
	
	VisionRange = PATROL_MELEE_VISION_RANGE
	VisionSide = 35%
	VisionRear = 25%
	VisionBonusPercentPerFoot = 5.0%
	ShroudClearingRange = PATROL_SHROUD_CLEARING_RANGE	
	
	Body = ActiveBody ModuleTag_02
		CheerRadius 	  = EMOTION_CHEER_RADIUS
		MaxHealth         = PATROL_NORMAL_HEALTH
		BurningDeathBehavior = Yes
		BurningDeathFX       = FX_InfantryBurningFlame
	End
	
	//// WEAPON SETS ////
	WeaponSet
		Conditions		= None 
		Weapon			= PRIMARY    PatrolNormalSword
		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions		= PLAYER_UPGRADE
		Weapon			= PRIMARY	PatrolNormalSword
		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End

	//// ARMOUR SETS ////
	ArmorSet
		Conditions      = None
		Armor           = PatrolArmor
		DamageFX        = NormalDamageFX
	End
	ArmorSet
		Conditions      = PLAYER_UPGRADE
		Armor           = PatrolArmor
		DamageFX        = NormalDamageFX
	End
	
	Behavior = WeaponSetUpgrade WeaponSetUpgradeModuleTag
		TriggeredBy		= Upgrade_TechnologyMirkwoodForgedBlades
	End
	Behavior = SubObjectsUpgrade ForgedBlades_Upgrade
		TriggeredBy		= Upgrade_TechnologyMirkwoodForgedBlades
		ShowSubObjects	= Forged_Blades
	End

;	Behavior = ArmorUpgrade ArmorUpgradeModuleTag
;		TriggeredBy = Upgrade_TechnologyGondorHeavyArmor
;		ArmorSetFlag			= PLAYER_UPGRADE
;	End
	
;	Behavior = SubObjectsUpgrade Armor_Upgrade
;		TriggeredBy		= Upgrade_TechnologyGondorHeavyArmor
;	        ; UpgradeTexture	= gugondorian.tga 0 gugondorian_HA.tga
;	        ; UpgradeTexture	= gugondorian2.tga 0 gugondorian2_HA.tga
;	        ; UpgradeTexture	= gugondorian3.tga 0 gugondorian3_HA.tga
;	        ; UpgradeTexture	= gugondorian4.tga 0 gugondorian4_HA.tga
;	        ; UpgradeTexture	= gugondorian5.tga 0 gugondorian5_HA.tga
;		RecolorHouse	= Yes
;		ShowSubObjects	= HIPS SPAULDERS ;SHLDR BRACERS LEGARMOR
;		ExcludeSubobjects = Forged_Blade
;	End
		Behavior = SubObjectsUpgrade Armor_Upgrade
		TriggeredBy		= Upgrade_Evilboyos  ;Upgrade_SindarinHeavyArmor
		UpgradeTexture	= tugreenwood.tga 0 tugreenwood_HA.tga
		RecolorHouse			= Yes
		ExcludeSubobjects		= Forged_Blades
		ShowSubObjects	= HELMETHA
		HideSubObjects	= HELMET
	End
	
	Behavior = AttributeModifierUpgrade ModuleTag_ElvenGiftBonus
		TriggeredBy = Upgrade_Evilboyos  ;Upgrade_SindarinHeavyArmor
		AttributeModifier = SilverandJewels
	End	

	LocomotorSet
		Locomotor = PatrolLocomotor ; HumanLocomotor
		Condition = SET_NORMAL 
		Speed     = 16 ;NORMAL_FOOT_MED_MEMBER_SPEED
	End

	LocomotorSet
		Locomotor = BurningDeathLocomotorInfantry
		Condition = SET_BURNINGDEATH
		Speed	  = BURNINGDEATH_WANDERSPEED_INFANTRY
	End
End